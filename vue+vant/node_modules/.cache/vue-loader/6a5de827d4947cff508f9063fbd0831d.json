{"remainingRequest":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\dingCanMobile\\src\\views\\searchGoods.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\dingCanMobile\\src\\views\\searchGoods.vue","mtime":1592985052575},{"path":"G:\\dingCanMobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1587344995501},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1587344054728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBwYWdlTnVtPTE7Ly/pobXnoIEKZXhwb3J0IGRlZmF1bHR7CglkYXRhOmZ1bmN0aW9uKCl7CgkJcmV0dXJuewoJCQlzZWxsZXJJZDonJywvL+WVhuWutmlkCgkJCXNob3BOYW1lOicnLC8v5qCH6aKYCgkJCXNob3BJZDp0aGlzLiRyb3V0ZS5xdWVyeS5zaG9wSWQsLy/lupfpk7rkvKDpgJLnmoTlupfpk7ppZAoJCQlzaG9wTmFtZTp0aGlzLiRyb3V0ZS5xdWVyeS5zaG9wTmFtZSwvL+W6l+mTuuS8oOmAkueahOW6l+mTuuWQjeensAoJCQl3aW5MaXN0OltdLC8v56qX5Y+j5YiX6KGoCgkJCXN0YXI6MywvL+ivhOWIhgoJCQkvLyB3aW5TdGF0dXM6Jy4vc3RhdGljL2ltYWdlcy9pY29uL3l1ZGluZ19pY29uLnBuZycsLy/lm77niYcKCQkJc2VsbGVyU3RhdGU6W10sLy/llYblrrbnirbmgIEKCQkJaXNMb2FkaW5nOmZhbHNlLC8v5LiK5ouJ5Yi35pawCgkJfTsKCX0sCgljb21wb25lbnRzOnsKCQkKCX0sCgltb3VudGVkKCkgewoJCSAvLyDmu5rliqjliLDlupXliqDovb3mm7TlpJoKCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyx0aGlzLnJlYWNoQm90dG9tKQkJCSAgCgl9LAoJLy8g6ZSA5q+B55uR5ZCs5rua5Yqo5p2h5LqL5Lu2CglkZXN0cm95ZWQoKXsKCSAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5yZWFjaEJvdHRvbSkKCQljb25zb2xlLmxvZygn6ZSA5q+BJykKCSAgfSwKCW1ldGhvZHM6ewoJCS8vIOa7muWKqOWIsOW6leWKoOi9veabtOWkmgoJCXJlYWNoQm90dG9tKCl7CgkJCSAgLy/lj5jph49zY3JvbGxUb3DmmK/mu5rliqjmnaHmu5rliqjml7bvvIzot53nprvpobbpg6jnmoTot53nprsKCQkJICBsZXQgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgkJCSAgLy/lj5jph493aW5kb3dIZWlnaHTmmK/lj6/op4bljLrnmoTpq5jluqYKCQkJICBsZXQgd2luZG93SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKCQkJICAvL+WPmOmHj3Njcm9sbEhlaWdodOaYr+a7muWKqOadoeeahOaAu+mrmOW6pgoJCQkgIGxldCBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0fHxkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKCQkJCS8v5rua5Yqo5p2h5Yiw5bqV6YOo55qE5p2h5Lu2CgkJCQlpZihzY3JvbGxUb3Ard2luZG93SGVpZ2h0ID49IHNjcm9sbEhlaWdodCl7CgkJCQkJcGFnZU51bSsrOwoJCQkJCXRoaXMuZ2V0U2VhcmNoR29vZHMocGFnZU51bSk7CgkJCQkJY29uc29sZS5sb2coJ+WIsOW6leS6hicscGFnZU51bSkKCQkJCX0KCQl9LAoJCW9uUmVmcmVzaCgpIHsKCQkJICBzZXRUaW1lb3V0KCgpID0+IHsKCQkJCSAgdGhpcy53aW5MaXN0PVtdCgkJCQkgIHBhZ2VOdW09MTsKCQkJCSAgdGhpcy5nZXRTZWFyY2hHb29kcyhwYWdlTnVtKTsKCQkJCXRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgkJCSAgfSwgMTAwMCk7CgkJCX0sCgkJLy8g6I635Y+W5ZWG5ZOB5YiX6KGoCgkJZ2V0U2VhcmNoR29vZHMocGFnZU51bSl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJICBfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvb3JkZXJtZWFsL3NlYXJjaEdvb2RzJywKCQkJICBwYXJhbXM6IHsKCQkJCXBhZ2VOdW06cGFnZU51bSwKCQkJCXBhZ2VTaXplOjEwLAoJCQkJY0lkOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjSWQnKSwKCQkJCWtleXdvcmQ6X3RoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaFRleHQsLy/mkJzntKLlhbPplK7lrZcKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn5ZWG5ZOB5YiX6KGoJyxkYXRhKTsKCgkJCQlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlpZiAoZGF0YS5kYXRhLmRhdGEubGlzdC5sZW5ndGg8PTApIHsKCQkJCQkJX3RoaXMuJHRvYXN0KCfmmoLml6Dmm7TlpJrkv6Hmga8nKTsKCQkJCQl9ZWxzZSB7CgkJCQkJCXZhciBhcnI9ZGF0YS5kYXRhLmRhdGEubGlzdDsKCQkJCQkJZm9yICh2YXIgaT0wO2k8YXJyLmxlbmd0aDtpKyspIHsKCQkJCQkJCWFycltpXS5jb21tZW50U2NvcmU9TWF0aC5yb3VuZChhcnJbaV0uY29tbWVudFNjb3JlKS8v5Zub6IiN5LqU5YWl6K+E5Lu3CgkJCQkJCQlpZiAoYXJyW2ldLmRlbGl2ZXJ5TW9kZSkgewoJCQkJCQkJCWFycltpXS5kZWxpdmVyeU1vZGU9YXJyW2ldLmRlbGl2ZXJ5TW9kZS5zcGxpdCgnLCcpOy8v5ZWG5oi354q25oCB5a2X56ym5Liy6L2s5Li65pWw57uECgkJCQkJCQl9CgkJCQkJCQkKCQkJCQkJCS8vIOeql+WPo+eKtuaAge+8mmJ1c2luZXNzU3RhdGUhPTHkuLrokKXkuJrkuK3vvIwKCQkJCQkJCWlmKGFycltpXS5idXNpbmVzc1N0YXRlIT0xKXsKCQkJCQkJCQkvLyDlpoLmnpxidXNpbmVzc1N0YXRlIT0x77yM5YaN5Yik5pat5omA5pyJ5pe26Ze05q615piv5ZCm6YO95rKh6YCJ77yM6YO95rKh6YCJ5Li66JCl5Lia77yMCgkJCQkJCQkJaWYoIWFycltpXS5iZWdpblRpbWUxJiYhYXJyW2ldLmVuZFRpbWUxJiYhYXJyW2ldLmJlZ2luVGltZTImJiFhcnJbaV0uZW5kVGltZTImJiFhcnJbaV0uYmVnaW5UaW1lMyYmIWFycltpXS5lbmRUaW1lMyl7CgkJCQkJCQkJCWFycltpXS5idXNpbmVzc1N0YXRlPTA7CgkJCQkJCQkJCWNvbnNvbGUubG9nKDEpCgkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCS8vIOWQpuWImeWIpOaWreezu+e7n+aXtumXtOaYr+WQpuWcqOiuvue9rueahOaXtumXtOauteWGhe+8jOWmguaenOacieS4gOS4quWcqOaXtumXtOauteWGhe+8jOWImeiuvue9rueql+WPo+S4uuiQpeS4mgoJCQkJCQkJCQlpZihpc0R1cmluZ0RhdGUoYXJyW2ldLmJlZ2luVGltZTEsYXJyW2ldLmVuZFRpbWUxKXx8aXNEdXJpbmdEYXRlKGFycltpXS5iZWdpblRpbWUyLGFycltpXS5lbmRUaW1lMil8fGlzRHVyaW5nRGF0ZShhcnJbaV0uYmVnaW5UaW1lMyxhcnJbaV0uZW5kVGltZTMpKXsKCQkJCQkJCQkJCWNvbnNvbGUubG9nKDIpCgkJCQkJCQkJCQlhcnJbaV0uYnVzaW5lc3NTdGF0ZT0wOwoJCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJCS8vIOWQpuWImeiuvue9rueql+WPo+iQpeS4mueKtuaAgeS4uuS8keaBrwoJCQkJCQkJCQkJY29uc29sZS5sb2coMykKCQkJCQkJCQkJCWFycltpXS5idXNpbmVzc1N0YXRlPTE7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQljb25zb2xlLmxvZyg0KQoJCQkJCQkJCWFycltpXS5idXNpbmVzc1N0YXRlPTE7CgkJCQkJCQkJYXJyW2ldLndpblN0YXRlPScuL3N0YXRpYy9pbWFnZXMvaWNvbi9yZXN0X2ljb24ucG5nJwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQlpZiAoIWFycltpXS5nb29kc1BpYykgewoJCQkJCQkJCWFycltpXS5nb29kc1BpYz0nLi9zdGF0aWMvaW1hZ2VzL2ljb24vZGVmYXVsdDEucG5nJzsKCQkJCQkJCX1lbHNlewoJCQkJCQkJCWFycltpXS5nb29kc1BpYz1zZWxsZXJQb3J0K2FycltpXS5nb29kc1BpYwoJCQkJCQkJfQoJCQkJCQkJX3RoaXMud2luTGlzdC5wdXNoKGFycltpXSkKCQkJCQkJfQoJCQkJCQkKCQkJCQl9CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgoKCQkvLyDot7PovazliLDnqpflj6Por6bmg4XvvIjnqpflj6PlkI3np7DjgIHnqpflj6NpZOOAgeWVhuWutmlk44CB6LW36YCB44CB6YWN6YCB44CB6YWN6YCB57G75Z6L77yI5aSW6YCB44CB6Ieq5o+Q44CB5Yiw5bqX55So6aSQ77yJ77yM56qX5Y+j6JCl5Lia54q25oCB77yIMeWPr+mihOiuojLkvJHmga/vvInvvIzmnIjplIDph4/vvIzmmJ/nuqfliIbmlbDvvIkKCQl0b1dpbkRldGFpbCh3aW5OYW1lLHdpbklkLHNlbGxlcklkLGRlbGl2ZXJ5TWluQW1vdW50LGRlbGl2ZXJ5RmVlLGRlbGl2ZXJ5TW9kZSx3aW5TdGF0ZSxvcmRlckNvdW50LHN0YXJTY29yZSl7CgkJCWNvbnNvbGUubG9nKHdpbk5hbWUsd2luSWQsc2VsbGVySWQsZGVsaXZlcnlNaW5BbW91bnQsZGVsaXZlcnlGZWUsZGVsaXZlcnlNb2RlKQoJCQl0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonL3dpbkRldGFpbCcscXVlcnk6e3dpbk5hbWU6d2luTmFtZSx3aW5JZDp3aW5JZCxzZWxsZXJJZDpzZWxsZXJJZCxkZWxpdmVyeU1pbkFtb3VudDpkZWxpdmVyeU1pbkFtb3VudCxkZWxpdmVyeUZlZTpkZWxpdmVyeUZlZT9kZWxpdmVyeUZlZTowLGRlbGl2ZXJ5TW9kZTpkZWxpdmVyeU1vZGUsd2luU3RhdGU6d2luU3RhdGUsb3JkZXJDb3VudDpvcmRlckNvdW50LHN0YXJTY29yZTpzdGFyU2NvcmV9fSk7CgkJCQoJCX0KCQkKCX0sCgljcmVhdGVkOmZ1bmN0aW9uKCl7CgkJcGFnZU51bT0xOwoJCXRoaXMuZ2V0U2VhcmNoR29vZHMocGFnZU51bSk7Cgl9Cn07Cg=="},{"version":3,"sources":["searchGoods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"searchGoods.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"win-list\">\r\n\t\t\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<top-fixed-nav title=\"商品\"></top-fixed-nav>\r\n\t\t<van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n\t\t\t<!-- 窗口列表 -->\r\n\t\t\t<div class=\"win-list\" style=\"min-height: 300px;\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"item in winList\" @click=\"toWinDetail(item.winName,item.winId,item.sellerId,item.deliveryMinAmount,item.deliveryFee,item.deliveryMode,item.businessState,item.orderCount,item.commentScore)\">\r\n\t\t\t\t\t\t<div class=\"win-img\"><img :src=\"item.goodsPic\"></div>\r\n\t\t\t\t\t\t<div class=\"win-info\">\r\n\t\t\t\t\t\t\t<p class=\"win-name\">{{item.goodsName}}</p>\r\n\t\t\t\t\t\t\t<p class=\"sell-num\"><span>月售{{item.sellCounter}}单</span></p>\r\n\t\t\t\t\t\t\t<p class=\"price\">\r\n\t\t\t\t\t\t\t\t<span v-show=\"item.deliveryMinAmount\" style=\"margin-right: 5px;\">起送￥{{item.deliveryMinAmount}}</span>\r\n\t\t\t\t\t\t\t\t<span class=\"g-price\">￥{{item.gPrice}}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"win-type\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span v-bind:class=\"[item1=='1'?'ws':item1=='2'?'zt':'dd']\" v-for=\"item1 in item.deliveryMode\">{{item1=='1'?'外送':item1=='2'?'自提':'到店用餐'}}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</van-pull-refresh>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\tvar pageNum=1;//页码\r\n\texport default{\r\n\t\tdata:function(){\r\n\t\t\treturn{\r\n\t\t\t\tsellerId:'',//商家id\r\n\t\t\t\tshopName:'',//标题\r\n\t\t\t\tshopId:this.$route.query.shopId,//店铺传递的店铺id\r\n\t\t\t\tshopName:this.$route.query.shopName,//店铺传递的店铺名称\r\n\t\t\t\twinList:[],//窗口列表\r\n\t\t\t\tstar:3,//评分\r\n\t\t\t\t// winStatus:'./static/images/icon/yuding_icon.png',//图片\r\n\t\t\t\tsellerState:[],//商家状态\r\n\t\t\t\tisLoading:false,//上拉刷新\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t // 滚动到底加载更多\r\n\t\t\twindow.addEventListener('scroll',this.reachBottom)\t\t\t  \r\n\t\t},\r\n\t\t// 销毁监听滚动条事件\r\n\t\tdestroyed(){\r\n\t\t    window.removeEventListener('scroll', this.reachBottom)\r\n\t\t\tconsole.log('销毁')\r\n\t\t  },\r\n\t\tmethods:{\r\n\t\t\t// 滚动到底加载更多\r\n\t\t\treachBottom(){\r\n\t\t\t\t  //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n\t\t\t\t  let scrollTop = document.documentElement.scrollTop||document.body.scrollTop;\r\n\t\t\t\t  //变量windowHeight是可视区的高度\r\n\t\t\t\t  let windowHeight = document.documentElement.clientHeight || document.body.clientHeight;\r\n\t\t\t\t  //变量scrollHeight是滚动条的总高度\r\n\t\t\t\t  let scrollHeight = document.documentElement.scrollHeight||document.body.scrollHeight;\r\n\t\t\t\t\t//滚动条到底部的条件\r\n\t\t\t\t\tif(scrollTop+windowHeight >= scrollHeight){\r\n\t\t\t\t\t\tpageNum++;\r\n\t\t\t\t\t\tthis.getSearchGoods(pageNum);\r\n\t\t\t\t\t\tconsole.log('到底了',pageNum)\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonRefresh() {\r\n\t\t\t\t  setTimeout(() => {\r\n\t\t\t\t\t  this.winList=[]\r\n\t\t\t\t\t  pageNum=1;\r\n\t\t\t\t\t  this.getSearchGoods(pageNum);\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t  }, 1000);\r\n\t\t\t\t},\r\n\t\t\t// 获取商品列表\r\n\t\t\tgetSearchGoods(pageNum){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t  _this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/ordermeal/searchGoods',\r\n\t\t\t\t  params: {\r\n\t\t\t\t\tpageNum:pageNum,\r\n\t\t\t\t\tpageSize:10,\r\n\t\t\t\t\tcId:localStorage.getItem('cId'),\r\n\t\t\t\t\tkeyword:_this.$route.query.searchText,//搜索关键字\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('商品列表',data);\r\n\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif (data.data.data.list.length<=0) {\r\n\t\t\t\t\t\t\t_this.$toast('暂无更多信息');\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tvar arr=data.data.data.list;\r\n\t\t\t\t\t\t\tfor (var i=0;i<arr.length;i++) {\r\n\t\t\t\t\t\t\t\tarr[i].commentScore=Math.round(arr[i].commentScore)//四舍五入评价\r\n\t\t\t\t\t\t\t\tif (arr[i].deliveryMode) {\r\n\t\t\t\t\t\t\t\t\tarr[i].deliveryMode=arr[i].deliveryMode.split(',');//商户状态字符串转为数组\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 窗口状态：businessState!=1为营业中，\r\n\t\t\t\t\t\t\t\tif(arr[i].businessState!=1){\r\n\t\t\t\t\t\t\t\t\t// 如果businessState!=1，再判断所有时间段是否都没选，都没选为营业，\r\n\t\t\t\t\t\t\t\t\tif(!arr[i].beginTime1&&!arr[i].endTime1&&!arr[i].beginTime2&&!arr[i].endTime2&&!arr[i].beginTime3&&!arr[i].endTime3){\r\n\t\t\t\t\t\t\t\t\t\tarr[i].businessState=0;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(1)\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t// 否则判断系统时间是否在设置的时间段内，如果有一个在时间段内，则设置窗口为营业\r\n\t\t\t\t\t\t\t\t\t\tif(isDuringDate(arr[i].beginTime1,arr[i].endTime1)||isDuringDate(arr[i].beginTime2,arr[i].endTime2)||isDuringDate(arr[i].beginTime3,arr[i].endTime3)){\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(2)\r\n\t\t\t\t\t\t\t\t\t\t\tarr[i].businessState=0;\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t// 否则设置窗口营业状态为休息\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(3)\r\n\t\t\t\t\t\t\t\t\t\t\tarr[i].businessState=1;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tconsole.log(4)\r\n\t\t\t\t\t\t\t\t\tarr[i].businessState=1;\r\n\t\t\t\t\t\t\t\t\tarr[i].winState='./static/images/icon/rest_icon.png'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (!arr[i].goodsPic) {\r\n\t\t\t\t\t\t\t\t\tarr[i].goodsPic='./static/images/icon/default1.png';\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tarr[i].goodsPic=sellerPort+arr[i].goodsPic\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.winList.push(arr[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 跳转到窗口详情（窗口名称、窗口id、商家id、起送、配送、配送类型（外送、自提、到店用餐），窗口营业状态（1可预订2休息），月销量，星级分数）\r\n\t\t\ttoWinDetail(winName,winId,sellerId,deliveryMinAmount,deliveryFee,deliveryMode,winState,orderCount,starScore){\r\n\t\t\t\tconsole.log(winName,winId,sellerId,deliveryMinAmount,deliveryFee,deliveryMode)\r\n\t\t\t\tthis.$router.push({path:'/winDetail',query:{winName:winName,winId:winId,sellerId:sellerId,deliveryMinAmount:deliveryMinAmount,deliveryFee:deliveryFee?deliveryFee:0,deliveryMode:deliveryMode,winState:winState,orderCount:orderCount,starScore:starScore}});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tcreated:function(){\r\n\t\t\tpageNum=1;\r\n\t\t\tthis.getSearchGoods(pageNum);\r\n\t\t}\r\n\t};\r\n</script>\r\n<style type=\"text/css\">\r\n.win-list li{position: relative;background: #fff;padding: 10px;overflow: hidden;margin: 10px;padding-right: 50px;}\r\n.win-list li .win-status{position: absolute;width: 50px;height: 50px;right: 0;top: 0;}\r\n.win-list li .win-img{width: 75px;height: 75px;background: #eee;float: left;margin-right: 10px;}\r\n.win-list li .win-img img{width: 75px;height: 75px;}\r\n.win-list .win-name{font-size: 16px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;height: 20px;line-height: 20px;}\r\n.win-list .sell-num{font-size: 12px;color: #999;margin: 5px 0;}\r\n.win-list .sell-num,.win-list .price{font-size: 12px;color: #999;}\r\n.win-list .win-type{font-size: 12px;position: absolute;bottom: 12px;right: 0;}\r\n.win-list .win-type span{padding: 0 4px;margin-right: 2px;}\r\n.win-list .win-type span.zt{background: #FFF5E8;color: #ECB061;}\r\n.win-list .win-type span.ws{background: #F2FFE8;color: #86C669;}\r\n.win-list .win-type span.dd{background: #E8F4FF;color: #69A1C6;}\r\n.g-price{color: #EA4646;font-size: 17px;font-weight: bold;}\r\n</style>"]}]}