{"remainingRequest":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\dingCanMobile\\src\\views\\orderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\dingCanMobile\\src\\views\\orderList.vue","mtime":1593332022676},{"path":"G:\\dingCanMobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1587344995501},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1587344054728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciB1c2VySWQ9Jyc7Ly/nlKjmiLdpZAp2YXIgcGFnZU51bT0xOy8v6aG156CBCmV4cG9ydCBkZWZhdWx0ewoJZGF0YTpmdW5jdGlvbigpewoJCXJldHVybnsKCQkJdGl0bGU6J+iuouWNlScsCgkJCW9yZGVyTGlzdDpbXSwvL+iuouWNleWIl+ihqAoJCQlkZWZhdWx0SW1nOicuL3N0YXRpYy9pbWFnZXMvaWNvbi9kZWZhdWx0MS5wbmcnLC8v6buY6K6k5Zu+54mHCgkJCW9yZGVyRGV0YWlsUG9wdXA6ZmFsc2UsLy/orqLljZXor6bmg4UKCQkJb3JkZXJEZXRhaWxEYXRhOicnLC8v6K6i5Y2V6K+m5oOFCgkJCXNlbmRBZGRyZXNzOicnLC8v6YWN6YCB5Zyw5Z2A6K+m5oOFCgkJCXJlZnJlc2hMb2FkaW5nOiBmYWxzZSwvL+S4i+aLieWIt+aWsAoJCQlhc3Nlc3NQb3B1cDpmYWxzZSwvL+iuouWNleivhOS7twoJCQlzZW5kQ2hlY2tlZDpmYWxzZSwvL+mFjemAgeWRmOWMv+WQjQoJCQlwbGVhc2VkVGFiOjAsLy/mu6HmhI/jgIHkuI3mu6HmhI/liIfmjaIKCQkJcGxlYXNlZFR5cGU6JycsLy/phY3pgIHlkZjor4Tku7fnsbvlnovvvIjmu6HmhI/jgIHkuI3mu6HmhI/vvIkKCQkJYXNzZXNzTXNnOltdLC8v6YCJ5oup55qE5ruh5oSP55So6K+tCgkJCWFzc2Vzc1JlbWFyazonJywvL+eVmeiogAoJCQlubUNoZWNrZWQ6ZmFsc2UsLy/ljL/lkI3or4Tku7cKCQkJc2VuZFBsZWFzZWRNc2c6W10sLy/phY3pgIHlkZjmu6HmhI/nlKjor60KCQkJc2VuZERpc3BsZWFzZWRNc2c6W10sLy/phY3pgIHlkZjkuI3mu6HmhI/nlKjor60KCQkJZmlsZUxpc3Q6W10sLy/kuIrkvKDlm77niYcKCQkJc2VuZEFzc2Vzc0FycjpbXSwvL+mFjemAgeWRmOivhOS7t+eUqOivrQoJCQlhc3Nlc3NXaW5QaWM6JycsLy/or4Tku7fph4zlvZPliY3nqpflj6Plm77niYcKCQkJYXNzZXNzV2luTmFtZTonJywvL+ivhOS7t+mHjOW9k+WJjeeql+WPo+WQjQoJCQlzZW5kTmFtZTonJywvL+ivhOS7t+mHjOmFjemAgeWRmAoJCQlzZW5kUGVyc29uSWQ6JycsLy/phY3pgIHlkZhpZAoJCQl1c2VySWQ6JycsLy/nlKjmiLdpZAoJCQlzZWxsZXJJZDonJywvL+WVhuWutmlkCgkJCW9yZGVyTm86JycsLy/orqLljZXlj7cKCQkJYXNzZXNzU3RhcjowLC8v6K+E5Lu35pif57qnCgkJCXRhc3RlU3RhcjowLC8v5Y+j5ZGz5pif57qnCgkJCXBhY2tTdGFyOjAsLy/ljIXoo4XmmJ/nuqcKCQkJYXNzZXNzU3RhckFycjpbXSwvL+ivhOS7t+eUqOivrQoJCQl0YXN0ZVN0YXJBcnI6W10sLy/lj6PlkbPnlKjor60KCQkJcGFja1N0YXJBcnI6W10sLy/ljIXoo4XnlKjor60KCQkJYXNzZXNzU3RhclRleHQ6JycsLy/or4Tku7fmmJ/nuqfmj5DnpLrnlKjor60KCQkJdGFzdFN0YXJUZXh0OicnLC8v5Y+j5ZGz5pif57qn5o+Q56S655So6K+tCgkJCXBhY2tTdGFyVGV4dDonJywvL+WMheijheaYn+e6p+aPkOekuueUqOivrQoJCQlvcmRlclRyYWNrUG9wdXA6ZmFsc2UsLy/orqLljZXot5/ouKoKCQkJb3JkZXJUcmFja0RhdGE6W10sLy/orqLljZXot5/ouKoKCQkJb3JkZXJTdGF0dXM6JycsLy/mlK/ku5jml7bmn6Xor6LnmoTorqLljZXnirbmgIEKCQkJLy8gb3JkZXJXYXk6JycsLy/orqLljZXmlrnlvI8x77ya6Ieq5o+QMu+8muWklumAge+8jDPvvJrliLDlupfnlKjppJAKCQl9OwoJfSwKCWNvbXBvbmVudHM6ewoJCQoJfSwKCW1vdW50ZWQoKSB7CgkJIC8vIOa7muWKqOWIsOW6leWKoOi9veabtOWkmgoJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLHRoaXMucmVhY2hCb3R0b20pCQkJICAKCX0sCgkvLyDplIDmr4Hnm5HlkKzmu5rliqjmnaHkuovku7YKCWRlc3Ryb3llZCgpewoJICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnJlYWNoQm90dG9tKQoJCWNvbnNvbGUubG9nKCfplIDmr4EnKQoJICB9LAoJ44CA44CACgltZXRob2RzOnsKCQkvLyDojrflj5borqLljZXor6bmg4UKCQlnZXRPcmRlckRldGFpbChvcmRlck5vKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXQnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgb3JkZXJObzpvcmRlck5vCgkJCSAgfQoJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJY29uc29sZS5sb2coJ+iuouWNleivpuaDhScsZGF0YSkKCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlfdGhpcy5vcmRlclN0YXR1cz1kYXRhLmRhdGEuZGF0YS5vcmRlclN0YXRlLy/lj6rmnIlvcmRlclN0YXRl5Li6MeaXtuiuouWNleeKtuaAgeS4uueUqOaIt+W3suaPkOS6pOiuouWNle+8jOaJjeWPr+S7peS7mOasvgoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJCQlfdGhpcy4kdG9hc3QoJ+eZu+W9lei/h+acn++8jOivt+eZu+W9lScpOwoJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJCX0sMjAwMCkKCQkJCX0KCQkJfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkJX3RoaXMuJHRvYXN0KCfmk43kvZzlpLHotKUnKTsKCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJfSk7CgkJfSwKCQkvLyDmiZPlvIDorqLljZXot5/ouKoKCQlvcGVuT3JkZXJUcmFjayhvcmRlck5vKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCV90aGlzLm9yZGVyVHJhY2tQb3B1cD10cnVlOwoJCQljb25zb2xlLmxvZyhvcmRlck5vKQoJCQkKCQkJCgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXRTdGF0ZUluZm8nLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgb3JkZXJObzpvcmRlck5vCgkJCSAgfQoJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJY29uc29sZS5sb2coJ+iuouWNlei3n+i4qicsZGF0YSkKCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlfdGhpcy5vcmRlclRyYWNrRGF0YT1kYXRhLmRhdGEuZGF0YTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn5pON5L2c5aSx6LSlJyk7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g6K+E5Lu35pif57qn54K55Ye75LqL5Lu2CgkJYXNzZXNzU3RhckNoYW5nZShlKXsKCQkJaWYodGhpcy5hc3Nlc3NTdGFyQXJyW2UtMV0pewoJCQkJdGhpcy5hc3Nlc3NTdGFyVGV4dD10aGlzLmFzc2Vzc1N0YXJBcnJbZS0xXS5jb21tZW50SXRlbUNvbnRlbnQKCQkJfWVsc2V7CgkJCQl0aGlzLmFzc2Vzc1N0YXJUZXh0PScnOwoJCQl9CgkJfSwKCQkvLyDlj6PlkbPmmJ/nuqfngrnlh7vkuovku7YKCQl0YXN0ZVN0YXJDaGFuZ2UoZSl7CgkJCWlmKHRoaXMudGFzdGVTdGFyQXJyW2UtMV0pewoJCQkJdGhpcy50YXN0U3RhclRleHQ9dGhpcy50YXN0ZVN0YXJBcnJbZS0xXS5jb21tZW50SXRlbUNvbnRlbnQKCQkJfWVsc2V7CgkJCQl0aGlzLnRhc3RTdGFyVGV4dD0nJzsKCQkJfQoJCX0sCgkJLy8g5YyF6KOF5pif57qn54K55Ye75LqL5Lu2CgkJcGFja1N0YXJDaGFuZ2UoZSl7CgkJCWlmKHRoaXMucGFja1N0YXJBcnJbZS0xXSl7CgkJCQl0aGlzLnBhY2tTdGFyVGV4dD10aGlzLnBhY2tTdGFyQXJyW2UtMV0uY29tbWVudEl0ZW1Db250ZW50CgkJCX1lbHNlewoJCQkJdGhpcy5wYWNrU3RhclRleHQ9Jyc7CgkJCX0KCQl9LAoJCS8vIOWMv+WQjeivhOS7t2NoYW5nZQoJCW5tQ2hlY2tlZENoYW5nZShlKXsKCQkJaWYoZSl7CgkJCQl1c2VySWQ9Jyc7CgkJCX1lbHNlewoJCQkJdXNlcklkPXRoaXMudXNlcklkOwoJCQl9CgkJCQoJCQljb25zb2xlLmxvZyh1c2VySWQpCgkJfSwKCQkvLyDmu6HmhI/kuI3mu6HmhI/liIfmjaIKCQlwbGVhc2VkVGFiQ2xpY2soZSl7CgkJCWNvbnNvbGUubG9nKGUpCgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy5wbGVhc2VkVGFiPWU7CgkJCWlmKF90aGlzLnBsZWFzZWRUYWI9PTEpewoJCQkJX3RoaXMucGxlYXNlZFR5cGU9J+a7oeaEjyc7CgkJCX0KCQkJaWYoX3RoaXMucGxlYXNlZFRhYj09Mil7CgkJCQlfdGhpcy5wbGVhc2VkVHlwZT0n5LiN5ruh5oSPJzsKCQkJfQoJCQlfdGhpcy5nZXRTZW5kQXNzZXNzKGUpOwoJCQl2YXIgYXNzZXNzSXRlbT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXNzZXNzLW1zZyBzcGFuJyk7CgkJCWZvciAodmFyIGk9MDtpPGFzc2Vzc0l0ZW0ubGVuZ3RoO2krKykgewoJCQkJYXNzZXNzSXRlbVtpXS5jbGFzc05hbWU9Jyc7CgkJCX0KCQkJfSwKCQkvLyDmu5rliqjliLDlupXliqDovb3mm7TlpJoKCQlyZWFjaEJvdHRvbSgpewoJCQkgIC8v5Y+Y6YePc2Nyb2xsVG9w5piv5rua5Yqo5p2h5rua5Yqo5pe277yM6Led56a76aG26YOo55qE6Led56a7CgkJCSAgbGV0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwoJCQkgIC8v5Y+Y6YePd2luZG93SGVpZ2h05piv5Y+v6KeG5Yy655qE6auY5bqmCgkJCSAgbGV0IHdpbmRvd0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7CgkJCSAgLy/lj5jph49zY3JvbGxIZWlnaHTmmK/mu5rliqjmnaHnmoTmgLvpq5jluqYKCQkJICBsZXQgc2Nyb2xsSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CgkJCQkvL+a7muWKqOadoeWIsOW6lemDqOeahOadoeS7tgoJCQkJaWYoc2Nyb2xsVG9wK3dpbmRvd0hlaWdodCA+PSBzY3JvbGxIZWlnaHQpewoJCQkJCXBhZ2VOdW0rKzsKCQkJCQl0aGlzLmdldE9yZGVyKHBhZ2VOdW0pCgkJCQkJY29uc29sZS5sb2coJ+WIsOW6leS6hicscGFnZU51bSkKCQkJCX0KCQl9LAoJCS8vIOeCueWHu+eri+WNs+ivhOS7twoJCW9wZW5Bc3Nlc3NQb3B1cChvcmRlck5vLHdpblBpYyx3aW5OYW1lKXsKCQkJY29uc29sZS5sb2cob3JkZXJObyx3aW5QaWMsd2luTmFtZSkKCQkJdmFyIF90aGlzPXRoaXM7CgkJCQoJCQkKCQkJCgkJCV90aGlzLmFzc2Vzc1BvcHVwPXRydWU7CgkJCV90aGlzLmdldFNlbGxlckFzc2Vzc01zZygpOy8v5ZWG5a625pif57qn6K+E5Lu3CgkJCQoJCQkKCQkJLy8g6K6+572u6K+E5Lu36YeM56qX5Y+j5Zu+54mH5ZKM56qX5Y+j5ZCNCgkJCV90aGlzLmFzc2Vzc1dpblBpYz13aW5QaWM/d2luUGljOicuL3N0YXRpYy9pbWFnZXMvaWNvbi9kZWZhdWx0MS5wbmcnOwoJCQlfdGhpcy5hc3Nlc3NXaW5OYW1lPXdpbk5hbWU7CgkJCQoJCQlfdGhpcy4kYXhpb3MoewoJCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXQnLAoJCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJCSAgcGFyYW1zOiB7CgkJCQkJb3JkZXJObzpvcmRlck5vCgkJCQkgIH0KCQkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJY29uc29sZS5sb2coJ+ivhOS7ty3orqLljZXor6bmg4UnLGRhdGEpCgkJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCQlfdGhpcy5zZW5kTmFtZT1kYXRhLmRhdGEuZGF0YS5kZWxpdmVyeVBlcnNvbk5hbWU7Ly/phY3pgIHlkZjlp5PlkI0KCQkJCQkJX3RoaXMuc2VuZFBlcnNvbklkPWRhdGEuZGF0YS5kYXRhLmRlbGl2ZXJ5UGVyc29uSWQ7Ly/phY3pgIHlkZhpZAoJCQkJCQlfdGhpcy51c2VySWQ9ZGF0YS5kYXRhLmRhdGEucGVyc29uSWQ7Ly/nlKjmiLdpZAoJCQkJCQl1c2VySWQ9ZGF0YS5kYXRhLmRhdGEucGVyc29uSWQ7CgkJCQkJCV90aGlzLnNlbGxlcklkPWRhdGEuZGF0YS5kYXRhLnNlbGxlcklkOy8v5ZWG5a62aWQKCQkJCQkJX3RoaXMub3JkZXJObz1kYXRhLmRhdGEuZGF0YS5vcmRlck5vOwoJCQkJCX0KCQkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCQlfdGhpcy4kdG9hc3QoJ+ivt+WFiOeZu+W9lScpOwoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJCX0sMjAwMCkKCQkJCQl9CgkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQkJfSk7CgkJfSwKCQkvLyDngrnlh7vphY3pgIHlkZjor4Tku7fnlKjor60KCQlzZWxlY3RTZW5kQXNzZXNzKGUpewoJCQlpZihlLnRhcmdldC5jbGFzc05hbWU9PScnKXsKCQkJCWUudGFyZ2V0LmNsYXNzTmFtZT0nYWN0aXZlJwoJCQl9ZWxzZXsKCQkJCWUudGFyZ2V0LmNsYXNzTmFtZT0nJwoJCQl9CgkJCQoJCQkKCQl9LAoJCS8vIOiOt+WPlumFjemAgeWRmOivhOS7t+eUqOivrQoJCWdldFNlbmRBc3Nlc3ModHlwZSl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy4kYXhpb3MoewoJCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXRDb21tZW50V29yZCcsCgkJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkJICBwYXJhbXM6IHsKCQkJCQljSWQ6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkuY0lkLAoJCQkJCWNvbW1lbnRUeXBlSWQ6dHlwZS8v55So6K+t57G75Z6L77yIMOWFqOmDqO+8jDHmu6HmhI/vvIwy5LiN5ruh5oSP77yJCgkJCQkgIH0KCQkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJCgkJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCQlfdGhpcy5zZW5kQXNzZXNzQXJyPVtdOwoJCQkJCQlfdGhpcy5zZW5kQXNzZXNzQXJyPWRhdGEuZGF0YS5kYXRhCgkJCQkJCWNvbnNvbGUubG9nKCfphY3pgIHlkZjor4Tku7fnlKjor60nLF90aGlzLnNlbmRBc3Nlc3NBcnIpCgkJCQkJCQoJCQkJCQkKCQkJCQl9CgkJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJCX0KCQkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJCQkJX3RoaXMuJHRvYXN0KCfor7flhYjnmbvlvZUnKTsKCQkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJCQl9LDIwMDApCgkJCQkJfQoJCQkJfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJCX0pOwoJCX0sCgkJLy8g6I635ZWG5a626K+E5Lu3CgkJZ2V0U2VsbGVyQXNzZXNzTXNnKCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy4kYXhpb3MoewoJCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXRDb21tZW50SXRlbScsCgkJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkJICBwYXJhbXM6IHsKCQkJCQljSWQ6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkuY0lkLAoJCQkJCWNvbW1lbnRUeXBlSWQ6MAoJCQkJICB9CgkJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJCWNvbnNvbGUubG9nKCfllYblrrbor4Tku7fnlKjor60nLGRhdGEpCgkJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCQkvLyDor4Tku7fjgIHlj6PlkbPjgIHljIXoo4XlrprkuYnlj5jph4/vvIzkuIvpnaLmjpLluo/otYvlgLznlKgKCQkJCQkJdmFyIGFzc2Vzc1N0YXJBcnI9W107CgkJCQkJCXZhciB0YXN0ZVN0YXJBcnI9W107CgkJCQkJCXZhciBwYWNrU3RhckFycj1bXTsKCQkJCQkJLy8g6K+E5Lu344CB5Y+j5ZGz44CB5YyF6KOF5YWI5riF56m6CgkJCQkJCV90aGlzLmFzc2Vzc1N0YXJBcnI9W107CgkJCQkJCV90aGlzLnRhc3RlU3RhckFycj1bXTsKCQkJCQkJX3RoaXMucGFja1N0YXJBcnI9W107CgkJCQkJCWlmKGRhdGEuZGF0YS5kYXRhLmxlbmd0aD4wKXsKCQkJCQkJCWZvciAodmFyIGk9MDtpPGRhdGEuZGF0YS5kYXRhLmxlbmd0aDtpKyspIHsKCQkJCQkJCQkvLyDor4Tku7fnlKjor63ljZXni6zmir3nprsKCQkJCQkJCQlpZihkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50VHlwZUlkPT0xKXsKCQkJCQkJCQkJYXNzZXNzU3RhckFyci5wdXNoKHtjb21tZW50SXRlbVNjb3JlOmRhdGEuZGF0YS5kYXRhW2ldLmNvbW1lbnRJdGVtU2NvcmUsY29tbWVudEl0ZW1Db250ZW50OmRhdGEuZGF0YS5kYXRhW2ldLmNvbW1lbnRJdGVtQ29udGVudH0pCgkJCQkJCQkJfQoJCQkJCQkJCS8vIOWPo+WRs+eUqOivreaKveemuwoJCQkJCQkJCWlmKGRhdGEuZGF0YS5kYXRhW2ldLmNvbW1lbnRUeXBlSWQ9PTIpewoJCQkJCQkJCQl0YXN0ZVN0YXJBcnIucHVzaCh7Y29tbWVudEl0ZW1TY29yZTpkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50SXRlbVNjb3JlLGNvbW1lbnRJdGVtQ29udGVudDpkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50SXRlbUNvbnRlbnR9KQoJCQkJCQkJCX0KCQkJCQkJCQkvLyDljIXoo4XnlKjor63mir3nprsKCQkJCQkJCQlpZihkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50VHlwZUlkPT0zKXsKCQkJCQkJCQkJcGFja1N0YXJBcnIucHVzaCh7Y29tbWVudEl0ZW1TY29yZTpkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50SXRlbVNjb3JlLGNvbW1lbnRJdGVtQ29udGVudDpkYXRhLmRhdGEuZGF0YVtpXS5jb21tZW50SXRlbUNvbnRlbnR9KQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQkJLy8g5a+56K+E5Lu35qC55o2u5YiG5pWw5o6S5bqPCgkJCQkJCQlfdGhpcy5hc3Nlc3NTdGFyQXJyPWFzc2Vzc1N0YXJBcnIuc29ydChmdW5jdGlvbihhLGIpewoJCQkJCQkJCXJldHVybiBhLmNvbW1lbnRJdGVtU2NvcmUtYi5jb21tZW50SXRlbVNjb3JlCgkJCQkJCQl9KQoJCQkJCQkJLy8g5a+55Y+j5ZGz6K+E5Lu35qC55o2u5YiG5pWw5o6S5bqPCgkJCQkJCQlfdGhpcy50YXN0ZVN0YXJBcnI9dGFzdGVTdGFyQXJyLnNvcnQoZnVuY3Rpb24oYSxiKXsKCQkJCQkJCQlyZXR1cm4gYS5jb21tZW50SXRlbVNjb3JlLWIuY29tbWVudEl0ZW1TY29yZQoJCQkJCQkJfSkKCQkJCQkJCS8vIOWvueWMheijheivhOS7t+agueaNruWIhuaVsOaOkuW6jwoJCQkJCQkJX3RoaXMucGFja1N0YXJBcnI9cGFja1N0YXJBcnIuc29ydChmdW5jdGlvbihhLGIpewoJCQkJCQkJCXJldHVybiBhLmNvbW1lbnRJdGVtU2NvcmUtYi5jb21tZW50SXRlbVNjb3JlCgkJCQkJCQl9KQoJCQkJCQkJCgkJCQkJCQljb25zb2xlLmxvZygn6K+E5Lu377yaJyxfdGhpcy5hc3Nlc3NTdGFyQXJyLCflj6PlkbPvvJonLF90aGlzLnRhc3RlU3RhckFyciwn5YyF6KOFJyxfdGhpcy5wYWNrU3RhckFycikKCQkJCQkJfQoJCQkJCX0KCQkJCQljb25zb2xlLmxvZygn5ruh5oSP77yaJyxfdGhpcy5zZW5kUGxlYXNlZE1zZywn5LiN5ruh5oSP77yaJyxfdGhpcy5zZW5kRGlzcGxlYXNlZE1zZykKCQkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCQlfdGhpcy4kdG9hc3QoJ+ivt+WFiOeZu+W9lScpOwoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJCX0sMjAwMCkKCQkJCQl9CgkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQkJfSk7CgkJfSwKCQkvLyDmj5DkuqTor4Tku7cKCQlzdWJtaXRCdG4oKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCXZhciBzdGFyQXNzZXNzPVtdOy8v5pif57qn6K+E5Lu3CgkJCS8vIOWmguaenOacieivhOS7t+mhuQoJCQlpZihfdGhpcy5hc3Nlc3NTdGFyQXJyLmxlbmd0aD4wKXsKCQkJCXN0YXJBc3Nlc3MucHVzaCh7Y29tbWVudFRpcENvbnRlbnQ6X3RoaXMuYXNzZXNzU3RhclRleHQsY29tbWVudFR5cGVJZDoiMSIsY29tbWVudFR5cGVOYW1lOiLor4Tku7ciLHBJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKS5wSWQsc2NvcmU6X3RoaXMuYXNzZXNzU3RhcixzZWxsZXJJZDpfdGhpcy5zZWxsZXJJZCxvcmRlck5vOl90aGlzLm9yZGVyTm99KQoJCQl9CgkJCS8vIOWmguaenOacieWPo+WRs+ivhOS7t+mhuQoJCQlpZihfdGhpcy50YXN0ZVN0YXJBcnIubGVuZ3RoPjApewoJCQkJc3RhckFzc2Vzcy5wdXNoKHtjb21tZW50VGlwQ29udGVudDpfdGhpcy50YXN0U3RhclRleHQsY29tbWVudFR5cGVJZDoiMiIsY29tbWVudFR5cGVOYW1lOiLlj6PlkbMiLHBJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKS5wSWQsc2NvcmU6X3RoaXMudGFzdGVTdGFyLHNlbGxlcklkOl90aGlzLnNlbGxlcklkLG9yZGVyTm86X3RoaXMub3JkZXJOb30pCgkJCX0KCQkJLy8g5aaC5p6c5pyJ5YyF6KOF6K+E5Lu36aG5CgkJCWlmKF90aGlzLnBhY2tTdGFyQXJyLmxlbmd0aD4wKXsKCQkJCXN0YXJBc3Nlc3MucHVzaCh7Y29tbWVudFRpcENvbnRlbnQ6X3RoaXMucGFja1N0YXJUZXh0LGNvbW1lbnRUeXBlSWQ6IjMiLGNvbW1lbnRUeXBlTmFtZToi5YyF6KOFIixwSWQ6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSkucElkLHNjb3JlOl90aGlzLnBhY2tTdGFyLHNlbGxlcklkOl90aGlzLnNlbGxlcklkLG9yZGVyTm86X3RoaXMub3JkZXJOb30pCgkJCX0KCQkJCgkJCWNvbnNvbGUubG9nKCfmmJ/nuqfmj5DkuqQnLHN0YXJBc3Nlc3MpCgkJCXZhciBmb3JtRGF0YT1uZXcgRm9ybURhdGEoKTsKCQkJdmFyIHNlbmRBc3Nlc3NNc2c9W107Ly/phY3pgIHlkZjor4Tku7fnlKjor60KCQkJdmFyIGltZ0Fycj1bXTsvL+S4iuS8oOWbvueJhwoJCQlmb3IgKHZhciBpPTA7aTx0aGlzLmZpbGVMaXN0Lmxlbmd0aDtpKyspIHsKCQkJCWltZ0Fyci5wdXNoKHRoaXMuZmlsZUxpc3RbaV0uZmlsZSkKCQkJCWZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLHRoaXMuZmlsZUxpc3RbaV0uZmlsZSkKCQkJfQoJCQkvLyBjb25zb2xlLmxvZygn5LiK5Lyg5Zu+54mHJyxpbWdBcnIpCgkJCQoJCQkvLyDojrflj5bpgInkuK3nmoTphY3pgIHlkZjor4Tku7fnlKjor60KCQkJdmFyIGFzc2Vzc0l0ZW09ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFzc2Vzcy1tc2cgc3BhbicpOwoJCQlmb3IgKHZhciBpPTA7aTxhc3Nlc3NJdGVtLmxlbmd0aDtpKyspIHsKCQkJCWlmKGFzc2Vzc0l0ZW1baV0uY2xhc3NOYW1lPT0nYWN0aXZlJyl7CgkJCQkJc2VuZEFzc2Vzc01zZy5wdXNoKGFzc2Vzc0l0ZW1baV0uaW5uZXJIVE1MKQoJCQkJfQoJCQl9CgkJCQoJCQkKCQkJaWYoc2VuZEFzc2Vzc01zZy5sZW5ndGg9PTAmJmltZ0Fyci5sZW5ndGg9PTAmJl90aGlzLmFzc2Vzc1JlbWFyaz09IiIpewoJCQkJY29uc29sZS5sb2coJ+WIsOi/meS6hicpOwoJCQkJX3RoaXMuJHRvYXN0KCfmgqjlt7LmlL7lvIPor4Tku7cnKQoJCQkJX3RoaXMuYXNzZXNzUG9wdXA9ZmFsc2U7CgkJCQlyZXR1cm47CgkJCX0KCQkJCgkJCQoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+aPkOS6pOS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJCV90aGlzLiRheGlvcyh7CgkJCQkgIG1ldGhvZDogJ3Bvc3QnLAoJCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9jb21tZW50JywKCQkJCSAgaGVhZGVyczp7J3Rva2VuJzpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKX0sLy8KCQkJCSAgZGF0YTpmb3JtRGF0YSwvL+aWh+S7tgoJCQkJICBwYXJhbXM6IHsKCQkJCQkgIG9yZGVyTm86X3RoaXMub3JkZXJObywKCQkJCQkgIGRlbGl2ZXJ5UGVyc29uSWQ6X3RoaXMuc2VuZFBlcnNvbklkLC8v6YWN6YCB5ZGYaWQKCQkJCQkgIGNvbW1lbnRXb3JkVHlwZUlkOl90aGlzLnBsZWFzZWRUYWIsLy/or4Tor63miYDlsZ7nsbvlnotpZO+8iOa7oeaEjzHvvIzkuI3mu6HmhI8y77yJCgkJCQkJICBjb21tZW50V29yZFR5cGVOYW1lOl90aGlzLnBsZWFzZWRUeXBlLC8v6K+E6K+t5omA5bGe57G75Z6L5ZCN56ew77yI5ruh5oSP77yM5LiN5ruh5oSP77yJCgkJCQkJICBjb21tZW50V29yZHM6c2VuZEFzc2Vzc01zZy50b1N0cmluZygpLC8v6K+E6K+t77yM5qC85byPOuivjeivrSzor43or60KCQkJCQkgIHBJZDp1c2VySWQsLy/nlKjmiLdpZAoJCQkJCSAgc2VsbGVySWQ6X3RoaXMuc2VsbGVySWQsLy/llYblrrZpZAoJCQkJCSAgY29tbWVudENvbnRlbnQ6X3RoaXMuYXNzZXNzUmVtYXJrLC8v6K+E6K665YaF5a65CgkJCQkJICBzZWxsZXJJdGVtQ29tbWVudHM6SlNPTi5zdHJpbmdpZnkoc3RhckFzc2Vzcykuc3Vic3RyaW5nKDEsSlNPTi5zdHJpbmdpZnkoc3RhckFzc2VzcykubGVuZ3RoLTEpLC8v5ZWG5a625pif57qn6K+E6K666aG577yM5Y675o6J5YmN5ZCO5Lit5ous5Y+3CgkJCQkJICBnb29kc0NvbW1lbnRzOicnLAoJCQkJICB9CgkJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJCWNvbnNvbGUubG9nKCfmj5DkuqTor4Tku7cnLGRhdGEpCgkJCQkJbG9hZC5jbGVhcigpOwoJCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQkJX3RoaXMuJHRvYXN0KCflt7Lor4Tku7cnKTsKCQkJCQkJcGFnZU51bT0xOwoJCQkJCQlfdGhpcy5vcmRlckxpc3Q9W107CgkJCQkJCQoJCQkJCQlfdGhpcy5hc3Nlc3NQb3B1cD1mYWxzZTsKCQkJCQkJX3RoaXMuZ2V0T3JkZXIocGFnZU51bSk7CgkJCQkJCQoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlsb2NhdGlvbi5yZWxvYWQoKQoJCQkJCQl9LDEwMDApCgkJCQkJCQoJCQkJCX0KCQkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCQlfdGhpcy4kdG9hc3QoJ+eZu+W9lei/h+acn++8jOivt+eZu+W9lScpOwoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJCX0sMjAwMCkKCQkJCQl9CgkJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQkJfSk7CgkJCQoJCX0sCgkJLy8g5LiL5ouJ5Yi35pawCgkJIG9uUmVmcmVzaCgpIHsKCQkgICAgICAgcGFnZU51bT0xOwoJCSAgICAgICB0aGlzLm9yZGVyTGlzdD1bXTsKCQkgICAgICAgdGhpcy5nZXRPcmRlcihwYWdlTnVtKTsKCQkJICAgdGhpcy5yZWZyZXNoTG9hZGluZyA9IGZhbHNlOwoJCQkgIAoJCSAgICB9LAoJCS8vIOehruWumumAgei+vgoJCWNvbmZpcm1TZXJ2aWNlKG9yZGVyTm8pewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJdmFyIGxvYWQ9X3RoaXMuJHRvYXN0LmxvYWRpbmcoewoJCQkgIG1lc3NhZ2U6ICfmj5DkuqTkuK0uLi4nLAoJCQkgIGR1cmF0aW9uOjAsCgkJCSAgZm9yYmlkQ2xpY2s6IHRydWUsCgkJCX0pOwoJCQlfdGhpcy4kYXhpb3MoewoJCQkJICBtZXRob2Q6ICdwb3N0JywKCQkJCSAgdXJsOiBwb3J0KycvdjEvb3JkZXIvYXJyaXZlJywKCQkJCSAgaGVhZGVyczp7J3Rva2VuJzpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKX0sCgkJCQkgIHBhcmFtczogewoJCQkJCW9yZGVyTm86b3JkZXJObywKCQkJCSAgfQoJCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCQljb25zb2xlLmxvZygn56Gu5a6a6YCB6L6+JyxkYXRhKQoJCQkJCWxvYWQuY2xlYXIoKTsKCQkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJCV90aGlzLiR0b2FzdCgn5bey56Gu6K6k6YCB6L6+Jyk7CgkJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJCXBhZ2VOdW09MTsKCQkJCQkJCV90aGlzLm9yZGVyTGlzdD1bXTsKCQkJCQkJCV90aGlzLmdldE9yZGVyKHBhZ2VOdW0pOwoJCQkJCQl9LDEwMDApCgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQl9CgkJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+355m75b2VJyk7CgkJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQkJfSwyMDAwKQoJCQkJCX0KCQkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCQkJX3RoaXMuJHRvYXN0KCfmk43kvZzlpLHotKUnKTsKCQkJCX0pOwoJCX0sCgkJLy8g5p+l6K+i5Zyw5Z2A6K+m5oOFCgkJZ2V0QWRkcmVzcyhvcmRlck5vKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9nZXRPcmRlckFkZHJlc3MnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgb3JkZXJObzpvcmRlck5vLAoJCQkgIH0KCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlfdGhpcy5zZW5kQWRkcmVzcz1kYXRhLmRhdGEuZGF0YTsKCQkJCQljb25zb2xlLmxvZygn6K6i5Y2V6YWN6YCB5Zyw5Z2A6K+m5oOFJyxfdGhpcy5zZW5kQWRkcmVzcykKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn5pON5L2c5aSx6LSlJyk7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g5YKs5Y2VCgkJY3VpRGFuKG9yZGVyTm8pewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJdmFyIGxvYWQ9X3RoaXMuJHRvYXN0LmxvYWRpbmcoewoJCQkgIG1lc3NhZ2U6ICfmj5DkuqTkuK0uLi4nLAoJCQkgIGR1cmF0aW9uOjAsCgkJCSAgZm9yYmlkQ2xpY2s6IHRydWUsCgkJCX0pOwoJCQkKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdwb3N0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9yZW1pbmQnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgb3JkZXJObzpvcmRlck5vLAoJCQkJdHJhZGVObzonMScKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn5YKs5Y2VJyxkYXRhKQoJCQkJbG9hZC5jbGVhcigpOy8v5YWz6Zet5Yqg6L29CgkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJX3RoaXMuJHRvYXN0KCflt7LlgqzljZUnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn5pON5L2c5aSx6LSlJyk7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g56uL5Y2z5pSv5LuYCgkJZ29QYXkob3JkZXJObyxzZWxsZXJJZCx0b3RhbEFtb3VudCxpc1BvcHVwUGF5KXsKCQkJCgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy5nZXRPcmRlckRldGFpbChvcmRlck5vKQoJCQkKCQkJCgkJCQoJCQlfdGhpcy4kZGlhbG9nLmNvbmZpcm0oewoJCQkgIHRpdGxlOiAn5rip6aao5o+Q56S6JywKCQkJICBtZXNzYWdlOiAn56Gu5a6a5pSv5LuY77yfJywKCQkJfSkKCQkJICAudGhlbigoKSA9PiB7CgkJCQkgIAoJCQkJICBpZihfdGhpcy5vcmRlclN0YXR1cyE9MSl7CgkJCQkJICBfdGhpcy4kdG9hc3QoJ+iuouWNlei2heaXtuW3suWPlua2iO+8gScpOwoJCQkJCSAgc2V0VGltZW91dCgoKT0+ewoJCQkJCQkgIC8vIOWmguaenOaYr+WcqOiuouWNleivpuaDhemHjOeCueWHu+eahOeri+WNs+aUr+S7mO+8jOWImeWFs+mXreW9k+WJjeivpuaDhQoJCQkJCQkgIGlmKGlzUG9wdXBQYXkpewoJCQkJCQkJICBfdGhpcy5vcmRlckRldGFpbFBvcHVwPWZhbHNlOwoJCQkJCQkgIH0KCQkJCQkJICBwYWdlTnVtPTE7CgkJCQkJCSAgX3RoaXMub3JkZXJMaXN0PVtdOwoJCQkJCSAgCV90aGlzLmdldE9yZGVyKHBhZ2VOdW0pOwoJCQkJCSAgfSwxMDAwKQoJCQkJCSAgcmV0dXJuOwoJCQkJICB9CgkJCSAgICB2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgICAgIG1lc3NhZ2U6ICfmraPlnKjmj5DkuqQuLi4nLAoJCQkgICAgICBkdXJhdGlvbjowLAoJCQkgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJICAgIH0pOwoJCQkJCgkJCQkKCQkJCS8vIOecn+WunuaUr+S7mAoJCQkJLy8gX3RoaXMuJGF4aW9zKHsKCQkJCS8vICAgbWV0aG9kOiAnZ2V0JywKCQkJCS8vICAgdXJsOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJykpLnd4UGF5VXJsLAoJCQkJLy8gICBwYXJhbXM6IHsKCQkJCS8vIAl0b3RhbEZlZTp0b3RhbEFtb3VudCoxMDAsLy/ph5Hpop3vvIjliIbvvIkKCQkJCS8vIAlib2R5Oifor7fmlK/ku5gnLC8v5qCH6aKYCgkJCQkvLyAJb3V0VHJhZGVObzpvcmRlck5vLC8v6K6i5Y2V57yW5Y+3CgkJCQkvLyAJYXR0YWNoOnNlbGxlcklkLC8v5ZWG5a62aWQKCQkJCS8vIAlub3RpZnlVcmw6cG9ydCsnL3YxL29yZGVyL3dlY2hhdFBheU5vdGlmeScKCQkJCS8vICAgfQoJCQkJLy8gfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCS8vIAljb25zb2xlLmxvZygn5pSv5LuYJyxkYXRhKQoJCQkJLy8gCWxvYWQuY2xlYXIoKTsKCQkJCS8vIAl2YXIgcGF5VXJsPWRhdGEuZGF0YS5kYXRhLnBheVVybCsiJnJlZGlyZWN0X3VybD0iK3BheUJhY2tVcmwrIi8jL2luZGV4IjsKCQkJCS8vIAlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL3BheScscXVlcnk6eydwYXlVcmwnOnBheVVybH19KTsKCQkJCQkKCQkJCS8vIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCS8vIAljb25zb2xlLmxvZyhlcnJvcik7CgkJCQkvLyB9KTsKCQkJICAgIAoJCQkJCgkJCQkvLyDmqKHmi5/mlK/ku5gKCQkJICAgIF90aGlzLiRheGlvcyh7CgkJCSAgICAgIG1ldGhvZDogJ3Bvc3QnLAoJCQkgICAgICB1cmw6IHBvcnQrJy92MS9vcmRlci9wYXknLAoJCQkgICAgICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICAgICAgcGFyYW1zOiB7CgkJCSAgICAgICAgb3JkZXJObzpvcmRlck5vLAoJCQkJCXRyYWRlTm86JzEnLAoJCQkJCXNlbGxlcklkOnNlbGxlcklkCgkJCSAgICAgIH0KCQkJICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJY29uc29sZS5sb2coJ+eri+WNs+aUr+S7mCcsZGF0YSkKCQkJCQkKCQkJICAgIAlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJICAgIAlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJCXBhZ2VOdW09MTsKCQkJCQkJX3RoaXMub3JkZXJMaXN0PVtdOwoJCQkgICAgCQlfdGhpcy5nZXRPcmRlcihwYWdlTnVtKTsKCQkJCQkJX3RoaXMub3JkZXJEZXRhaWxQb3B1cD1mYWxzZTsKCQkJCQkJX3RoaXMuJHRvYXN0KCfmlK/ku5jmiJDlip8nKTsKCQkJICAgIAl9CgkJCSAgICAJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJICAgIAkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkgICAgCX0KCQkJICAgIAlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJICAgIAkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnKTsKCQkJICAgIAkJc2V0VGltZW91dCgoKT0+ewoJCQkgICAgCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkgICAgCQl9LDIwMDApCgkJCSAgICAJfQoJCQkgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkgICAgCV90aGlzLiR0b2FzdCgn5pON5L2c5aSx6LSlJyk7CgkJCSAgICAJY29uc29sZS5sb2coZXJyb3IpOwoJCQkgICAgfSk7CgkJCQkKCQkJCQoJCQkgIH0pCgkJCSAgLmNhdGNoKCgpID0+IHsKCQkJICAgIC8vIG9uIGNhbmNlbAoJCQkgIH0pOwoJCX0sCgkJLy8g5Y+W5raI6K6i5Y2VCgkJY2FuY2FsT3JkZXIob3JkZXJObyl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQljb25zb2xlLmxvZyhvcmRlck5vKQoJCQlfdGhpcy4kZGlhbG9nLmNvbmZpcm0oewoJCQkgIHRpdGxlOiAn5rip6aao5o+Q56S6JywKCQkJICBtZXNzYWdlOiAn56Gu5a6a5Y+W5raI6K6i5Y2V77yfJywKCQkJfSkKCQkJICAudGhlbigoKSA9PiB7CgkJCSAgICB2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgICAgIG1lc3NhZ2U6ICfmj5DkuqTkuK0uLi4nLAoJCQkgICAgICBkdXJhdGlvbjowLAoJCQkgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJICAgIH0pOwoJCQkgICAgCgkJCSAgICBfdGhpcy4kYXhpb3MoewoJCQkgICAgICBtZXRob2Q6ICdwb3N0JywKCQkJICAgICAgdXJsOiBwb3J0KycvdjEvb3JkZXIvdXBkYXRlU3RhdGUnLAoJCQkgICAgICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICAgICAgcGFyYW1zOiB7CgkJCSAgICAgICAgb3JkZXJObzpvcmRlck5vCgkJCSAgICAgIH0KCQkJICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJY29uc29sZS5sb2coJ+WPlua2iOiuouWNlScsZGF0YSkKCQkJICAgIAlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJICAgIAlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJCXBhZ2VOdW09MTsKCQkJCQkJX3RoaXMub3JkZXJMaXN0PVtdOwoJCQkgICAgCQlfdGhpcy5nZXRPcmRlcihwYWdlTnVtKTsKCQkJCQkJX3RoaXMub3JkZXJEZXRhaWxQb3B1cD1mYWxzZTsKCQkJCQkJX3RoaXMuJHRvYXN0KCflt7Llj5bmtognKTsKCQkJICAgIAl9CgkJCSAgICAJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJICAgIAkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkgICAgCX0KCQkJICAgIAlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJICAgIAkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fnmbvlvZUnKTsKCQkJICAgIAkJc2V0VGltZW91dCgoKT0+ewoJCQkgICAgCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkgICAgCQl9LDIwMDApCgkJCSAgICAJfQoJCQkgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkgICAgCV90aGlzLiR0b2FzdCgn5pON5L2c5aSx6LSlJyk7CgkJCSAgICAJY29uc29sZS5sb2coZXJyb3IpOwoJCQkgICAgfSk7CgkJCSAgfSkKCQkJICAuY2F0Y2goKCkgPT4gewoJCQkgICAgLy8gb24gY2FuY2VsCgkJCSAgfSk7CgkJfSwKCQkvLyDorqLljZXor6bmg4UKCQlvcGVuT3JkZXJEZXRhaWwob3JkZXJObyl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy5vcmRlckRldGFpbFBvcHVwPXRydWUKCQkJCgkJCV90aGlzLmdldEFkZHJlc3Mob3JkZXJObyk7CgkJCQoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJCQoJCQlfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvb3JkZXIvZ2V0JywKCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICBwYXJhbXM6IHsKCQkJICAgIG9yZGVyTm86b3JkZXJObwoJCQkgIH0KCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCWxvYWQuY2xlYXIoKTsvL+WFs+mXreWKoOi9vQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCV90aGlzLm9yZGVyRGV0YWlsRGF0YT1kYXRhLmRhdGEuZGF0YQoJCQkJCWNvbnNvbGUubG9nKCforqLljZXor6bmg4UnLF90aGlzLm9yZGVyRGV0YWlsRGF0YSkKCQkJCQlfdGhpcy5vcmRlckRldGFpbERhdGEucGljVXJsPXNlbGxlclBvcnQrX3RoaXMub3JkZXJEZXRhaWxEYXRhLnBpY1VybAoJCQkJCXZhciB0b3RhbFByaWNlPTA7CgkJCQkJLy8g6K6h566X5omA5pyJ6I+c5ZOB55qE546v5L+d6LS5CgkJCQkJdmFyIGdyZWVuTW9uZXk9MDsKCQkJCQlmb3IgKHZhciBpPTA7aTxfdGhpcy5vcmRlckRldGFpbERhdGEub3JkZXJHb29kc2VzLmxlbmd0aDtpKyspIHsKCQkJCQkJCgkJCQkJCS8vIOiuoeeul+avj+S4quiPnOWTgeeahOaAu+S7twoJCQkJCQlfdGhpcy5vcmRlckRldGFpbERhdGEub3JkZXJHb29kc2VzW2ldLnRvdGFsUHJpY2U9X3RoaXMub3JkZXJEZXRhaWxEYXRhLm9yZGVyR29vZHNlc1tpXS5idXlDb3VudGVyKl90aGlzLm9yZGVyRGV0YWlsRGF0YS5vcmRlckdvb2RzZXNbaV0uZ1ByaWNlOwkJCQkJCgkJCQkJCQoJCQkJCQlncmVlbk1vbmV5Kz1fdGhpcy5vcmRlckRldGFpbERhdGEub3JkZXJHb29kc2VzW2ldLmJ1eUNvdW50ZXIqX3RoaXMub3JkZXJEZXRhaWxEYXRhLm9yZGVyR29vZHNlc1tpXS5nR3JlZW5GZWU7CgkJCQkJCV90aGlzLm9yZGVyRGV0YWlsRGF0YS50b3RhbEdyZWVuTW9uZXk9Z3JlZW5Nb25leTsKCQkJCQkJCgkJCQkJCS8vIOiuoeeul+aAu+S7twoJCQkJCQl0b3RhbFByaWNlKz1fdGhpcy5vcmRlckRldGFpbERhdGEub3JkZXJHb29kc2VzW2ldLnRvdGFsUHJpY2U7CgkJCQkJfQoJCQkJCQoJCQkJCV90aGlzLm9yZGVyRGV0YWlsRGF0YS50b3RhbFByaWNlPXRvdGFsUHJpY2UrZ3JlZW5Nb25leStfdGhpcy5vcmRlckRldGFpbERhdGEuZGVsaXZlcnlGZWU7CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+355m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQlfdGhpcy4kdG9hc3QoJ+aTjeS9nOWksei0pScpOwoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQkJCgkJCQoJCX0sCgkJLy8g5p+l6K+i6K6i5Y2V5YiX6KGoCgkJZ2V0T3JkZXIocGFnZU51bSl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9xdWVyeScsCgkJCSAgaGVhZGVyczp7J3Rva2VuJzpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKX0sCgkJCSAgcGFyYW1zOiB7CgkJCSAgICBwZXJzb25JZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS5wSWQsCgkJCQlwYWdlTnVtOnBhZ2VOdW0sCgkJCQlwYWdlU2l6ZToxMAoJCQkgIH0KCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCWxvYWQuY2xlYXIoKTsvL+WFs+mXreWKoOi9vQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCWlmIChkYXRhLmRhdGEuZGF0YS5saXN0Lmxlbmd0aD4wKSB7CgkJCQkJCWZvciAodmFyIGk9MDtpPGRhdGEuZGF0YS5kYXRhLmxpc3QubGVuZ3RoO2krKykgewoJCQkJCQkJZGF0YS5kYXRhLmRhdGEubGlzdFtpXS5waWNVcmw9c2VsbGVyUG9ydCtkYXRhLmRhdGEuZGF0YS5saXN0W2ldLnBpY1VybDsvL+eql+WPo+WbvueJhwoJCQkJCQkJX3RoaXMub3JkZXJMaXN0LnB1c2goZGF0YS5kYXRhLmRhdGEubGlzdFtpXSk7CgkJCQkJCX0KCQkJCQkJCgkJCQkJfWVsc2UgewoJCQkJCQlfdGhpcy4kdG9hc3QoJ+W3suWKoOi9veWFqOmDqCcpOwoJCQkJCX0KCQkJCQkKCQkJCQljb25zb2xlLmxvZygn6K6i5Y2V5YiX6KGoJyxfdGhpcy5vcmRlckxpc3QpOwoJCQkJCWZvciAodmFyIGk9MDtpPF90aGlzLm9yZGVyTGlzdC5sZW5ndGg7aSsrKSB7CgkJCQkJCQoJCQkJCQkvLyDorqLljZXnirbmgIEKCQkJCQkJaWYoX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyU3RhdGU9PTApewoJCQkJCQkJX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyVHlwZT0n55So5oi35Y+W5raI6K6i5Y2VJzsKCQkJCQkJfQoJCQkJCQlpZihfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJTdGF0ZT09MSl7CgkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflvoXmlK/ku5gnOwoJCQkJCQl9CgkJCQkJCWlmKF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclN0YXRlPT0yKXsKCQkJCQkJCV90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclR5cGU9J+W+heWVhuWutuaOpeWNlSc7CgkJCQkJCX0KCQkJCQkJaWYoX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyU3RhdGU9PTMpewoJCQkJCQkJX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyVHlwZT0n5ZWG5a625Y+W5raI6K6i5Y2VJzsKCQkJCQkJfQoJCQkJCQlpZihfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJTdGF0ZT09NCl7CgkJCQkJCQlpZihfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJNb2RlIT0yKXsKCQkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflh7rppJDkuK0nOwoJCQkJCQkJfWVsc2V7CgkJCQkJCQkJX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyVHlwZT0n5b6F6YWN6YCB5ZGY5o6l5Y2VJzsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlpZihfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJTdGF0ZT09NSl7CgkJCQkJCQkKCQkJCQkJCWlmKF90aGlzLm9yZGVyTGlzdFtpXS5vdXRNZWFsU3RhdGU9PTEpewoJCQkJCQkJCV90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclR5cGU9J+W+hemFjemAgeWRmOWPlumkkCc7CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflh7rppJDkuK0nOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWlmKF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclN0YXRlPT02KXsKCQkJCQkJCV90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclR5cGU9J+mFjemAgeWRmOW3sui9rOWNlSc7CgkJCQkJCX0KCQkJCQkJaWYoX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyU3RhdGU9PTcpewoJCQkJCQkJaWYoX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyTW9kZT09MSl7CgkJCQkJCQkJX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyVHlwZT0n6Ieq5o+Q5LitJzsKCQkJCQkJCX1lbHNlIGlmKF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlck1vZGU9PTMpewoJCQkJCQkJCV90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclR5cGU9J+W+heeUqOmkkCc7CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQlpZighX3RoaXMub3JkZXJMaXN0W2ldLmRlbGl2ZXJ5UGVyc29uSWQpewoJCQkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflvoXphY3pgIHlkZjmjqXljZUnOwoJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflvoXphY3pgIHlkZjlj5bppJAnOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQkJCgkJCQkJCX0KCQkJCQkJaWYoX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyU3RhdGU9PTgpewoJCQkJCQkJX3RoaXMub3JkZXJMaXN0W2ldLm9yZGVyVHlwZT0n6YWN6YCB5LitJzsKCQkJCQkJfQoJCQkJCQlpZihfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJTdGF0ZT09OSl7CgkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflvoXor4Tku7cnOwoJCQkJCQl9CgkJCQkJCWlmKF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlclN0YXRlPT0xMCl7CgkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0ub3JkZXJUeXBlPSflt7Lor4Tku7cnOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQkvL+a3u+WKoOWVhuWTgeaVsOmHj+Wtl+autQoJCQkJCQl2YXIgbnVtPTA7CgkJCQkJCWZvciAodmFyIGo9MDtqPF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlckdvb2RzZXMubGVuZ3RoO2orKykgewoJCQkJCQkJbnVtKz1wYXJzZUZsb2F0KF90aGlzLm9yZGVyTGlzdFtpXS5vcmRlckdvb2RzZXNbal0uYnV5Q291bnRlcik7CgkJCQkJCQlfdGhpcy5vcmRlckxpc3RbaV0uZ29vZHNOdW09bnVtOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDB8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+355m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkvLyBfdGhpcy4kdG9hc3QoJ+eZu+W9lei/h+acn++8jOivt+mHjeaWsOeZu+W9lScpOwoJCQkJLy8gc2V0VGltZW91dCgoKT0+ewoJCQkJLy8gCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCS8vIH0sMjAwMCkKCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJfSk7CgkJfQoJfSwKCWNyZWF0ZWQ6ZnVuY3Rpb24oKXsKCQlpZighaXNMb2dpbigpKXsKCQkJdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Jy9sb2dpbid9KQoJCQlyZXR1cm47CgkJfQoJCXZhciBfdGhpcz10aGlzOwoJCXBhZ2VOdW09MTsKCQlfdGhpcy5vcmRlckxpc3Q9W107CgkJX3RoaXMuZ2V0T3JkZXIocGFnZU51bSkKCQkKCX0KfTsK"},{"version":3,"sources":["orderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"orderList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<top-fixed-nav :title=\"title\"></top-fixed-nav>\r\n\t\t\r\n\t\t\t<!-- 下拉刷新 -->\r\n\t\t<van-pull-refresh v-model=\"refreshLoading\" @refresh=\"onRefresh\">\r\n\t\t\t<div class=\"order-list-wrap\" style=\"min-height: 300px;\">\r\n\t\t\t\t<p v-if=\"orderList.length<=0\" style=\"text-align: center;margin: 15px;\">暂无订单</p>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"item in orderList\" v-on:click=\"openOrderDetail(item.orderNo)\">\r\n\t\t\t\t\t\t<div class=\"win-tit-wrap\">\r\n\t\t\t\t\t\t\t<img :src=\"item.picUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t<p class=\"win-name\">{{item.sellerWinName}}</p>\r\n\t\t\t\t\t\t\t<span class=\"state\">{{item.orderType}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"order-list\">\r\n\t\t\t\t\t\t\t<p v-for=\"order in item.orderGoodses\">{{order.gName}}*{{order.buyCounter}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"order-total-wrap\"><span>共{{item.goodsNum}}件商品</span><span>总计<i class=\"total\">￥{{item.orderMode==2?item.totalAmount:item.totalAmount-item.deliveryFee}}</i></span></div>\r\n\t\t\t\t\t\t<div class=\"order-btn\">\r\n\t\t\t\t\t\t\t<span v-if=\"item.orderState==1\" v-on:click.stop=\"goPay(item.orderNo,item.sellerId,item.totalAmount)\">立即支付</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.orderState==5||item.orderState==8\" v-on:click.stop=\"cuiDan(item.orderNo)\">催单</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.orderState==8\" v-on:click.stop=\"confirmService(item.orderNo)\">确认送达</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.orderState==9\" v-on:click.stop=\"openAssessPopup(item.orderNo,item.picUrl,item.sellerWinName)\">立即评价</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</van-pull-refresh>\r\n\t\t\r\n\t\t<!-- 订单详情 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%',background:'#eee'}\" v-model=\"orderDetailPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"orderDetailPopup=false\"></span>订单详情\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"order-detail\">\r\n\t\t\t\t\t<div class=\"order-detail-top\" style=\"margin-bottom: -20px;\">\r\n\t\t\t\t\t\t<p v-on:click=\"openOrderTrack(orderDetailData.orderNo)\">订单跟踪 ></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"order-detail-top\" v-if=\"orderDetailData.orderState==1\">\r\n\t\t\t\t\t\t<p>等待支付</p>\r\n\t\t\t\t\t\t<!-- <p>请在15分钟内完成支付，超时将自动取消。</p>\r\n\t\t\t\t\t\t<p>等待支付 <span class=\"time\">15:00</span></p> -->\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"big-btn-wrap\">\r\n\t\t\t\t\t\t\t<van-button type=\"default\" size=\"small\" v-on:click=\"cancalOrder(orderDetailData.orderNo)\">取消订单</van-button>\r\n\t\t\t\t\t\t\t<van-button type=\"default\" size=\"small\" color=\"#FFBD27\" style=\"margin-left: 20px;\" v-on:click=\"goPay(orderDetailData.orderNo,orderDetailData.sellerId,orderDetailData.totalAmount,true)\">立即支付</van-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"my-order-list\" style=\"margin: 10px;border-radius: 6px;overflow: hidden;\">\r\n\t\t\t\t\t\t<div class=\"seller-info\">\r\n\t\t\t\t\t\t\t<img :src=\"orderDetailData.picUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t<p class=\"seller-name\">{{orderDetailData.sellerWinName}}</p>\r\n\t\t\t\t\t\t\t<p>{{orderDetailData.sellerWinAddress}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li v-for=\"item in orderDetailData.orderGoodses\">\r\n\t\t\t\t\t\t\t\t<p class=\"my-order-name\"><img :src=\"item.gPic\" alt=\"\">{{item.gName}}*{{item.buyCounter}}</p>\r\n\t\t\t\t\t\t\t\t<p class=\"price\">￥{{item.totalPrice}}</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div class=\"send-wrap\">\r\n\t\t\t\t\t\t\t<p v-show=\"sendAddress.mealMode==2\"><span>配送费</span><span>￥{{orderDetailData.deliveryFee}}</span></p>\r\n\t\t\t\t\t\t\t<p><span>环保费</span><span>￥{{orderDetailData.totalGreenMoney}}</span></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"total-price\">小计<span>￥{{sendAddress.mealMode==2?orderDetailData.totalPrice:orderDetailData.totalPrice-orderDetailData.deliveryFee}}</span></p>\r\n\t\t\t\t\t\t<a :href=\"'tel:'+orderDetailData.sellerPhone\" class=\"seller-phone\"><i class=\"iconfont icon-dianhua\"></i>商家电话</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div style=\"margin: 10px;border-radius: 6px;overflow: hidden;\">\r\n\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t  <van-cell title=\"订餐方式\" :value=\"sendAddress.mealMode==1?'自提':sendAddress.mealMode==2?'外送':'到店用餐'\" />\r\n\t\t\t\t\t\t  <van-cell title=\"期望送达时间\" :value=\"sendAddress.arrivalTime\" />\r\n\t\t\t\t\t\t  <van-cell :title=\"sendAddress.mealMode==1?'自提地址':sendAddress.mealMode==2?'配送地址':'用餐地址'\" :value=\"sendAddress.address\" />\r\n\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"margin: 10px;border-radius: 6px;overflow: hidden;\">\r\n\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t  <van-cell value-class=\"cell-value\" title=\"订单号\" :value=\"orderDetailData.orderNo\" />\r\n\t\t\t\t\t\t  <van-cell title=\"订单提交日期\" :value=\"orderDetailData.createTime\" />\r\n\t\t\t\t\t\t  <van-cell title=\"备注\" :value=\"orderDetailData.remark\" />\r\n\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 订单评价 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%',background:'#eee'}\" v-model=\"assessPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"assessPopup=false\"></span>订单评价\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"assess-item\">\r\n\t\t\t\t\t<p class=\"head-img\"><img src=\"../../public/static/images/icon/default_head.png\">{{sendName}}</p>\r\n\t\t\t\t\t<div class=\"pleased-wrap\">\r\n\t\t\t\t\t\t<span :class=\"{'active':pleasedTab==1}\" v-on:click=\"pleasedTabClick(1)\"><i class=\"iconfont icon-manyi\"></i>满意</span>\r\n\t\t\t\t\t\t<span :class=\"{'active':pleasedTab==2}\" v-on:click=\"pleasedTabClick(2)\"><i class=\"iconfont icon-feichangbumanyi\"></i>不满意</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"assess-msg\">\r\n\t\t\t\t\t\t<span v-on:click=\"selectSendAssess($event)\" v-for=\"sendAssessItem in sendAssessArr\">{{sendAssessItem.commentWordText}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"assess-item\">\r\n\t\t\t\t\t<p class=\"head-img\"><img :src=\"assessWinPic\">{{assessWinName}}</p>\r\n\t\t\t\t\t<div class=\"assess-star-wrap\">\r\n\t\t\t\t\t\t<div class=\"star-assess\" v-show=\"assessStarArr.length>0\">评价：<van-rate v-model=\"assessStar\" v-on:change=\"assessStarChange\" /><span class=\"assessText\">{{assessStarText}}</span></div>\r\n\t\t\t\t\t\t<div class=\"star-assess\" v-show=\"tasteStarArr.length>0\">口味：<van-rate v-model=\"tasteStar\" v-on:change=\"tasteStarChange\" /><span class=\"assessText\">{{tastStarText}}</span></div>\r\n\t\t\t\t\t\t<div class=\"star-assess\" v-show=\"packStarArr.length>0\">包装：<van-rate v-model=\"packStar\" v-on:change=\"packStarChange\" /><span class=\"assessText\">{{packStarText}}</span></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"assess-remark\">\r\n\t\t\t\t\t\t<van-field\r\n\t\t\t\t\t\t  v-model=\"assessRemark\"\r\n\t\t\t\t\t\t  rows=\"3\"\r\n\t\t\t\t\t\t  type=\"textarea\"\r\n\t\t\t\t\t\t  maxlength=\"100\"\r\n\t\t\t\t\t\t  placeholder=\"请输入留言\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"upload-img\">\r\n\t\t\t\t\t\t<van-uploader v-model=\"fileList\" multiple :max-count=\"4\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"assess-item\">\r\n\t\t\t\t\t<van-checkbox checked-color=\"#F4BE42\" v-model=\"nmChecked\" v-on:change=\"nmCheckedChange\">匿名评价</van-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"big-btn-wrap\">\r\n\t\t\t\t\t<van-button block color=\"#F4BE42\" v-on:click=\"submitBtn\">提交</van-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 订单跟踪 -->\r\n\t\t<van-popup :duration=\"0\" position=\"bottom\" :style=\"{width:'95%', height: '60%',background:'transparent',transform:'translateX(-50%)',marginLeft:'50%'}\" v-model=\"orderTrackPopup\">\r\n\t\t\t<div class=\"order-track-wrap\">\r\n\t\t\t\t<p class=\"order-track-tit\">订单跟踪</p>\r\n\t\t\t\t<div class=\"order-track-main\">\r\n\t\t\t\t\t<ul class=\"order-track-list\">\r\n\t\t\t\t\t\t<li v-for=\"item in orderTrackData\">\r\n\t\t\t\t\t\t\t<div class=\"order-track-item\">\r\n\t\t\t\t\t\t\t\t<span class=\"state\">{{item.stateName}}</span><span class=\"date\">{{item.createTime}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"order-track-send-phone\">\r\n\t\t\t\t\t\t\t\t<span>{{item.deliveryPersonName}}</span>\r\n\t\t\t\t\t\t\t\t<a :href=\"'tel:'+item.deliveryPersonPhone\">{{item.deliveryPersonPhone}}</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<p class=\"order-track-cancel\" v-on:click=\"orderTrackPopup=false\">关闭</p>\r\n\t\t</van-popup>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\tvar userId='';//用户id\r\n\tvar pageNum=1;//页码\r\n\texport default{\r\n\t\tdata:function(){\r\n\t\t\treturn{\r\n\t\t\t\ttitle:'订单',\r\n\t\t\t\torderList:[],//订单列表\r\n\t\t\t\tdefaultImg:'./static/images/icon/default1.png',//默认图片\r\n\t\t\t\torderDetailPopup:false,//订单详情\r\n\t\t\t\torderDetailData:'',//订单详情\r\n\t\t\t\tsendAddress:'',//配送地址详情\r\n\t\t\t\trefreshLoading: false,//下拉刷新\r\n\t\t\t\tassessPopup:false,//订单评价\r\n\t\t\t\tsendChecked:false,//配送员匿名\r\n\t\t\t\tpleasedTab:0,//满意、不满意切换\r\n\t\t\t\tpleasedType:'',//配送员评价类型（满意、不满意）\r\n\t\t\t\tassessMsg:[],//选择的满意用语\r\n\t\t\t\tassessRemark:'',//留言\r\n\t\t\t\tnmChecked:false,//匿名评价\r\n\t\t\t\tsendPleasedMsg:[],//配送员满意用语\r\n\t\t\t\tsendDispleasedMsg:[],//配送员不满意用语\r\n\t\t\t\tfileList:[],//上传图片\r\n\t\t\t\tsendAssessArr:[],//配送员评价用语\r\n\t\t\t\tassessWinPic:'',//评价里当前窗口图片\r\n\t\t\t\tassessWinName:'',//评价里当前窗口名\r\n\t\t\t\tsendName:'',//评价里配送员\r\n\t\t\t\tsendPersonId:'',//配送员id\r\n\t\t\t\tuserId:'',//用户id\r\n\t\t\t\tsellerId:'',//商家id\r\n\t\t\t\torderNo:'',//订单号\r\n\t\t\t\tassessStar:0,//评价星级\r\n\t\t\t\ttasteStar:0,//口味星级\r\n\t\t\t\tpackStar:0,//包装星级\r\n\t\t\t\tassessStarArr:[],//评价用语\r\n\t\t\t\ttasteStarArr:[],//口味用语\r\n\t\t\t\tpackStarArr:[],//包装用语\r\n\t\t\t\tassessStarText:'',//评价星级提示用语\r\n\t\t\t\ttastStarText:'',//口味星级提示用语\r\n\t\t\t\tpackStarText:'',//包装星级提示用语\r\n\t\t\t\torderTrackPopup:false,//订单跟踪\r\n\t\t\t\torderTrackData:[],//订单跟踪\r\n\t\t\t\torderStatus:'',//支付时查询的订单状态\r\n\t\t\t\t// orderWay:'',//订单方式1：自提2：外送，3：到店用餐\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t // 滚动到底加载更多\r\n\t\t\twindow.addEventListener('scroll',this.reachBottom)\t\t\t  \r\n\t\t},\r\n\t\t// 销毁监听滚动条事件\r\n\t\tdestroyed(){\r\n\t\t    window.removeEventListener('scroll', this.reachBottom)\r\n\t\t\tconsole.log('销毁')\r\n\t\t  },\r\n\t\t　　\r\n\t\tmethods:{\r\n\t\t\t// 获取订单详情\r\n\t\t\tgetOrderDetail(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('订单详情',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.orderStatus=data.data.data.orderState//只有orderState为1时订单状态为用户已提交订单，才可以付款\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 打开订单跟踪\r\n\t\t\topenOrderTrack(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.orderTrackPopup=true;\r\n\t\t\t\tconsole.log(orderNo)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/getStateInfo',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('订单跟踪',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.orderTrackData=data.data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 评价星级点击事件\r\n\t\t\tassessStarChange(e){\r\n\t\t\t\tif(this.assessStarArr[e-1]){\r\n\t\t\t\t\tthis.assessStarText=this.assessStarArr[e-1].commentItemContent\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.assessStarText='';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 口味星级点击事件\r\n\t\t\ttasteStarChange(e){\r\n\t\t\t\tif(this.tasteStarArr[e-1]){\r\n\t\t\t\t\tthis.tastStarText=this.tasteStarArr[e-1].commentItemContent\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.tastStarText='';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 包装星级点击事件\r\n\t\t\tpackStarChange(e){\r\n\t\t\t\tif(this.packStarArr[e-1]){\r\n\t\t\t\t\tthis.packStarText=this.packStarArr[e-1].commentItemContent\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.packStarText='';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 匿名评价change\r\n\t\t\tnmCheckedChange(e){\r\n\t\t\t\tif(e){\r\n\t\t\t\t\tuserId='';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuserId=this.userId;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(userId)\r\n\t\t\t},\r\n\t\t\t// 满意不满意切换\r\n\t\t\tpleasedTabClick(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.pleasedTab=e;\r\n\t\t\t\tif(_this.pleasedTab==1){\r\n\t\t\t\t\t_this.pleasedType='满意';\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.pleasedTab==2){\r\n\t\t\t\t\t_this.pleasedType='不满意';\r\n\t\t\t\t}\r\n\t\t\t\t_this.getSendAssess(e);\r\n\t\t\t\tvar assessItem=document.querySelectorAll('.assess-msg span');\r\n\t\t\t\tfor (var i=0;i<assessItem.length;i++) {\r\n\t\t\t\t\tassessItem[i].className='';\r\n\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t// 滚动到底加载更多\r\n\t\t\treachBottom(){\r\n\t\t\t\t  //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n\t\t\t\t  let scrollTop = document.documentElement.scrollTop||document.body.scrollTop;\r\n\t\t\t\t  //变量windowHeight是可视区的高度\r\n\t\t\t\t  let windowHeight = document.documentElement.clientHeight || document.body.clientHeight;\r\n\t\t\t\t  //变量scrollHeight是滚动条的总高度\r\n\t\t\t\t  let scrollHeight = document.documentElement.scrollHeight||document.body.scrollHeight;\r\n\t\t\t\t\t//滚动条到底部的条件\r\n\t\t\t\t\tif(scrollTop+windowHeight >= scrollHeight){\r\n\t\t\t\t\t\tpageNum++;\r\n\t\t\t\t\t\tthis.getOrder(pageNum)\r\n\t\t\t\t\t\tconsole.log('到底了',pageNum)\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 点击立即评价\r\n\t\t\topenAssessPopup(orderNo,winPic,winName){\r\n\t\t\t\tconsole.log(orderNo,winPic,winName)\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t_this.assessPopup=true;\r\n\t\t\t\t_this.getSellerAssessMsg();//商家星级评价\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// 设置评价里窗口图片和窗口名\r\n\t\t\t\t_this.assessWinPic=winPic?winPic:'./static/images/icon/default1.png';\r\n\t\t\t\t_this.assessWinName=winName;\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'get',\r\n\t\t\t\t\t  url: port+'/v1/order/get',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\torderNo:orderNo\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('评价-订单详情',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.sendName=data.data.data.deliveryPersonName;//配送员姓名\r\n\t\t\t\t\t\t\t_this.sendPersonId=data.data.data.deliveryPersonId;//配送员id\r\n\t\t\t\t\t\t\t_this.userId=data.data.data.personId;//用户id\r\n\t\t\t\t\t\t\tuserId=data.data.data.personId;\r\n\t\t\t\t\t\t\t_this.sellerId=data.data.data.sellerId;//商家id\r\n\t\t\t\t\t\t\t_this.orderNo=data.data.data.orderNo;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('请先登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点击配送员评价用语\r\n\t\t\tselectSendAssess(e){\r\n\t\t\t\tif(e.target.className==''){\r\n\t\t\t\t\te.target.className='active'\r\n\t\t\t\t}else{\r\n\t\t\t\t\te.target.className=''\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 获取配送员评价用语\r\n\t\t\tgetSendAssess(type){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'get',\r\n\t\t\t\t\t  url: port+'/v1/order/getCommentWord',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('userInfo')).cId,\r\n\t\t\t\t\t\tcommentTypeId:type//用语类型（0全部，1满意，2不满意）\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.sendAssessArr=[];\r\n\t\t\t\t\t\t\t_this.sendAssessArr=data.data.data\r\n\t\t\t\t\t\t\tconsole.log('配送员评价用语',_this.sendAssessArr)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('请先登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获商家评价\r\n\t\t\tgetSellerAssessMsg(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'get',\r\n\t\t\t\t\t  url: port+'/v1/order/getCommentItem',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('userInfo')).cId,\r\n\t\t\t\t\t\tcommentTypeId:0\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('商家评价用语',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t// 评价、口味、包装定义变量，下面排序赋值用\r\n\t\t\t\t\t\t\tvar assessStarArr=[];\r\n\t\t\t\t\t\t\tvar tasteStarArr=[];\r\n\t\t\t\t\t\t\tvar packStarArr=[];\r\n\t\t\t\t\t\t\t// 评价、口味、包装先清空\r\n\t\t\t\t\t\t\t_this.assessStarArr=[];\r\n\t\t\t\t\t\t\t_this.tasteStarArr=[];\r\n\t\t\t\t\t\t\t_this.packStarArr=[];\r\n\t\t\t\t\t\t\tif(data.data.data.length>0){\r\n\t\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\t\t// 评价用语单独抽离\r\n\t\t\t\t\t\t\t\t\tif(data.data.data[i].commentTypeId==1){\r\n\t\t\t\t\t\t\t\t\t\tassessStarArr.push({commentItemScore:data.data.data[i].commentItemScore,commentItemContent:data.data.data[i].commentItemContent})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// 口味用语抽离\r\n\t\t\t\t\t\t\t\t\tif(data.data.data[i].commentTypeId==2){\r\n\t\t\t\t\t\t\t\t\t\ttasteStarArr.push({commentItemScore:data.data.data[i].commentItemScore,commentItemContent:data.data.data[i].commentItemContent})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// 包装用语抽离\r\n\t\t\t\t\t\t\t\t\tif(data.data.data[i].commentTypeId==3){\r\n\t\t\t\t\t\t\t\t\t\tpackStarArr.push({commentItemScore:data.data.data[i].commentItemScore,commentItemContent:data.data.data[i].commentItemContent})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 对评价根据分数排序\r\n\t\t\t\t\t\t\t\t_this.assessStarArr=assessStarArr.sort(function(a,b){\r\n\t\t\t\t\t\t\t\t\treturn a.commentItemScore-b.commentItemScore\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 对口味评价根据分数排序\r\n\t\t\t\t\t\t\t\t_this.tasteStarArr=tasteStarArr.sort(function(a,b){\r\n\t\t\t\t\t\t\t\t\treturn a.commentItemScore-b.commentItemScore\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 对包装评价根据分数排序\r\n\t\t\t\t\t\t\t\t_this.packStarArr=packStarArr.sort(function(a,b){\r\n\t\t\t\t\t\t\t\t\treturn a.commentItemScore-b.commentItemScore\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log('评价：',_this.assessStarArr,'口味：',_this.tasteStarArr,'包装',_this.packStarArr)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('满意：',_this.sendPleasedMsg,'不满意：',_this.sendDispleasedMsg)\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('请先登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 提交评价\r\n\t\t\tsubmitBtn(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar starAssess=[];//星级评价\r\n\t\t\t\t// 如果有评价项\r\n\t\t\t\tif(_this.assessStarArr.length>0){\r\n\t\t\t\t\tstarAssess.push({commentTipContent:_this.assessStarText,commentTypeId:\"1\",commentTypeName:\"评价\",pId:JSON.parse(localStorage.getItem(\"userInfo\")).pId,score:_this.assessStar,sellerId:_this.sellerId,orderNo:_this.orderNo})\r\n\t\t\t\t}\r\n\t\t\t\t// 如果有口味评价项\r\n\t\t\t\tif(_this.tasteStarArr.length>0){\r\n\t\t\t\t\tstarAssess.push({commentTipContent:_this.tastStarText,commentTypeId:\"2\",commentTypeName:\"口味\",pId:JSON.parse(localStorage.getItem(\"userInfo\")).pId,score:_this.tasteStar,sellerId:_this.sellerId,orderNo:_this.orderNo})\r\n\t\t\t\t}\r\n\t\t\t\t// 如果有包装评价项\r\n\t\t\t\tif(_this.packStarArr.length>0){\r\n\t\t\t\t\tstarAssess.push({commentTipContent:_this.packStarText,commentTypeId:\"3\",commentTypeName:\"包装\",pId:JSON.parse(localStorage.getItem(\"userInfo\")).pId,score:_this.packStar,sellerId:_this.sellerId,orderNo:_this.orderNo})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('星级提交',starAssess)\r\n\t\t\t\tvar formData=new FormData();\r\n\t\t\t\tvar sendAssessMsg=[];//配送员评价用语\r\n\t\t\t\tvar imgArr=[];//上传图片\r\n\t\t\t\tfor (var i=0;i<this.fileList.length;i++) {\r\n\t\t\t\t\timgArr.push(this.fileList[i].file)\r\n\t\t\t\t\tformData.append('files',this.fileList[i].file)\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('上传图片',imgArr)\r\n\t\t\t\t\r\n\t\t\t\t// 获取选中的配送员评价用语\r\n\t\t\t\tvar assessItem=document.querySelectorAll('.assess-msg span');\r\n\t\t\t\tfor (var i=0;i<assessItem.length;i++) {\r\n\t\t\t\t\tif(assessItem[i].className=='active'){\r\n\t\t\t\t\t\tsendAssessMsg.push(assessItem[i].innerHTML)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(sendAssessMsg.length==0&&imgArr.length==0&&_this.assessRemark==\"\"){\r\n\t\t\t\t\tconsole.log('到这了');\r\n\t\t\t\t\t_this.$toast('您已放弃评价')\r\n\t\t\t\t\t_this.assessPopup=false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/order/comment',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},//\r\n\t\t\t\t\t  data:formData,//文件\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\t  orderNo:_this.orderNo,\r\n\t\t\t\t\t\t  deliveryPersonId:_this.sendPersonId,//配送员id\r\n\t\t\t\t\t\t  commentWordTypeId:_this.pleasedTab,//评语所属类型id（满意1，不满意2）\r\n\t\t\t\t\t\t  commentWordTypeName:_this.pleasedType,//评语所属类型名称（满意，不满意）\r\n\t\t\t\t\t\t  commentWords:sendAssessMsg.toString(),//评语，格式:词语,词语\r\n\t\t\t\t\t\t  pId:userId,//用户id\r\n\t\t\t\t\t\t  sellerId:_this.sellerId,//商家id\r\n\t\t\t\t\t\t  commentContent:_this.assessRemark,//评论内容\r\n\t\t\t\t\t\t  sellerItemComments:JSON.stringify(starAssess).substring(1,JSON.stringify(starAssess).length-1),//商家星级评论项，去掉前后中括号\r\n\t\t\t\t\t\t  goodsComments:'',\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('提交评价',data)\r\n\t\t\t\t\t\tload.clear();\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast('已评价');\r\n\t\t\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\t\t\t_this.orderList=[];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_this.assessPopup=false;\r\n\t\t\t\t\t\t\t_this.getOrder(pageNum);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tlocation.reload()\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 下拉刷新\r\n\t\t\t onRefresh() {\r\n\t\t\t       pageNum=1;\r\n\t\t\t       this.orderList=[];\r\n\t\t\t       this.getOrder(pageNum);\r\n\t\t\t\t   this.refreshLoading = false;\r\n\t\t\t\t  \r\n\t\t\t    },\r\n\t\t\t// 确定送达\r\n\t\t\tconfirmService(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/order/arrive',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\torderNo:orderNo,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('确定送达',data)\r\n\t\t\t\t\t\tload.clear();\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast('已确认送达');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\t\t\t\t_this.orderList=[];\r\n\t\t\t\t\t\t\t\t_this.getOrder(pageNum);\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 查询地址详情\r\n\t\t\tgetAddress(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/getOrderAddress',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo,\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.sendAddress=data.data.data;\r\n\t\t\t\t\t\tconsole.log('订单配送地址详情',_this.sendAddress)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 催单\r\n\t\t\tcuiDan(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'post',\r\n\t\t\t\t  url: port+'/v1/order/remind',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo,\r\n\t\t\t\t\ttradeNo:'1'\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('催单',data)\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.$toast('已催单');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 立即支付\r\n\t\t\tgoPay(orderNo,sellerId,totalAmount,isPopupPay){\r\n\t\t\t\t\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.getOrderDetail(orderNo)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t_this.$dialog.confirm({\r\n\t\t\t\t  title: '温馨提示',\r\n\t\t\t\t  message: '确定支付？',\r\n\t\t\t\t})\r\n\t\t\t\t  .then(() => {\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  if(_this.orderStatus!=1){\r\n\t\t\t\t\t\t  _this.$toast('订单超时已取消！');\r\n\t\t\t\t\t\t  setTimeout(()=>{\r\n\t\t\t\t\t\t\t  // 如果是在订单详情里点击的立即支付，则关闭当前详情\r\n\t\t\t\t\t\t\t  if(isPopupPay){\r\n\t\t\t\t\t\t\t\t  _this.orderDetailPopup=false;\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t  pageNum=1;\r\n\t\t\t\t\t\t\t  _this.orderList=[];\r\n\t\t\t\t\t\t  \t_this.getOrder(pageNum);\r\n\t\t\t\t\t\t  },1000)\r\n\t\t\t\t\t\t  return;\r\n\t\t\t\t\t  }\r\n\t\t\t\t    var load=_this.$toast.loading({\r\n\t\t\t\t      message: '正在提交...',\r\n\t\t\t\t      duration:0,\r\n\t\t\t\t      forbidClick: true,\r\n\t\t\t\t    });\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 真实支付\r\n\t\t\t\t\t// _this.$axios({\r\n\t\t\t\t\t//   method: 'get',\r\n\t\t\t\t\t//   url:JSON.parse(localStorage.getItem('userInfo')).wxPayUrl,\r\n\t\t\t\t\t//   params: {\r\n\t\t\t\t\t// \ttotalFee:totalAmount*100,//金额（分）\r\n\t\t\t\t\t// \tbody:'请支付',//标题\r\n\t\t\t\t\t// \toutTradeNo:orderNo,//订单编号\r\n\t\t\t\t\t// \tattach:sellerId,//商家id\r\n\t\t\t\t\t// \tnotifyUrl:port+'/v1/order/wechatPayNotify'\r\n\t\t\t\t\t//   }\r\n\t\t\t\t\t// }).then(function(data){\r\n\t\t\t\t\t// \tconsole.log('支付',data)\r\n\t\t\t\t\t// \tload.clear();\r\n\t\t\t\t\t// \tvar payUrl=data.data.data.payUrl+\"&redirect_url=\"+payBackUrl+\"/#/index\";\r\n\t\t\t\t\t// \t_this.$router.push({'path':'/pay',query:{'payUrl':payUrl}});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// }).catch(function(error){\r\n\t\t\t\t\t// \tconsole.log(error);\r\n\t\t\t\t\t// });\r\n\t\t\t\t    \r\n\t\t\t\t\t\r\n\t\t\t\t\t// 模拟支付\r\n\t\t\t\t    _this.$axios({\r\n\t\t\t\t      method: 'post',\r\n\t\t\t\t      url: port+'/v1/order/pay',\r\n\t\t\t\t      headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t      params: {\r\n\t\t\t\t        orderNo:orderNo,\r\n\t\t\t\t\t\ttradeNo:'1',\r\n\t\t\t\t\t\tsellerId:sellerId\r\n\t\t\t\t      }\r\n\t\t\t\t    }).then(function(data){\r\n\t\t\t\t\t\tconsole.log('立即支付',data)\r\n\t\t\t\t\t\t\r\n\t\t\t\t    \tload.clear();//关闭加载\r\n\t\t\t\t    \tif (data.data.status==200) {\r\n\t\t\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\t\t\t_this.orderList=[];\r\n\t\t\t\t    \t\t_this.getOrder(pageNum);\r\n\t\t\t\t\t\t\t_this.orderDetailPopup=false;\r\n\t\t\t\t\t\t\t_this.$toast('支付成功');\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tif(data.data.status==600){\r\n\t\t\t\t    \t\t_this.$toast(data.data.msg);\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t    \t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t    \t\tsetTimeout(()=>{\r\n\t\t\t\t    \t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t    \t\t},2000)\r\n\t\t\t\t    \t}\r\n\t\t\t\t    }).catch(function(error){\r\n\t\t\t\t    \t_this.$toast('操作失败');\r\n\t\t\t\t    \tconsole.log(error);\r\n\t\t\t\t    });\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t  })\r\n\t\t\t\t  .catch(() => {\r\n\t\t\t\t    // on cancel\r\n\t\t\t\t  });\r\n\t\t\t},\r\n\t\t\t// 取消订单\r\n\t\t\tcancalOrder(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tconsole.log(orderNo)\r\n\t\t\t\t_this.$dialog.confirm({\r\n\t\t\t\t  title: '温馨提示',\r\n\t\t\t\t  message: '确定取消订单？',\r\n\t\t\t\t})\r\n\t\t\t\t  .then(() => {\r\n\t\t\t\t    var load=_this.$toast.loading({\r\n\t\t\t\t      message: '提交中...',\r\n\t\t\t\t      duration:0,\r\n\t\t\t\t      forbidClick: true,\r\n\t\t\t\t    });\r\n\t\t\t\t    \r\n\t\t\t\t    _this.$axios({\r\n\t\t\t\t      method: 'post',\r\n\t\t\t\t      url: port+'/v1/order/updateState',\r\n\t\t\t\t      headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t      params: {\r\n\t\t\t\t        orderNo:orderNo\r\n\t\t\t\t      }\r\n\t\t\t\t    }).then(function(data){\r\n\t\t\t\t\t\tconsole.log('取消订单',data)\r\n\t\t\t\t    \tload.clear();//关闭加载\r\n\t\t\t\t    \tif (data.data.status==200) {\r\n\t\t\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\t\t\t_this.orderList=[];\r\n\t\t\t\t    \t\t_this.getOrder(pageNum);\r\n\t\t\t\t\t\t\t_this.orderDetailPopup=false;\r\n\t\t\t\t\t\t\t_this.$toast('已取消');\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tif(data.data.status==600){\r\n\t\t\t\t    \t\t_this.$toast(data.data.msg);\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t    \t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t    \t\tsetTimeout(()=>{\r\n\t\t\t\t    \t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t    \t\t},2000)\r\n\t\t\t\t    \t}\r\n\t\t\t\t    }).catch(function(error){\r\n\t\t\t\t    \t_this.$toast('操作失败');\r\n\t\t\t\t    \tconsole.log(error);\r\n\t\t\t\t    });\r\n\t\t\t\t  })\r\n\t\t\t\t  .catch(() => {\r\n\t\t\t\t    // on cancel\r\n\t\t\t\t  });\r\n\t\t\t},\r\n\t\t\t// 订单详情\r\n\t\t\topenOrderDetail(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.orderDetailPopup=true\r\n\t\t\t\t\r\n\t\t\t\t_this.getAddress(orderNo);\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.orderDetailData=data.data.data\r\n\t\t\t\t\t\tconsole.log('订单详情',_this.orderDetailData)\r\n\t\t\t\t\t\t_this.orderDetailData.picUrl=sellerPort+_this.orderDetailData.picUrl\r\n\t\t\t\t\t\tvar totalPrice=0;\r\n\t\t\t\t\t\t// 计算所有菜品的环保费\r\n\t\t\t\t\t\tvar greenMoney=0;\r\n\t\t\t\t\t\tfor (var i=0;i<_this.orderDetailData.orderGoodses.length;i++) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 计算每个菜品的总价\r\n\t\t\t\t\t\t\t_this.orderDetailData.orderGoodses[i].totalPrice=_this.orderDetailData.orderGoodses[i].buyCounter*_this.orderDetailData.orderGoodses[i].gPrice;\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tgreenMoney+=_this.orderDetailData.orderGoodses[i].buyCounter*_this.orderDetailData.orderGoodses[i].gGreenFee;\r\n\t\t\t\t\t\t\t_this.orderDetailData.totalGreenMoney=greenMoney;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 计算总价\r\n\t\t\t\t\t\t\ttotalPrice+=_this.orderDetailData.orderGoodses[i].totalPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.orderDetailData.totalPrice=totalPrice+greenMoney+_this.orderDetailData.deliveryFee;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 查询订单列表\r\n\t\t\tgetOrder(pageNum){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/query',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    personId:JSON.parse(localStorage.getItem('userInfo')).pId,\r\n\t\t\t\t\tpageNum:pageNum,\r\n\t\t\t\t\tpageSize:10\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif (data.data.data.list.length>0) {\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.list.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data.list[i].picUrl=sellerPort+data.data.data.list[i].picUrl;//窗口图片\r\n\t\t\t\t\t\t\t\t_this.orderList.push(data.data.data.list[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t_this.$toast('已加载全部');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('订单列表',_this.orderList);\r\n\t\t\t\t\t\tfor (var i=0;i<_this.orderList.length;i++) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 订单状态\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==0){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='用户取消订单';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==1){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待支付';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==2){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待商家接单';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==3){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='商家取消订单';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==4){\r\n\t\t\t\t\t\t\t\tif(_this.orderList[i].orderMode!=2){\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='出餐中';\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待配送员接单';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==5){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(_this.orderList[i].outMealState==1){\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待配送员取餐';\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='出餐中';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==6){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='配送员已转单';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==7){\r\n\t\t\t\t\t\t\t\tif(_this.orderList[i].orderMode==1){\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='自提中';\r\n\t\t\t\t\t\t\t\t}else if(_this.orderList[i].orderMode==3){\r\n\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待用餐';\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tif(!_this.orderList[i].deliveryPersonId){\r\n\t\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待配送员接单';\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待配送员取餐';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==8){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='配送中';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==9){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='待评价';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.orderList[i].orderState==10){\r\n\t\t\t\t\t\t\t\t_this.orderList[i].orderType='已评价';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//添加商品数量字段\r\n\t\t\t\t\t\t\tvar num=0;\r\n\t\t\t\t\t\t\tfor (var j=0;j<_this.orderList[i].orderGoodses.length;j++) {\r\n\t\t\t\t\t\t\t\tnum+=parseFloat(_this.orderList[i].orderGoodses[j].buyCounter);\r\n\t\t\t\t\t\t\t\t_this.orderList[i].goodsNum=num;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(data.data.status==600||data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t// _this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t\t// \t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t// },2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated:function(){\r\n\t\t\tif(!isLogin()){\r\n\t\t\t\tthis.$router.push({path:'/login'})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this=this;\r\n\t\t\tpageNum=1;\r\n\t\t\t_this.orderList=[];\r\n\t\t\t_this.getOrder(pageNum)\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n</script>\r\n<style type=\"text/css\">\r\n.order-list-wrap .shop-tit{position: relative;padding-right: 100px;}\r\n.order-list-wrap li{background: #fff;overflow: hidden;margin: 10px;padding: 10px;border-radius: 4px;}\r\n.win-tit-wrap{padding-right: 80px;position: relative;border-bottom: 1px solid #eee;padding-bottom: 10px;}\r\n.win-tit-wrap img{width: 50px;height: 50px;float: left;margin-right: 10px;}\r\n.win-name{line-height: 50px;font-size: 16px;color: #333;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;}\r\n.win-tit-wrap .state{position: absolute;right: 0;line-height: 50px;top: 0;font-size: 12px;color: #999;}\r\n\r\n.order-list p{color: #666;margin-top: 4px;}\r\n.order-total-wrap{text-align: right;}\r\n.order-total-wrap span:nth-child(1){margin-right: 10px;}\r\n.order-total-wrap .total{font-weight: bold;}\r\n.order-total-wrap{border-bottom: 1px solid #eee;padding-bottom: 5px;}\r\n.order-btn{text-align: right;}\r\n.order-btn span{font-size: 14px;color: #333;border: 1px solid #ddd;padding: 5px 10px;display: inline-block;border-radius: 5px;margin-right: 10px;margin-top: 10px;}\r\n.order-btn span:active{background: #f9f9f9;}\r\n.order-btn span:last-child{margin-right: 0;}\r\n\r\n.order-detail-top{background: #fff;text-align: center;margin: 10px;padding: 10px;border-radius: 6px;}\r\n.order-detail-top p{margin: 4px 0;}\r\n.order-detail-top .time{color: #FFBD27;}\r\n\r\n.seller-phone{text-align: center;padding: 10px;background: #fff;color: #333;display: block;border-top: 1px solid #eee;}\r\n.seller-phone .iconfont{color: #FFBD27;margin-right: 5px;}\r\n\r\n.seller-info{background: #fff;border-bottom: 1px solid #eee;padding: 15px;overflow: hidden;}\r\n.seller-info img{width: 40px;height: 40px;float: left;margin-right: 10px;}\r\n.seller-info p{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}\r\n.seller-info p.seller-name{font-weight: bold;}\r\n\r\n.assess-item{background: #fff;margin: 10px;border-radius: 6px;padding: 10px;}\r\n.assess-item .head-img img{width: 40px;height: 40px;margin-right: 10px;}\r\n.assess-item .head-img{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}\r\n\r\n.pleased-wrap{display: flex;margin-top: 10px;}\r\n.pleased-wrap span{flex: 1;text-align: center;height: 35px;line-height: 35px;background: #F5F5F5;border-radius: 4px;}\r\n.pleased-wrap span .iconfont{color: #999;margin-right: 6px;}\r\n.pleased-wrap span.active{background: #FEF9E6;color: #FFB200;}\r\n.pleased-wrap span.active .iconfont{color: #FFB200;}\r\n.pleased-wrap span:nth-child(1){margin-right: 10px;}\r\n\r\n.assess-msg{margin-top: 10px;}\r\n.assess-msg span{background: #f5f5f5;padding: 4px 8px;display: inline-block;margin-right: 10px;border-radius: 3px;font-size: 12px;margin-bottom: 10px;}\r\n.assess-msg span.active{background: #F4BE42;}\r\n\r\n.assess-star-wrap{margin:10px 0;}\r\n.assess-remark .van-cell{background: #f5f5f5;}\r\n.upload-img{margin-top: 10px;}\r\n\r\n.star-assess{margin-top: 5px;}\r\n.star-name{margin-right: 10px;vertical-align: super;}\r\n.assess-star-wrap .assessText{color: #999;margin-left: 10px;}\r\n\r\n.order-track-wrap{position: absolute;width: 100%;background: #fff;left: 0;bottom: 60px;border-radius: 6px;}\r\n.order-track-wrap .order-track-tit{padding: 10px;text-align: center;font-size: 16px;border-bottom: 1px solid #eee;}\r\n.order-track-wrap .order-track-main{height: 250px;overflow-y: auto;padding: 10px;box-sizing: border-box;}\r\n.order-track-cancel{padding: 10px;text-align: center;font-size: 16px;position: absolute;width: 100%;background: #fff;left: 0;bottom: 10px;border-radius: 6px;box-sizing: border-box;}\r\n\r\n.order-track-list li{position: relative;margin-bottom: 15px;}\r\n.order-track-list li .order-track-send-phone a{color: #F4BE42;}\r\n.order-track-list .order-track-item{display: flex;justify-content: space-between;padding-left: 20px;}\r\n.order-track-list li:before{content: '';position: absolute;width: 5px;height: 5px;background: #F4BE42;border-radius: 50%;left: 5px;top: 6px;}\r\n.order-track-list li:after{content: '';position: absolute;width: 1px;height: 120%;left: 7px;top: 14px;background: #F4BE42;}\r\n.order-track-list li:last-child:after{display: none;}\r\n.order-track-list .date{color: #999;font-size: 12px;}\r\n.order-track-send-phone{padding-left: 20px;margin-top: 4px;color: #666;}\r\n.cell-value{flex: none;}\r\n</style>"]}]}