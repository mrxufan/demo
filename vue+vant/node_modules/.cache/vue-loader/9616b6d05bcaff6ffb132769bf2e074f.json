{"remainingRequest":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\dingCanMobile\\src\\views\\winDetail.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"G:\\dingCanMobile\\src\\views\\winDetail.vue","mtime":1593308914665},{"path":"G:\\dingCanMobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":1587344362830},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1587344055013},{"path":"G:\\dingCanMobile\\node_modules\\postcss-loader\\src\\index.js","mtime":1587344830790},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1587344054728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLndpbi1kZXRhaWwtdG9we2JhY2tncm91bmQ6ICNmZmY7YmFja2dyb3VuZDogI2ZmZjttYXJnaW46IDEwcHg7cGFkZGluZzogMTBweDtwYWRkaW5nLXJpZ2h0OiA3NXB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtib3JkZXItcmFkaXVzOiA2cHg7fQ0KLndpbi1kZXRhaWwtdG9wIC53aW4tbmFtZXtmb250LXNpemU6IDE2cHg7b3ZlcmZsb3c6IGhpZGRlbjt3aGl0ZS1zcGFjZTogbm93cmFwO3RleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO21hcmdpbi1ib3R0b206IDRweDt9DQoud2luLWRldGFpbC10b3AgLndpbi1pbWd7cG9zaXRpb246IGFic29sdXRlO3dpZHRoOiA2MHB4O2hlaWdodDogNjBweDtyaWdodDogMTBweDt0b3A6IDEwcHg7fQ0KLndpbi1kZXRhaWwtdG9wIC5zZWxsLW51bSBzcGFue21hcmdpbi1sZWZ0OiA0cHg7Y29sb3I6ICM2NjY7Zm9udC1zaXplOiAxM3B4O30NCi53aW4tZGV0YWlsLXRvcCAuc2VuZC1wcmljZXttYXJnaW46IDRweCAwO30NCi53aW4tZGV0YWlsLXRvcCAuc2VuZC1wcmljZSwud2luLWRldGFpbC10b3AgLndpbi10aXBze2ZvbnQtc2l6ZTogMTNweDtjb2xvcjogIzk5OTt9DQoud2luLWRldGFpbC10b3AgLndpbi10aXBzIC5pY29uZm9udHtjb2xvcjogI0Y0QkU0MjttYXJnaW4tcmlnaHQ6IDZweDt9DQoNCi5nb29kcy10eXBlLXdyYXB7YmFja2dyb3VuZDogI2ZmZjt9DQouZ29vZHMtdHlwZS13cmFwIC5nb29kcy10eXBlLXRhYntib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTt9DQouZ29vZHMtdHlwZS13cmFwIC5nb29kcy10eXBlLXRhYiBhe2NvbG9yOiAjMzMzO21hcmdpbi1yaWdodDogMjBweDtwYWRkaW5nOiAxMHB4O2Rpc3BsYXk6IGlubGluZS1ibG9jazt9DQouZ29vZHMtdHlwZS13cmFwIC5nb29kcy10eXBlLXRhYiBhLmFjdGl2ZXtmb250LXdlaWdodDogYm9sZDtwb3NpdGlvbjogcmVsYXRpdmU7fQ0KLmdvb2RzLXR5cGUtd3JhcCAuZ29vZHMtdHlwZS10YWIgYS5hY3RpdmU6OmFmdGVye2NvbnRlbnQ6ICcnO3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogMTAwJTtoZWlnaHQ6IDNweDtiYWNrZ3JvdW5kOiAjRjRCRTQyO2xlZnQ6IDUwJTtib3R0b206IDA7dHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO30NCi5nb29kcy10eXBlLW1haW4gLmdvb2RzdC10eXBlLWl0ZW17ZGlzcGxheTogbm9uZTtvdmVyZmxvdy15OiBhdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDt9DQouZ29vZHMtdHlwZS1tYWluIC5nb29kc3QtdHlwZS1pdGVtLnNob3d7ZGlzcGxheTogYmxvY2s7fQ0KLmdvb2RzLXR5cGUtd3JhcHttYXJnaW46IDEwcHg7fQ0KDQouZ29vZHMtdHlwZS1sZWZ0e292ZXJmbG93LXk6IGF1dG87d2lkdGg6IDEwMHB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2VlZTstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7ZmxvYXQ6IGxlZnQ7fQ0KLmdvb2RzLXR5cGUtbGVmdCBsaXt0ZXh0LWFsaWduOiBjZW50ZXI7cGFkZGluZzogMTBweCAwO292ZXJmbG93OiBoaWRkZW47d2hpdGUtc3BhY2U6IG5vd3JhcDt0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztjb2xvcjogIzMzMzt9DQouZ29vZHMtdHlwZS1sZWZ0IGxpLmFjdGl2ZXtiYWNrZ3JvdW5kOiAjRjhGOEY4O2ZvbnQtd2VpZ2h0OiBib2xkO30NCi5nb29kcy10eXBlLXJpZ2h0e21hcmdpbi1sZWZ0OiAxMDBweDtwYWRkaW5nOiAxMHB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO292ZXJmbG93LXk6IGF1dG87fQ0KDQouZ29vZHMtbGlzdHtvdmVyZmxvdzogaGlkZGVuOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDt9DQouZ29vZHMtbGlzdCAuZ29vZHMtaW1ne3dpZHRoOiA3MHB4O2hlaWdodDogNzBweDtmbG9hdDogbGVmdDttYXJnaW4tcmlnaHQ6IDEwcHg7cG9zaXRpb246IHJlbGF0aXZlO30NCi5nb29kcy1saXN0IC5nb29kcy1pbWcgaW1ne3dpZHRoOiA3MHB4O2hlaWdodDogNzBweDt9DQouZ29vZHMtbGlzdCBwe292ZXJmbG93OiBoaWRkZW47dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7d2hpdGUtc3BhY2U6IG5vd3JhcDt9DQouZ29vZHMtbGlzdCAuZ29vZHMtbmFtZXtmb250LXNpemU6IDE0cHg7Zm9udC13ZWlnaHQ6IGJvbGQ7bWFyZ2luLWJvdHRvbTogNHB4O30NCi5nb29kcy1saXN0IC5zZWxsLW51bXtjb2xvcjogIzk5OTt9DQouZ29vZHMtbGlzdCAuZ29vZHMtcHJpY2V7Y29sb3I6ICNFQTQ2NDY7Zm9udC13ZWlnaHQ6IGJvbGQ7bWFyZ2luLXRvcDogNXB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtwYWRkaW5nLXJpZ2h0OiA3MHB4O30NCi5nb29kcy1saXN0IGxpe3Bvc2l0aW9uOiByZWxhdGl2ZTtvdmVyZmxvdzogaGlkZGVuO21hcmdpbi1ib3R0b206IDEwcHg7fQ0KLnAtZ29vZHMtdGl0e21hcmdpbi1ib3R0b206IDEwcHg7fQ0KDQouY291bnRlcntwb3NpdGlvbjogYWJzb2x1dGU7d2lkdGg6IDcwcHg7b3ZlcmZsb3c6IGhpZGRlbjtyaWdodDogMDt0b3A6IDA7aGVpZ2h0OiAyMHB4O30NCi5jb3VudGVyIHNwYW57d2lkdGg6IDIwcHg7aGVpZ2h0OiAyMHB4O2JvcmRlci1yYWRpdXM6IDUwJTtsaW5lLWhlaWdodDogMjBweDtmb250LXNpemU6IDEycHg7fQ0KLmNvdW50ZXIgc3Bhbi5taW57Ym9yZGVyOiAxcHggc29saWQgI2RkZDtsZWZ0OiAwO30NCi5jb3VudGVyIHNwYW4uYWRke2JhY2tncm91bmQ6ICNGNEJFNDI7cmlnaHQ6IDA7fQ0KLmNvdW50ZXIgc3BhbiwuY291bnRlciBpbnB1dHt3aWR0aDogMjBweDtib3gtc2l6aW5nOiBib3JkZXItYm94O2NvbG9yOiAjMzMzO3RleHQtYWxpZ246IGNlbnRlcjtoZWlnaHQ6IDIwcHg7cG9zaXRpb246IGFic29sdXRlO30NCi5jb3VudGVyIGlucHV0e2JvcmRlcjogbm9uZTtmb250LXdlaWdodDogbm9ybWFsO2xlZnQ6IDI1cHg7fQ0KDQouc2hvcC1jYXJ7cGFkZGluZzogMTBweDtib3gtc2l6aW5nOiBib3JkZXItYm94O3Bvc2l0aW9uOiBmaXhlZDt3aWR0aDogMTAwJTtsZWZ0OiAwO2JvdHRvbTogMDtib3gtc2l6aW5nOiBib3JkZXItYm94O30NCi5zaG9wLWNhciAuc2hvcC1jYXItbWFpbntwYWRkaW5nLXJpZ2h0OiA4MHB4O2JhY2tncm91bmQ6ICMwQzBDMEM7cG9zaXRpb246IHJlbGF0aXZlO2hlaWdodDogNDVweDtib3JkZXItcmFkaXVzOiAxMDBweDtvdmVyZmxvdzogaGlkZGVuO3BhZGRpbmctbGVmdDogNzVweDt9DQouc2hvcC1jYXItY291bnQtYnRue3Bvc2l0aW9uOiBhYnNvbHV0ZTtoZWlnaHQ6IDQ1cHg7cmlnaHQ6IDA7dG9wOiAwO2JhY2tncm91bmQ6ICNGNEJFNDI7Y29sb3I6ICMzMzM7Zm9udC13ZWlnaHQ6IGJvbGQ7bGluZS1oZWlnaHQ6IDQ1cHg7d2lkdGg6IDgwcHg7dGV4dC1hbGlnbjogY2VudGVyO30NCi5zaG9wLWNhci1xcy10aXB7cG9zaXRpb246IGFic29sdXRlO2hlaWdodDogNDVweDtyaWdodDogMDt0b3A6IDA7Y29sb3I6ICMzMzM7Zm9udC13ZWlnaHQ6IGJvbGQ7bGluZS1oZWlnaHQ6IDQ1cHg7cGFkZGluZzogMCAxMHB4O30NCi5zaG9wLWNhci1jb3VudC1idG46YWN0aXZle29wYWNpdHk6IC45O30NCi5zaG9wLWNhci1pY29ue3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogNDVweDtoZWlnaHQ6IDQ1cHg7bGVmdDogMTVweDt0b3A6IDA7Y29sb3I6ICNmZmY7dGV4dC1hbGlnbjogY2VudGVyO2xpbmUtaGVpZ2h0OiA0NXB4O2ZvbnQtc2l6ZTogMjZweDtjb2xvcjogI0Y0QkU0Mjt9DQouc2hvcC10YWd7cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAwO3RvcDogMDt9DQouc2hvcC1jYXItaW5mb3tjb2xvcjogI2ZmZjtmb250LXNpemU6IDEycHg7fQ0KLnNob3AtY2FyLWluZm8gLnNob3AtY2FyLXByaWNle2ZvbnQtc2l6ZTogMTVweDtmb250LXdlaWdodDogYm9sZDttYXJnaW46IDJweCAwO30NCg0KLnNjb3JlLXRvcHtwYWRkaW5nOiAxNXB4O2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO30NCi5zY29yZS10aXB7Y29sb3I6ICM5OTk7dGV4dC1hbGlnbjogcmlnaHQ7fQ0KLnNjb3JlLW51bXtmb250LXNpemU6IDIwcHg7Zm9udC13ZWlnaHQ6IGJvbGQ7bWFyZ2luLXJpZ2h0OiAxMHB4O3ZlcnRpY2FsLWFsaWduOiB0ZXh0LWJvdHRvbTtjb2xvcjogI0Y0QkU0Mjt9DQouZGlzLWxpc3QgbGl7cG9zaXRpb246IHJlbGF0aXZlO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO3BhZGRpbmc6IDEwcHggMTBweCAxMHB4IDYwcHg7bWluLWhlaWdodDogNDBweDt9DQouZGlzLWxpc3QgbGkgLmhlYWQtaW1ne3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogNDBweDtoZWlnaHQ6IDQwcHg7bGVmdDogMTBweDt0b3A6IDEwcHg7Ym9yZGVyLXJhZGl1czogNTAlO30NCi5kaXMtdXNlci1uYW1le2Rpc3BsYXk6IGZsZXg7anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO30NCi5kaXMtcmVtYXJre2ZvbnQtc2l6ZTogMTJweDtjb2xvcjogIzk5OTt9DQouZGlzLXVzZXItbmFtZSAuZGlzLW5hbWV7Zm9udC1zaXplOiAxNXB4O21hcmdpbi1ib3R0b206IDEwcHg7fQ0KLmRpcy11c2VyLW5hbWUgLmRpcy1kYXRle2ZvbnQtc2l6ZTogMTJweDtjb2xvcjogIzk5OTt9DQouZGlzLXNjb3Jle2NvbG9yOiAjOTk5O2ZvbnQtc2l6ZTogMTJweDttYXJnaW46IDVweCAwO30NCi5kaXMtc2NvcmUgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjogc3VwZXI7fQ0KLnNlbGxlci1pbmZvLXRvcHtwYWRkaW5nOiAxMHB4IDE1cHg7fQ0KLnNlbGxlci1pbmZvLXRvcCBwe2ZvbnQtc2l6ZTogMTJweDttYXJnaW46IDRweCAwO30NCi5zZWxsZXItaW5mby10b3AgLnRpdHtmb250LXNpemU6IDE1cHg7Zm9udC13ZWlnaHQ6IGJvbGQ7bWFyZ2luLWJvdHRvbTogMTBweDt9DQoNCi5zaG9wLWNhci1kZXRhaWx7cG9zaXRpb246IHJlbGF0aXZlO2JveC1zaXppbmc6IGJvcmRlci1ib3g7cGFkZGluZzogMTA7fQ0KLnNob3AtY2FyLWRldGFpbC10aXR7ZGlzcGxheTogZmxleDtqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47fQ0KLnNob3AtY2FyLWRldGFpbC10aXQgc3BhbntkaXNwbGF5OiBibG9jaztwYWRkaW5nOiAxMHB4O30NCi5nb29kcy1saXN0LnNob3AtY2FyLWxpc3R7aGVpZ2h0OiAyNjBweDtvdmVyZmxvdy15OiBhdXRvO21hcmdpbjogMCAxMHB4O30NCi5nb29kcy1saXN0LnNob3AtY2FyLWxpc3QgLmdvb2RzLW5hbWV7bWFyZ2luLWJvdHRvbTogMjZweDt9DQoNCi5hZGRyZXNzLWxpc3R7cGFkZGluZzogMTBweDt9DQouYWRkcmVzcy1saXN0IGxpe3Bvc2l0aW9uOiByZWxhdGl2ZTtib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtwYWRkaW5nOiAxMHB4IDQwcHg7fQ0KLmVkaXQtYWRke3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogNDBweDtoZWlnaHQ6IDQwcHg7dGV4dC1hbGlnbjogY2VudGVyO2xpbmUtaGVpZ2h0OiA0MHB4O3JpZ2h0OiAwO3RvcDogMTBweDt9DQouYWRkcmVzcy1saXN0IGlucHV0W25hbWU9J3NlbGVjdEFkZFJhZGlvJ117cG9zaXRpb246IGFic29sdXRlOy13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTt3aWR0aDogMjBweDtoZWlnaHQ6IDIwcHg7Ym9yZGVyOiAxcHggc29saWQgI0Y0QkU0Mjtib3gtc2l6aW5nOiBib3JkZXItYm94O2xlZnQ6IDA7dG9wOiAxOHB4O2JvcmRlci1yYWRpdXM6IDUwJTt9DQouYWRkcmVzcy1saXN0IGlucHV0W25hbWU9J3NlbGVjdEFkZFJhZGlvJ106Y2hlY2tlZDo6YWZ0ZXJ7cG9zaXRpb246IGFic29sdXRlO3dpZHRoOiAxNHB4O2hlaWdodDogMTRweDtiYWNrZ3JvdW5kLWNvbG9yOiAjRjRCRTQyO2NvbnRlbnQ6ICcnO2JvcmRlci1yYWRpdXM6IDUwJTtsZWZ0OiAycHg7dG9wOiAycHg7fQ0KDQoueml6aGktcGhvdG8td3JhcCB1bHtvdmVyZmxvdzogaGlkZGVuO21hcmdpbjogNXB4O30NCi56aXpoaS1waG90by13cmFwIGxpe3dpZHRoOiA1MCU7ZmxvYXQ6IGxlZnQ7cGFkZGluZzogNXB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7fQ0KLnppemhpLXBob3RvLXdyYXAgLnppemhpLWltZ3toZWlnaHQ6IDEyMHB4O2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O30NCi56aXpoaS1waG90by13cmFwIC56YW53dXt0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luOiAxNXB4O30NCg0KLnBheS13cmFwe2JhY2tncm91bmQ6ICNmZmY7cGFkZGluZzogMTBweDttYXJnaW46IDEwcHg7dGV4dC1hbGlnbjogY2VudGVyO2JvcmRlci1yYWRpdXM6IDZweDt9DQoucGF5LXdyYXAgcHtjb2xvcjogI0EzQTNBMzttYXJnaW46IDEwcHggMDt9DQoucGF5LXdyYXAgcC5wYXktdG90YWx7Zm9udC1zaXplOiAzMHB4O2NvbG9yOiAjMzMzO2ZvbnQtd2VpZ2h0OiBib2xkO30NCi5wYXktYnRue3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogMTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiAjRjRCRTQyO2xlZnQ6IDA7Ym90dG9tOiAwO3RleHQtYWxpZ246IGNlbnRlcjtwYWRkaW5nOiAxM3B4IDA7fQ0KLnBheS1idG46YWN0aXZle29wYWNpdHk6IC45O2NvbG9yOiAjMzMzO30NCi5wYXktd2F5e21hcmdpbjogMTBweDtib3JkZXItcmFkaXVzOiA2cHg7b3ZlcmZsb3c6IGhpZGRlbjtmb250LXNpemU6IDE2cHg7fQ0KDQojYmFsbHt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O2JhY2tncm91bmQ6ICNGNEJFNDI7Ym9yZGVyLXJhZGl1czogNTAlO3Bvc2l0aW9uOiBmaXhlZDt6LWluZGV4OiAyO2JvdHRvbTogNjBweDtsZWZ0OiA2MHB4O30NCi5vcGVuLXRpbWUtY2VsbHtmbGV4OiBub25lO2ZvbnQtc2l6ZTogMTNweDt9DQouZy10YWd7cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAwO3RvcDogMDt9DQoNCi5sb2dpbiB7DQoJCXBvc2l0aW9uOiBmaXhlZDsNCgkJd2lkdGg6IDEwMCU7DQoJCWhlaWdodDogMTAwJTsNCg0KCX0NCg0KCS5iZyB7DQoJCXdpZHRoOiAxMDAlOw0KCQloZWlnaHQ6IDEwMCU7DQoJCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkJbGVmdDogMDsNCgkJdG9wOiAwOw0KCQl6LWluZGV4OiAxOw0KCX0NCg0KCS5iZyBpbWcgew0KCQl3aWR0aDogMTAwJTsNCgkJaGVpZ2h0OiAxMDAlOw0KCQl6LWluZGV4OiBpbmhlcml0Ow0KCX0NCg0KCS5iZy1mb29kIHsNCgkJd2lkdGg6IDEwMCU7DQoJCWhlaWdodDogMTAwJTsNCgkJcG9zaXRpb246IGFic29sdXRlOw0KCQlsZWZ0OiAwOw0KCQl0b3A6IDA7DQoJfQ0KDQoJLmJnLWZvb2QgaW1nIHsNCgkJd2lkdGg6IDEwMCU7DQoJCWhlaWdodDogMTAwJTsNCgkJei1pbmRleDogaW5oZXJpdDsNCgl9DQoNCgkuY29udGVudCB7DQoJCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkJd2lkdGg6IDEwMCU7DQoJCWhlaWdodDogMTAwJTsNCgkJbGVmdDogMDsNCgkJdG9wOiAwOw0KCQl6LWluZGV4OiAyOw0KCQlwYWRkaW5nOiAwIDIwcHg7DQoJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQoJfQ0KDQoJLnRpdGxlIHsNCgkJZm9udC1zaXplOiAzMHB4Ow0KCQlmb250LXdlaWdodDogNDAwOw0KCQl3aWR0aDogMTAwJTsNCgkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQltYXJnaW4tdG9wOiAxMTZweDsNCgkJbWFyZ2luLWJvdHRvbTogNjBweDsNCg0KCX0NCg0KCS5jb25maXJtIHsNCgkJd2lkdGg6IDEwMCU7DQoJCWZvbnQtc2l6ZTogMjBweDsNCgkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQltYXJnaW4tdG9wOiAzNXB4Ow0KCQlib3JkZXI6IDA7DQoJfQ0KDQoJLmNvbmZpcm0tYnRuIHsNCgkJYmFja2dyb3VuZDogI0Y0QkU0MjsNCgkJYm9yZGVyOiAwOw0KCQlib3JkZXItcmFkaXVzOiA2cHg7DQoJCWZvbnQtc2l6ZTogMjBweDsNCgkJZm9udC1mYW1pbHk6IFBpbmdGYW5nIFNDOw0KCQlmb250LXdlaWdodDogNTAwOw0KCQljb2xvcjogd2hpdGU7DQoJfQ0KDQoJLmlucHV0LWJveCB7DQoJCWJhY2tncm91bmQ6ICM4OTg0ODI7CQ0KCX0NCg0KCS5pbnB1dC1pdGVtIHsNCgkJY29sb3I6ICNGRkZGRkY7DQoJCWRpc3BsYXk6IGZsZXg7DQoJCWFsaWduLWl0ZW1zOiBjZW50ZXI7DQoJCWJhY2tncm91bmQ6Izg5ODQ4MjsJCQ0KCQlib3JkZXItcmFkaXVzOiA1cHg7DQoJCW1hcmdpbi1ib3R0b206IDIwcHg7DQoJCW92ZXJmbG93OiBoaWRkZW47DQoJfQ0KDQoJLmlucHV0LWl0ZW0gaW1nIHsNCgkJd2lkdGg6MjRweDsNCgkJaGVpZ2h0OiAyNHB4OwkNCgkJbWFyZ2luOjAgMTJweDsNCgkJbWFyZ2luLXJpZ2h0OiAwOw0KCX0NCg0KCS5sb2dpbi1pbnB1dCB7DQoJCWJhY2tncm91bmQ6ICM4OTg0ODI7CQ0KCX0NCg=="},{"version":3,"sources":["winDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+uDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"winDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"win-detail\">\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<top-fixed-nav :title=\"winName\"></top-fixed-nav>\r\n\t\t\r\n\t\t\t<div class=\"win-detail-top\">\r\n\t\t\t\t<img class=\"win-img\" :src=\"winPic\">\r\n\t\t\t\t<p class=\"win-name\">{{this.$route.query.winName}}</p>\r\n\t\t\t\t<p class=\"sell-num\"><van-rate readonly v-model=\"winStarScore\" /><span>月售{{this.$route.query.orderCount}}单</span></p>\r\n\t\t\t\t<p class=\"send-price\">\r\n\t\t\t\t\t<span v-show=\"this.$route.query.deliveryMinAmount\">起送￥{{this.$route.query.deliveryMinAmount}}  </span>\r\n\t\t\t\t\t<span>配送￥{{this.$route.query.deliveryFee}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"goods-type-wrap\">\r\n\t\t\t\t<div class=\"goods-type-tab\">\r\n\t\t\t\t\t<a data-num=\"1\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==1}\">商品</a>\r\n\t\t\t\t\t<a data-num=\"2\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==2}\">评价</a>\r\n\t\t\t\t\t<a data-num=\"3\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==3}\">商家</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"goods-type-main\">\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==1}\">\r\n\t\t\t\t\t\t\t<div class=\"goods-type-left\" :style=\"{height:(winHeight-260)+'px'}\">\r\n\t\t\t\t\t\t\t\t<!-- 商品分类 -->\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t<li :data-goodstype=\"'goodsType' + item.gKindId\" :data-typename=\"item.gKindName\" :class=\"{active:typeNum==index}\" :data-id=\"item.gKindId\" :data-type=\"index\" @click=\"typeTab($event)\" v-for=\"(item,index) in goodsTypeArr\">{{item.gKindName}}</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 商品分类列表 -->\r\n\t\t\t\t\t\t\t<div class=\"goods-type-right\" :style=\"{height:(winHeight-260)+'px'}\" id=\"goodsListWrap\">\r\n\t\t\t\t\t\t\t\t<div :ref=\"'#goodsType' + item.gKindId\" v-for=\"(item,index) in goodsTypeArr\" :id=\"'goodsType' + item.gKindId\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"p-goods-tit\">{{item.gKindName}}</p>\r\n\t\t\t\t\t\t\t\t\t<ul class=\"goods-list\">\r\n\t\t\t\t\t\t\t\t\t\t<li v-for=\"goodsItem in item.goodsList\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"goodsItem.gPic\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<van-tag v-show=\"goodsItem.gRecommend==1\" color=\"#E03737\" class=\"g-tag\">推荐</van-tag>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"goods-name\">{{goodsItem.gName}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"sell-num\">销量：{{goodsItem.gSellCounter}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-price\">￥{{goodsItem.gPrice}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"counter\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-show=\"goodsItem.goodsNum>0\" class=\"min iconfont icon-jianhao\" v-on:click=\"minGoods(goodsItem)\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input v-show=\"goodsItem.goodsNum>0\" type=\"number\" readonly v-model=\"goodsItem.goodsNum\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- $route.query.winState!=1为休息中，其他都是营业中 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-show=\"$route.query.winState!=1\" class=\"add iconfont icon-jia1\" v-on:click=\"addGoods(goodsItem,$event,goodsItem.goodsNum)\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==2}\" :style=\"{height:(winHeight-260)+'px'}\" id=\"assessWrap\">\r\n\t\t\t\t\t\t<div class=\"score-wrap\">\r\n\t\t\t\t\t\t\t<div class=\"score-top\" style=\"display: none;\">\r\n\t\t\t\t\t\t\t\t<span class=\"score-num\">{{score}}</span><van-rate readonly v-model=\"score\" />\r\n\t\t\t\t\t\t\t\t<p class=\"score-tip\">100名同学参与菜品反馈</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 评价列表 -->\r\n\t\t\t\t\t\t\t<div class=\"dis-list\">\r\n\t\t\t\t\t\t\t\t<ul v-if=\"sellerAssess.length>0\">\r\n\t\t\t\t\t\t\t\t\t<li v-for=\"(item,index) in sellerAssess\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"head-img\" src=\"../../public/static/images/icon/default_head.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"dis-user-name\"><span class=\"dis-name\">{{item.pName?item.pName:'匿名'}}</span><span class=\"dis-date\">{{item.createTime}}</span></p>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <div class=\"dis-score\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>评分：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>口味：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>包装：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"dis-remark\">{{item.commentContent}}</p>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<p v-else style=\"text-align: center;margin: 20px;\">暂无评价</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==3}\" :style=\"{height:(winHeight-260)+'px'}\">\r\n\t\t\t\t\t\t<!-- 商家信息 -->\r\n\t\t\t\t\t\t<div class=\"seller-info\" style=\"border-bottom: none;padding: 0;margin-top: -1px;\">\r\n\t\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t\t  <van-cell title=\"负责人\" :value=\"sellerName\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"商家电话\" :value=\"sellerPhone\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"营业时间\" value-class=\"open-time-cell\" :value=\"sellerOpenTime\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"商家地址\" :value=\"winAddress\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"窗口照片\" is-link v-on:click=\"openMclz\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"资质证照\" is-link v-on:click=\"openZz\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"员工健康证\" is-link v-on:click=\"openHealth\" />\r\n\t\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t<!-- 购物车 v-if=\"$route.query.winState==1\" -->\r\n\t\t<div class=\"shop-car\" >\r\n\t\t\t<div class=\"shop-car-main\">\r\n\t\t\t\t<span id=\"shopCarIcon\" class=\"shop-car-icon iconfont icon-gouwuche\" v-on:click=\"openShopCar\"><van-tag color=\"#EA4646\" round class=\"shop-tag\">{{shopCarGoodsNum}}</van-tag></span>\r\n\t\t\t\t<div class=\"shop-car-info\">\r\n\t\t\t\t\t<p class=\"shop-car-price\">￥{{goodsTotal.toFixed(2)}}</p>\r\n\t\t\t\t\t<p>配送费:￥{{parseFloat(this.$route.query.deliveryFee)}} <span style=\"margin-left: 6px;\"><i v-for=\"item in deliveryMode\">{{item=='1'?'外送|':item=='2'?'自提|':'到店用餐|'}}</i></span></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<!-- <a v-if=\"!isLogin\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"$router.push({path:'/logIn'})\">登录</a> -->\r\n\t\t\t\t<!-- <template v-else> -->\r\n\t\t\t\t\t<a v-if=\"this.$route.query.deliveryMinAmount<=goodsTotal\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"goAccount\">去结算</a>\r\n\t\t\t\t\t<span v-else class=\"shop-car-qs-tip\">差{{this.$route.query.deliveryMinAmount-goodsTotal}}起送</span>\r\n\t\t\t\t<!-- </template> -->\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<!-- 购物车详情 -->\r\n\t\t<van-popup duration=\"0.2\" position=\"bottom\" :style=\"{ width: '100%',height:'300px'}\" v-model=\"ShopDetailShow\">\r\n\t\t\t<div class=\"shop-car-detail\">\r\n\t\t\t\t<p class=\"shop-car-detail-tit\"><span>购物车</span><span v-on:click=\"clearShopCar\"><i class=\"iconfont icon-qingkong\" style=\"margin-right: 4px;\"></i>清空</span></p>\r\n\t\t\t\t<ul class=\"goods-list shop-car-list\">\r\n\t\t\t\t\t<li v-show=\"item.goodsNum>0\" v-for=\"item in goodsList\">\r\n\t\t\t\t\t\t<div class=\"goods-img\">\r\n\t\t\t\t\t\t\t<img :src=\"item.gPic\">\r\n\t\t\t\t\t\t\t<van-tag v-show=\"item.gRecommend==1\" color=\"#E03737\" class=\"g-tag\">推荐</van-tag>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"goods-name\">{{item.gName}}</p>\r\n\t\t\t\t\t\t<div class=\"goods-price\">￥{{item.gPrice}}\r\n\t\t\t\t\t\t\t<div class=\"counter\">\r\n\t\t\t\t\t\t\t\t<span v-show=\"item.goodsNum>0\" class=\"min iconfont icon-jianhao\" v-on:click=\"minGoods(item)\"></span>\r\n\t\t\t\t\t\t\t\t<input v-show=\"item.goodsNum>0\" type=\"number\" readonly v-model=\"item.goodsNum\">\r\n\t\t\t\t\t\t\t\t<span class=\"add iconfont icon-jia1\" v-on:click=\"addGoods(item,'',item.goodsNum)\"></span>\r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 提交订单 -->\r\n\t\t<van-popup position=\"right\" v-model=\"goodsOrderShow\" :style=\"{width:'100%', height: '100%',background:'#eee',boxSizing:'border-box'}\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"goodsOrderShow=false\"></span>提交订单\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" :style=\"{height:(winHeight-40)+'px',paddingBottom:'65px',boxSizing:'border-box'}\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t  <van-cell title=\"订餐方式\" :value=\"orderWay\" is-link v-on:click=\"openOrderWay\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 外送 -->\r\n\t\t\t\t<van-cell-group v-show=\"wsShow\">\r\n\t\t\t\t  <van-cell is-link :title=\"wsName+wsSex+wsPhone\" :label=\"wsAddress\" v-on:click=\"openSelectAddressPopup\" />\r\n\t\t\t\t  <van-cell is-link title=\"期望送达时间\" :value=\"wsTime\" v-on:click=\"wsTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 自提 -->\r\n\t\t\t\t<van-cell-group v-show=\"ztShow\">\r\n\t\t\t\t  <van-field input-align=\"right\" :label=\"ztName\" v-model=\"ztPhone\" />\r\n\t\t\t\t  <van-cell title=\"自提地点\" :value=\"winAddress\" />\r\n\t\t\t\t  <van-cell is-link title=\"自提时间\" :value=\"ztTime\" v-on:click=\"ztTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 到店用餐 -->\r\n\t\t\t\t<van-cell-group v-show=\"ddycShow\">\r\n\t\t\t\t  <van-field input-align=\"right\" :label=\"ztName\" v-model=\"ztPhone\" />\r\n\t\t\t\t  <van-cell title=\"商家地址\" :value=\"winAddress\" />\r\n\t\t\t\t  <van-cell is-link title=\"用餐时间\" :value=\"ddTime\" v-on:click=\"ddTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 提交订单 -->\r\n\t\t\t\t<div class=\"my-order-list\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"item in myOrder\">\r\n\t\t\t\t\t\t\t<p class=\"my-order-name\"><img :src=\"item.gPic\" alt=\"\">{{item.gName}}</p>\r\n\t\t\t\t\t\t\t<p class=\"price\">￥{{item.gPrice}} x {{item.goodsNum}}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div class=\"send-wrap\">\r\n\t\t\t\t\t\t<p v-show=\"orderWay=='外送'\"><span>配送费</span><span>￥{{this.$route.query.deliveryFee}}</span></p>\r\n\t\t\t\t\t\t<p><span>环保费</span><span>￥{{greenMoney}}</span></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p class=\"total-price\">小计<span>￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</span></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 备注 -->\r\n\t\t\t\t<p style=\"background: #fff;padding-left: 15px;padding-top: 10px;\">备注</p>\r\n\t\t\t\t<van-field v-model=\"orderRemark\" rows=\"3\" autosize type=\"textarea\" maxlength=\"100\" placeholder=\"请输入口味/偏好等要求\" show-word-limit />\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<!-- 订单详情里的提交按钮 -->\r\n\t\t\t<div class=\"shop-car\" style=\"position: absolute;background: #eee;\">\r\n\t\t\t\t<div class=\"shop-car-main\">\r\n\t\t\t\t\t<div class=\"shop-car-info\">\r\n\t\t\t\t\t\t<p class=\"shop-car-price\" style=\"position: absolute;left: 20px;top: 10px;\">￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a style=\"    border-top-right-radius: 20px;border-bottom-right-radius: 20px;\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"submitOrder\">提交订单</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 选择地址、修改地址 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"selectAddressPopupShow\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"receiveAddressBack\"></span>收货地址\r\n\t\t\t\t<span style=\"position: absolute;font-size: 14px;padding: 0 10px;right: 0;\" v-on:click=\"addAddressPopup=true;userName='';userPhone='';schoolArea='';schoolAreaId='';buildName='';buildId='';detailAddress='';setDefaultAdd=false;addAddressTit='新增地址';addressId='';\">新增地址</span>\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"address-list\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"item in allAddresArr\">\r\n\t\t\t\t\t\t\t<input type=\"radio\" :checked=\"item.defaultAddress==1\" name=\"selectAddRadio\" :value=\"item.contact+','+item.phone+','+item.cAreaName+item.buildName+item.address+','+item.sex+','+item.buildId\" v-model=\"checkAddress\">\r\n\t\t\t\t\t\t\t<p class=\"address-add\">{{item.cAreaName}}{{item.buildName}}{{item.address}}</p>\r\n\t\t\t\t\t\t\t<p class=\"address-name\"><span>{{item.contact}}</span><span style=\"margin-right: 10px;\">{{item.phone}}</span><van-tag round v-show=\"item.defaultAddress==1\">默认</van-tag></p>\r\n\t\t\t\t\t\t\t<span class=\"edit-add iconfont icon-xitongshezhibeifen\" v-on:click=\"openEditAddressPopup(item.addressId)\"></span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- <div class=\"big-btn-wrap\">\r\n\t\t\t\t\t\t<van-button type=\"primary\" color=\"#F4BE42\" block v-on:click=\"selectAddressBtn\">确定</van-button>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 新增地址 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"addAddressPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"addAddressPopup=false\"></span>{{addAddressTit}}\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t  <van-field required v-model=\"userName\" input-align=\"right\" label=\"姓名\" />\r\n\t\t\t\t  <van-field name=\"radio\" label=\"性别\" input-align=\"right\">\r\n\t\t\t\t    <template #input>\r\n\t\t\t\t      <van-radio-group v-model=\"sex\" direction=\"horizontal\" checked-color=\"#F4BE42\">\r\n\t\t\t\t        <van-radio name=\"男\">男</van-radio>\r\n\t\t\t\t        <van-radio name=\"女\">女</van-radio>\r\n\t\t\t\t      </van-radio-group>\r\n\t\t\t\t    </template>\r\n\t\t\t\t  </van-field>\r\n\t\t\t\t  <van-field required v-model=\"userPhone\" input-align=\"right\" label=\"手机号\"/>\r\n\t\t\t\t  <van-cell required title=\"校区\" :value=\"schoolArea\" is-link v-on:click=\"selectAreaShow=true;getSchoolArea()\" />\r\n\t\t\t\t  <van-cell required title=\"楼宇\" :value=\"buildName\" is-link v-on:click=\"schoolArea==''?$toast('请选择校区'):selectBuildShow=true\" />\r\n\t\t\t\t  <van-field v-model=\"detailAddress\" input-align=\"right\" label=\"详细地址\"/>\r\n\t\t\t\t  <van-field name=\"switch\" label=\"设为默认地址\" input-align=\"right\">\r\n\t\t\t\t    <template #input>\r\n\t\t\t\t      <van-switch active-color=\"#F4BE42\" v-model=\"setDefaultAdd\" size=\"20\" />\r\n\t\t\t\t    </template>\r\n\t\t\t\t  </van-field>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"big-btn-wrap\">\r\n\t\t\t\t\t<van-button type=\"primary\" color=\"#F4BE42\" block v-on:click=\"saveAddress\">保存地址</van-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 窗口照片、资质证照、员工健康证 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"idCardPhotoPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"idCardPhotoPopup=false\"></span>{{idCardPhotoTit}}\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"zizhi-photo-wrap\">\r\n\t\t\t\t\t<p class=\"zanwu\" v-show=\"idCardPhotoList.length<=0\">暂无图片</p>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"(item,index) in idCardPhotoList\" v-on:click=\"prevIdPhone(index)\">\r\n\t\t\t\t\t\t\t<div class=\"zizhi-img\" :style=\"{backgroundImage:'url('+item.picUrl+')'}\"></div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 支付 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%',background:'#eee'}\" v-model=\"payPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"payPopup=false\"></span>支付\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"pay-wrap\">\r\n\t\t\t\t\t<!-- <p>支付剩余时间：<span id=\"time\"></span></p> -->\r\n\t\t\t\t\t<p class=\"pay-total\">￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t\t\t<p>订单编号-{{payOrderNum}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pay-way\">\r\n\t\t\t\t\t<van-radio-group v-model=\"payRadio\" disabled >\r\n\t\t\t\t\t  <van-cell-group>\r\n\t\t\t\t\t    <van-cell title=\"微信\" >\r\n\t\t\t\t\t      <template #right-icon>\r\n\t\t\t\t\t        <van-radio name=\"1\" checked-color=\"red\" />\r\n\t\t\t\t\t      </template>\r\n\t\t\t\t\t    </van-cell>\r\n\t\t\t\t\t  </van-cell-group>\r\n\t\t\t\t\t</van-radio-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"pay-btn\" v-on:click=\"confirmPay\">确认支付 ￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 登录 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"loginPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<!-- <div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"loginPopup=false\"></span>登录\r\n\t\t\t</div> -->\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: 100%\">\r\n\t\t\t\t<div class=\"login\">\r\n\t\t\t\t\t<div class=\"back iconfont icon-zuojiantou\" style=\"position: absolute;left: 0;top: 0;z-index: 10;width: 40px;height: 40px;text-align: center;line-height: 40px;color: #fff;font-size: 20px;\" v-on:click=\"loginPopup=false\"></div>\r\n\t\t\t\t\t<div class=\"bg\"><img src=\"../assets/login/login-bg.png\" alt=\"\"></div>\r\n\t\t\t\t\t<div class=\"bg-food\"><img src=\"../assets/login/login-bgfood.png\" alt=\"\"></div>\r\n\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t\t<p style=\"color: #fff;\">网上订餐</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t\t\t\t<img src=\"../assets/login/username.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t<van-field class=\"login-input\" v-model=\"loginName\"  placeholder=\"用户名\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t\t\t\t<img src=\"../assets/login/password.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t<van-field class=\"login-input\" v-model=\"loginPassword\" type=\"password\"  placeholder=\"密码\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"confirm\">\r\n\t\t\t\t\t\t\t<van-button color=\"#F4BE42\" type=\"primary\" block @click=\"logIn()\">登录</van-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 选择订餐方式 -->\r\n\t\t<van-action-sheet close-on-click-action v-model=\"orderWayshow\" :actions=\"orderWayActions\" @select=\"onSelectOrderWay\" />\r\n\t\t\r\n\t\t<!-- 选择校区action -->\r\n\t\t<van-action-sheet overlay close-on-click-action v-model=\"selectAreaShow\" :actions=\"selectAreaAction\" @select=\"onSelectAreaAction\" />\r\n\t\t\r\n\t\t<!-- 选择楼宇action -->\r\n\t\t<van-action-sheet overlay close-on-click-action v-model=\"selectBuildShow\" :actions=\"selectBuildAction\" @select=\"onSelectBuildAction\" />\r\n\t\t\r\n\t\t<!-- 外送时间选择popup -->\r\n\t\t<van-popup v-model=\"wsTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getWsTime\" v-on:cancel=\"wsTimePopup=false\"  v-model=\"wsTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\" :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 自提时间选择popup -->\r\n\t\t<van-popup v-model=\"ztTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getZtTime\" v-on:cancel=\"ztTimePopup=false\"  v-model=\"ztTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\"  :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 到店用餐时间选择popup -->\r\n\t\t<van-popup v-model=\"ddTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getDdTime\" v-on:cancel=\"ddTimePopup=false\"  v-model=\"ddTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\"  :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\tvar pageNum=1;//页码\r\n\timport { ImagePreview } from 'vant';\r\n\texport default{\r\n\t\tdata:function(){\r\n\t\t\treturn{\r\n\t\t\t\tloginName:'',//用户名\r\n\t\t\t\tloginPassword:'',//密码\r\n\t\t\t\tloginPopup:false,//登录popup\r\n\t\t\t\twinStarScore:JSON.parse(this.$route.query.starScore),//窗口评分数\r\n\t\t\t\treachBottomShow:false,//下拉刷新\r\n\t\t\t\tisLogin:isLogin(),\r\n\t\t\t\twinPic:'./static/images/icon/default1.png',//窗口图片带\r\n\t\t\t\twinSplitImg:'',//不带前缀的窗口图片\r\n\t\t\t\tdeliveryMode:this.$route.query.deliveryMode,//支持配送类型\r\n\t\t\t\tnum: 1,//商品、评价、商家tab切换\r\n\t\t\t\ttypeNum:0,//商品类别切换\r\n\t\t\t\twinId:this.$route.query.winId,//店铺传递的店铺id\r\n\t\t\t\twinName:this.$route.query.winName,//店铺传递的店铺名称\r\n\t\t\t\tstar:3,//评分\r\n\t\t\t\twinHeight:0,//可视区高度\r\n\t\t\t\tgoodsTypeArr:[],//菜品分类\r\n\t\t\t\tgoodsList:[],//购物车菜品列表\r\n\t\t\t\tgTypeName:'',//菜品标题\r\n\t\t\t\tscore:3,//总评分\r\n\t\t\t\tdisScore:3,//评价列表评分\r\n\t\t\t\tShopDetailShow:false,//购物车详情\r\n\t\t\t\tshopCarGoodsNum:0,//购物车数量角标\r\n\t\t\t\tgoodsTotal:0,//总价\r\n\t\t\t\tgoodsOrderShow:false,//订单详情\r\n\t\t\t\torderWayshow: false,//订餐方式\r\n\t\t\t\torderWay:'',//订餐方式\r\n\t\t\t    orderWayActions: [],//用餐方式\r\n\t\t\t\twsShow:false,//外送\r\n\t\t\t\tztShow:false,//自提\r\n\t\t\t\tztTimePopup:false,//自提时间\r\n\t\t\t\tztTime:setTimeLatter(30),//自提时间\r\n\t\t\t\tddTimePopup:false,//到店用餐时间\r\n\t\t\t\tddTime:setTimeLatter(30),//到店用餐时间\r\n\t\t\t\tddycShow:false,//到店用餐\r\n\t\t\t\tselectAddressPopupShow:false,//收货地址\r\n\t\t\t\tallAddresArr:[],//查询所有收货地址\r\n\t\t\t\taddAddressPopup:false,//新增地址\r\n\t\t\t\tuserName:'',//姓名\r\n\t\t\t\tuserPhone:'',//手机号\r\n\t\t\t\tdetailAddress:'',//详细地址\r\n\t\t\t\tsex:'男',//性别\r\n\t\t\t\tsetDefaultAdd:false,//设为默认地址\r\n\t\t\t\twsTime: setTimeLatter(30),//外送时间\r\n\t\t\t\twsTimePopup:false,//外送时间选择\r\n\t\t\t\tselectAreaShow:false,//选择校区action\r\n\t\t\t\tschoolArea:'',//校区\r\n\t\t\t\tschoolAreaId:'',//校区id\r\n\t\t\t\tselectAreaAction: [],//选择校区内容\r\n\t\t\t\tselectBuildShow:false,//选择楼宇action\r\n\t\t\t\tselectBuildAction:[],//选择楼宇内容\r\n\t\t\t\tbuildName:'',//楼宇名称\r\n\t\t\t\tbuildId:'',//楼宇id\r\n\t\t\t\twsName:'选择地址',//外送姓名\r\n\t\t\t\twsPhone:'',//外送电话\r\n\t\t\t\twsAddress:'',//外送地址\r\n\t\t\t\twsSex:'',//外送性别\r\n\t\t\t\tcheckAddress:'',//选择的收货地址\r\n\t\t\t\twinAddress:'',//商家窗口地址（自提地址、到店用餐地址）\r\n\t\t\t\tztName:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pName:'',//自提人姓名\r\n\t\t\t\tztPhone:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pMobile:'',//自提人电话\r\n\t\t\t\tztSex:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pSex:'',//自提人性别\r\n\t\t\t\tmyOrder:[],//选择完商品的订单\r\n\t\t\t\torderRemark:'',//提交订单里的备注\r\n\t\t\t\taddAddressTit:'新增地址',//添加、修改地址状态栏标题\r\n\t\t\t\taddressId:'',//地址id，修改地址用\r\n\t\t\t\tsellerName:'',//商家负责人\r\n\t\t\t\tsellerPhone:'',//商家电话\r\n\t\t\t\tsellerOpenTime:'',//商家营业时间\r\n\t\t\t\tidCardPhotoPopup:false,//证件照（窗口照片、资质证照、员工健康证）\r\n\t\t\t\tidCardPhotoTit:'',//证件照标题\r\n\t\t\t\tidCardPhotoList:[],//证件照图片\r\n\t\t\t\tfullAddress:'',//拼接的地址\r\n\t\t\t\tgreenMoney:0,//环保费\r\n\t\t\t\tpayPopup:false,//支付\r\n\t\t\t\tpayRadio:'1',//支付选择方式，默认微信\r\n\t\t\t\tpayOrderNum:'',//支付订单编号\r\n\t\t\t\tdaoJiShi:'',//30分钟倒计时\r\n\t\t\t\tsellerAssess:[],//商家评价\r\n\t\t\t\tweXinPayUrl:'',//微信付款地址\r\n\t\t\t\torderStatus:'',//支付时查询的订单状态\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t // 滚动到底加载更多\r\n\t\t\tdocument.querySelector('#assessWrap').addEventListener('scroll',this.reachBottom)\t\t\t  \r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 滚动到底加载更多评价\r\n\t\t\treachBottom(){\r\n\t\t\t\t  //滚动条高度\r\n\t\t\t\t  let scrollTop = document.querySelector('#assessWrap').scrollTop;\r\n\t\t\t\t  //可视区的高度\r\n\t\t\t\t  let clientHeight = document.querySelector('#assessWrap').clientHeight;\r\n\t\t\t\t  //总高度\r\n\t\t\t\t  let scrollHeight = document.querySelector('#assessWrap').scrollHeight;\r\n\t\t\t\tif(scrollTop+clientHeight >= scrollHeight){\r\n\t\t\t\t\tpageNum++;\r\n\t\t\t\t\tthis.getSellerAssess(pageNum);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取订单详情\r\n\t\t\tgetOrderDetail(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('订单详情',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.orderStatus=data.data.data.orderState//只有orderState为1时订单状态为用户已提交订单，才可以付款\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 商家评价\r\n\t\t\tgetSellerAssess(pageNum){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/ordermeal/queryCommentBySellerId',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:_this.$route.query.sellerId,\r\n\t\t\t\t\tpageNum:pageNum,\r\n\t\t\t\t\tpageSize:20\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('商家评价',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.list.length>0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.list.length;i++) {\r\n\t\t\t\t\t\t\t\t_this.sellerAssess.push(data.data.data.list[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast('暂无评价');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点餐抛物线动画\r\n\t\t\tparabolic() {\r\n\t\t\t          return function (e) {\r\n\t\t\t              //生成动画标签\r\n\t\t\t              var ball = document.createElement(\"div\");\r\n\t\t\t              ball.id = 'ball';\r\n\t\t\t              document.body.appendChild(ball);\r\n\t\t\t \r\n\t\t\t              var rect = e.getBoundingClientRect(); //getBoundingClientRect获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置。\r\n\t\t\t              ball.style.top = (rect.top+rect.height/2)+'px';\r\n\t\t\t              ball.style.left = rect.left+'px';\r\n\t\t\t              ball.style.transition = 'left 0s, top 0s';\r\n\t\t\t              //获取购物车标签\r\n\t\t\t              var buyCar=document.getElementById('shopCarIcon').getBoundingClientRect();\r\n\t\t\t              setTimeout(()=>{\r\n\t\t\t                  ball.style.top = window.innerHeight-(window.innerHeight-buyCar.top-buyCar.height/2)+'px';\r\n\t\t\t                  ball.style.left = (buyCar.left+buyCar.height/2)+'px';\r\n\t\t\t                  ball.style.transition = 'left 1s linear, top 1s ease-in';\r\n\t\t\t              }, 20);\r\n\t\t\t              //动画结束后自动删除\r\n\t\t\t              setTimeout(function () {\r\n\t\t\t                  document.body.removeChild(ball);\r\n\t\t\t              },1050);\r\n\t\t\t          };\r\n\t\t\t      },\r\n\t\t\t// 确认支付\r\n\t\t\tconfirmPay(){\r\n\t\t\t\tconsole.log('确认支付');\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('66',_this.orderStatus)\r\n\t\t\t\t\r\n\t\t\t\t_this.$dialog.confirm({\r\n\t\t\t\t  title: '温馨提示',\r\n\t\t\t\t  message: '确定支付？',\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t    // on confirm\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(_this.orderStatus!=1){\r\n\t\t\t\t\t\t  _this.$toast('订单已取消！');\r\n\t\t\t\t\t\t  setTimeout(()=>{\r\n\t\t\t\t\t\t\t  _this.goodsOrderShow=false;//关闭提交订单\r\n\t\t\t\t\t\t\t  _this.payPopup=false;//关闭支付\r\n\t\t\t\t\t\t  },1500)\r\n\t\t\t\t\t\t  return;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t\t  message: '正在提交...',\r\n\t\t\t\t\t  duration:0,\r\n\t\t\t\t\t  forbidClick: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 真实支付\r\n\t\t\t\t\t// _this.$axios({\r\n\t\t\t\t\t//   method: 'get',\r\n\t\t\t\t\t//   url:JSON.parse(localStorage.getItem('userInfo')).wxPayUrl,\r\n\t\t\t\t\t//   params: {\r\n\t\t\t\t\t// \ttotalFee:(_this.goodsTotal+parseFloat(_this.$route.query.deliveryFee)+_this.greenMoney)*100,//金额（分）\r\n\t\t\t\t\t// \tbody:'请支付',//标题\r\n\t\t\t\t\t// \toutTradeNo:_this.payOrderNum,//订单编号\r\n\t\t\t\t\t// \tattach:_this.$route.query.sellerId,//商家id\r\n\t\t\t\t\t// \tnotifyUrl:port+'/v1/order/wechatPayNotify'\r\n\t\t\t\t\t//   }\r\n\t\t\t\t\t// }).then(function(data){\r\n\t\t\t\t\t// \tconsole.log('支付',data)\r\n\t\t\t\t\t// \tload.clear();\r\n\t\t\t\t\t// \tvar payUrl=data.data.data.payUrl+\"&redirect_url=\"+payBackUrl+\"/#/index\";\r\n\t\t\t\t\t// \t_this.$router.push({'path':'/pay',query:{'payUrl':payUrl}});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// }).catch(function(error){\r\n\t\t\t\t\t// \tconsole.log(error);\r\n\t\t\t\t\t// });\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t////模拟支付\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/order/pay',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t    orderNo:_this.payOrderNum,//订单编号\r\n\t\t\t\t\t\ttradeNo:'1',//交易编号\r\n\t\t\t\t\t\tsellerId:_this.$route.query.sellerId\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('支付',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast('支付成功');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/orderList'});\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'});\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t  }).catch(() => {\r\n\t\t\t\t    // on cancel\r\n\t\t\t\t\tconsole.log('取消')\r\n\t\t\t\t  });\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 倒计时\r\n\t\t\tcountDown(){\r\n\t\t\t    var timer;\r\n\t\t\t    var time=1800;//30分钟换算成1800秒\r\n\t\t\t    timer=setInterval(function(){\r\n\t\t\t         if (time<=0) {\r\n\t\t\t            clearInterval(timer);\r\n\t\t\t            alert('时间到了');\r\n\t\t\t            return;\r\n\t\t\t        }\r\n\t\t\t        time--;\r\n\t\t\t        var minute=parseInt(time/60);\r\n\t\t\t        var second=parseInt(time%60);\r\n\t\t\t        if (minute<10) {\r\n\t\t\t            minute='0'+minute;\r\n\t\t\t        }\r\n\t\t\t        if (second<10) {\r\n\t\t\t            second='0'+second;\r\n\t\t\t        }\r\n\t\t\t\t   document.querySelector('#time').innerHTML=minute+':'+second;\r\n\t\t\t    },1000);\r\n\t\t\t},\r\n\t\t\t// 打开修改地址popup（实际上打开的是添加地址，两个共用），获取地址详情\r\n\t\t\topenEditAddressPopup(addressId){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.schoolArea='';\r\n\t\t\t\t_this.schoolAreaId='';\r\n\t\t\t\t_this.buildName='';\r\n\t\t\t\t_this.buildId='';\r\n\t\t\t\t\r\n\t\t\t\t_this.addAddressTit='修改地址';\r\n\t\t\t\t_this.addAddressPopup=true;\r\n\t\t\t\t_this.addressId=addressId;\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    addressId:addressId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('地址详情',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.userName=data.data.data.contact;//姓名\r\n\t\t\t\t\t\t_this.sex=data.data.data.sex==1?'男':'女';//姓名\r\n\t\t\t\t\t\t_this.userPhone=data.data.data.phone;//手机号\r\n\t\t\t\t\t\t_this.detailAddress=data.data.data.address;//详细地址\r\n\t\t\t\t\t\t_this.schoolAreaId=data.data.data.cAreaId;//校区id\r\n\t\t\t\t\t\t_this.schoolArea=data.data.data.cAreaName;//校区\r\n\t\t\t\t\t\t_this.buildId=data.data.data.buildId;//楼宇id\r\n\t\t\t\t\t\t_this.buildName=data.data.data.buildName;//楼宇\r\n\t\t\t\t\t\t_this.setDefaultAdd=data.data.data.defaultAddress==1?true:false;//是否设为默认地址\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.getBuild(data.data.data.cAreaId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取商家信息\r\n\t\t\tgetSellerInfo(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/get',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:_this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('商家信息',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime1){data.data.data.businessBeginTime1=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime1){data.data.data.businessEndTime1=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime2){data.data.data.businessBeginTime2=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime2){data.data.data.businessEndTime2=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime3){data.data.data.businessBeginTime3=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime3){data.data.data.businessEndTime3=''}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.sellerName=data.data.data.sellerName;//商家负责人\r\n\t\t\t\t\t\t_this.sellerPhone=data.data.data.phone;//商家电话\r\n\t\t\t\t\t\t_this.winAddress=data.data.data.addr;//商家地址\r\n\t\t\t\t\t\t_this.sellerOpenTime=data.data.data.businessBeginTime1+'-'+data.data.data.businessEndTime1+' '+data.data.data.businessBeginTime2+'-'+data.data.data.businessEndTime2+' '+data.data.data.businessBeginTime3+'-'+data.data.data.businessEndTime3;//商家营业时间\r\n\t\t\t\t\t\t_this.fullAddress=data.data.data.winFullAddr\r\n\t\t\t\t\t\t//窗口头像 \r\n\t\t\t\t\t\tif(data.data.data.windowPic){\r\n\t\t\t\t\t\t\t_this.winPic=sellerPort+data.data.data.windowPic;\r\n\t\t\t\t\t\t\t_this.winSplitImg=data.data.data.windowPic;//不带前缀的窗口图片\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.winPic='./static/images/icon/default1.png';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 收货地址返回\r\n\t\t\treceiveAddressBack(){\r\n\t\t\t\tthis.selectAddressPopupShow=false;\r\n\t\t\t\tif(this.checkAddress!=''){\r\n\t\t\t\t\tvar addressSplit=this.checkAddress.split(',');//勾选的地址转为数组：addressSplit[0]:姓名，addressSplit[1]:电话，addressSplit[2]:地址\r\n\t\t\t\t\tthis.wsName=addressSplit[0];//外送姓名\r\n\t\t\t\t\tthis.wsPhone=addressSplit[1];//外送电话\r\n\t\t\t\t\tthis.wsAddress=addressSplit[2];//外送地址\r\n\t\t\t\t\tthis.wsSex=addressSplit[3]==1?'（男）':'（女）';//外送人性别\r\n\t\t\t\t\tthis.buildId=addressSplit[4];//建筑id\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('收货地址返回',this.checkAddress)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查询单位区域\r\n\t\t\tgetSchoolArea(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/queryCompanyArea',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('所有校区',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.selectAreaAction=[];\r\n\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t_this.selectAreaAction.push({name:data.data.data[i].optionText,id:data.data.data[i].optionId})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 选择校区时查询楼宇\r\n\t\t\tonSelectAreaAction(e){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.buildName='';\r\n\t\t\t\t_this.buildId='';\r\n\t\t\t\t_this.selectBuildAction=[];\r\n\t\t\t\t_this.schoolAreaId=e.id;\r\n\t\t\t\t_this.schoolArea=e.name;\r\n\t\t\t\tconsole.log('选择的区域',e)\r\n\t\t\t\t\r\n\t\t\t\t_this.getBuild(e.id);\r\n\t\t\t},\r\n\t\t\t// 查询楼宇\r\n\t\t\tgetBuild(id){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t// 查询楼宇\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/queryBuild',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cAreaId:id\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('该区域所有楼宇',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length==0){\r\n\t\t\t\t\t\t\t_this.$toast('该区域内没有楼宇信息')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.selectBuildAction=[];\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\t_this.selectBuildAction.push({name:data.data.data[i].optionText,id:data.data.data[i].optionId})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 选择楼宇\r\n\t\t\tonSelectBuildAction(e){\r\n\t\t\t\tconsole.log('选择的楼宇',e)\r\n\t\t\t\tthis.buildName=e.name;\r\n\t\t\t\tthis.buildId=e.id;\r\n\t\t\t},\r\n\t\t\t// 点击外送时间确定获取选中时间\r\n\t\t\tgetWsTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.wsTimePopup=false\r\n\t\t\t\tthis.wsTime=e\r\n\t\t\t},\r\n\t\t\t// 点击自提时间确定获取选中时间\r\n\t\t\tgetZtTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.ztTimePopup=false\r\n\t\t\t\tthis.ztTime=e;\r\n\t\t\t},\r\n\t\t\t// 点击到店用餐确定获取选中时间\r\n\t\t\tgetDdTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.ddTimePopup=false\r\n\t\t\t\tthis.ddTime=e;\r\n\t\t\t},\r\n\t\t\t// 获取收货地址\r\n\t\t\tgetAddress(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/query',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t\tpersonId:JSON.parse(localStorage.getItem('userInfo')).pId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length<=0){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.allAddresArr=data.data.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('收货地址',data);\r\n\t\t\t\t\t\tfor (var i=0;i<_this.allAddresArr.length;i++) {\r\n\t\t\t\t\t\t\tif(_this.allAddresArr[i].defaultAddress==1){\r\n\t\t\t\t\t\t\t\t_this.wsName=_this.allAddresArr[i].contact;//设置默认地址的姓名\r\n\t\t\t\t\t\t\t\t_this.wsPhone=_this.allAddresArr[i].phone;//设置默认地址的电话\r\n\t\t\t\t\t\t\t\t_this.buildId=_this.allAddresArr[i].buildId;//设置默认地址的建筑id\r\n\t\t\t\t\t\t\t\t_this.wsSex=_this.allAddresArr[i].sex==1?'（男）':'（女）';//设置默认地址的性别\r\n\t\t\t\t\t\t\t\t_this.wsAddress=_this.allAddresArr[i].cAreaName+_this.allAddresArr[i].buildName+_this.allAddresArr[i].address;//设置默认地址的地址\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t_this.allAddresArr[0].defaultAddress==1\r\n\t\t\t\t\t\t\t\t_this.wsName=_this.allAddresArr[0].contact;//设置默认地址的姓名\r\n\t\t\t\t\t\t\t\t_this.wsPhone=_this.allAddresArr[0].phone;//设置默认地址的电话\r\n\t\t\t\t\t\t\t\t_this.buildId=_this.allAddresArr[0].buildId;//设置默认地址的建筑id\r\n\t\t\t\t\t\t\t\t_this.wsSex=_this.allAddresArr[0].sex==1?'（男）':'（女）';//设置默认地址的性别\r\n\t\t\t\t\t\t\t\t_this.wsAddress=_this.allAddresArr[0].cAreaName+_this.allAddresArr[0].buildName+_this.allAddresArr[0].address;//设置默认地址的地址\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(data.data.status==600||data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('获取地址失败');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 保存地址\r\n\t\t\tsaveAddress(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar userInfo=JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\t\t\r\n\t\t\t\tif(_this.userName==''){\r\n\t\t\t\t\t_this.$toast('请输入姓名');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.userPhone==''){\r\n\t\t\t\t\t_this.$toast('请输入手机号');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!phongReg.test(_this.userPhone)){\r\n\t\t\t\t\t_this.$toast('手机号格式错误');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.schoolArea==''){\r\n\t\t\t\t\t_this.$toast('请选择校区');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.buildName==''){\r\n\t\t\t\t\t_this.$toast('请选择楼宇');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t// 新增地址\r\n\t\t\t\tif(_this.addAddressTit=='新增地址'){\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/deliveryAddress/insert',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  timeout: 10000,\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\t\tcontact:_this.userName,//姓名\r\n\t\t\t\t\t\tsex:_this.sex=='男'?1:2,//性别1男2女\r\n\t\t\t\t\t\tphone:_this.userPhone,//手机号\r\n\t\t\t\t\t\tcId:userInfo.cId,//单位id\r\n\t\t\t\t\t\tcAreaId:_this.schoolAreaId,//区域id\r\n\t\t\t\t\t\tbuildId:_this.buildId,//楼宇id\r\n\t\t\t\t\t\taddress :_this.detailAddress,//详细地址\r\n\t\t\t\t\t\tdefaultAddress:_this.setDefaultAdd==true?'1':'0',//是否是默认地址0不是1是\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\tconsole.log('修改地址',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t\t_this.getAddress();\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.addAddressPopup=false;\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\t_this.$toast('保存失败，服务错误');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 修改地址\r\n\t\t\t\tif(_this.addAddressTit=='修改地址'){\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'put',\r\n\t\t\t\t\t  url: port+'/v1/deliveryAddress/update',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\taddressId:_this.addressId,\r\n\t\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\t\tcontact:_this.userName,//姓名\r\n\t\t\t\t\t\tsex:_this.sex=='男'?1:2,//性别1男2女\r\n\t\t\t\t\t\tphone:_this.userPhone,//手机号\r\n\t\t\t\t\t\tcId:userInfo.cId,//单位id\r\n\t\t\t\t\t\tcAreaId:_this.schoolAreaId,//区域id\r\n\t\t\t\t\t\tbuildId:_this.buildId,//楼宇id\r\n\t\t\t\t\t\taddress :_this.detailAddress,//详细地址\r\n\t\t\t\t\t\tdefaultAddress:_this.setDefaultAdd==true?'1':'0',//是否是默认地址0不是1是\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\tconsole.log('保存地址',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t\t_this.getAddress();\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.addAddressPopup=false;\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\t_this.$toast('保存失败，服务错误');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 打开选择地址popup\r\n\t\t\topenSelectAddressPopup(){\r\n\t\t\t\tthis.selectAddressPopupShow=true;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 提交订单\r\n\t\t\tsubmitOrder(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar resultOrder=[];//最终生成的订单\r\n\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\t\r\n\t\t\t\t// if(!JSON.parse(localStorage.getItem('userInfo')).wxPayUrl){\r\n\t\t\t\t// \t_this.$toast('当前未配置微信付款地址，请线下支付');\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\tvar userInfo=JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\t\tvar name='';//联系人\r\n\t\t\t\tvar sex='';//性别\r\n\t\t\t\tvar phone='';//电话\r\n\t\t\t\tvar address='';//地址\r\n\t\t\t\tvar orderTime='';//配送时间/取餐时间/用餐时间\r\n\t\t\t\t\r\n\t\t\t\tif(_this.orderWay==''){\r\n\t\t\t\t\t_this.$toast('请选择订餐方式');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 不同用餐方式提交订单，共用字段设置\r\n\t\t\t\tif(_this.orderWay=='外送'){\r\n\t\t\t\t\tname=_this.wsName;\r\n\t\t\t\t\tsex=_this.wsSex=='（男）'?1:2;\r\n\t\t\t\t\tphone=_this.wsPhone;\r\n\t\t\t\t\taddress=_this.wsAddress;\r\n\t\t\t\t\torderTime=_this.wsTime;//外送时间\r\n\t\t\t\t\tif(_this.wsAddress==''){\r\n\t\t\t\t\t\t_this.$toast('请选择外送地址');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(_this.wsTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择外送时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.orderWay=='自提'){\r\n\t\t\t\t\t_this.buildId='';\r\n\t\t\t\t\tname=_this.ztName;\r\n\t\t\t\t\tsex=userInfo.pSex=='男'?1:2;\r\n\t\t\t\t\tphone=_this.ztPhone;\r\n\t\t\t\t\taddress=_this.fullAddress;\r\n\t\t\t\t\torderTime=_this.ztTime;//自提时间\r\n\t\t\t\t\tif(_this.ztTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择自提时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.orderWay=='到店用餐'){\r\n\t\t\t\t\t_this.buildId='';\r\n\t\t\t\t\tname=_this.ztName;\r\n\t\t\t\t\tsex=userInfo.pSex=='男'?1:2;\r\n\t\t\t\t\tphone=_this.ztPhone;\r\n\t\t\t\t\taddress=_this.fullAddress;\r\n\t\t\t\t\torderTime=_this.ddTime;//自提时间\r\n\t\t\t\t\tif(_this.ddTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择用餐时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor (var i=0;i<_this.myOrder.length;i++) {\r\n\t\t\t\t\tresultOrder.push({\r\n\t\t\t\t\t\tgId:_this.myOrder[i].gId,\r\n\t\t\t\t\t\tamount:_this.myOrder[i].gPrice*_this.myOrder[i].goodsNum,//单个商品总价=单价*数量\r\n\t\t\t\t\t\tbuyCounter:_this.myOrder[i].goodsNum,//购买数量\r\n\t\t\t\t\t\tgDescribe:_this.myOrder[i].gDescribe,//商品描述\r\n\t\t\t\t\t\tgKindName:_this.myOrder[i].gKindName,//商品类别名称\r\n\t\t\t\t\t\tgName:_this.myOrder[i].gName,//商品名称\r\n\t\t\t\t\t\tgNo:_this.myOrder[i].gNo,//商品编号\r\n\t\t\t\t\t\tgPic:_this.myOrder[i].gPic,//商品图片\r\n\t\t\t\t\t\tgPrice:_this.myOrder[i].gPrice,//商品价格\r\n\t\t\t\t\t\tgProperties:_this.myOrder[i].gProperties,//商品属性\r\n\t\t\t\t\t\tgUnit:_this.myOrder[i].gUnit,//商品计量单位\r\n\t\t\t\t\t\tgGreenFee:_this.myOrder[i].gGreenFee==null?0:_this.myOrder[i].gGreenFee,//环保费\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_this.myOrder[i].amount=_this.myOrder[i].gPrice*_this.myOrder[i].gPrice.goodsNum;//单个商品总价=单价*数量\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('提交订单>>>','订餐方式：',_this.orderWay,'，提交订单：',resultOrder,'备注：',_this.orderRemark);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('单位id',userInfo.cId)\r\n\t\t\t\tconsole.log('用户id',userInfo.pId)\r\n\t\t\t\tconsole.log('商家id',_this.$route.query.sellerId)\r\n\t\t\t\tconsole.log('商家窗口地址',_this.winAddress)\r\n\t\t\t\tconsole.log('商家窗口名称',_this.$route.query.winName)\r\n\t\t\t\tconsole.log('总金额',_this.goodsTotal)\r\n\t\t\t\tconsole.log('配送费',parseFloat(_this.$route.query.deliveryFee))\r\n\t\t\t\tconsole.log('备注',_this.orderRemark)\r\n\t\t\t\tconsole.log('配送地址所属的建筑id',_this.buildId)\r\n\t\t\t\tconsole.log('订单',resultOrder)\r\n\t\t\t\tconsole.log('用餐方式',_this.orderWay=='外送'?2:_this.orderWay=='自提'?1:3)\r\n\t\t\t\tconsole.log('联系人',name)\r\n\t\t\t\tconsole.log('性别',sex)\r\n\t\t\t\tconsole.log('电话',phone)\r\n\t\t\t\tconsole.log('配送详细地址',address)\r\n\t\t\t\tconsole.log('配送时间/取餐时间/用餐时间',orderTime)\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'post',\r\n\t\t\t\t  url: port+'/v1/order/insert',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token'),'content-type':'application/json'},\r\n\t\t\t\t  data:resultOrder,//订单主体\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:userInfo.cId,//单位id\r\n\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\tsellerId:_this.$route.query.sellerId,//商家id\r\n\t\t\t\t\tsellerWinAddress:_this.winAddress,//商家窗口地址\r\n\t\t\t\t\tsellerWinName:_this.$route.query.winName,//商家窗口名称\r\n\t\t\t\t\ttotalAmount:_this.goodsTotal+parseFloat(_this.$route.query.deliveryFee)+_this.greenMoney,//总金额\r\n\t\t\t\t\tdeliveryFee:parseFloat(_this.$route.query.deliveryFee),//配送费\r\n\t\t\t\t\tremark:_this.orderRemark,//备注\r\n\t\t\t\t\tsellerWinFullAddress:_this.fullAddress,//商家窗口全地址 _this.fullAddress\r\n\t\t\t\t\ttoBuildId:_this.buildId,//配送地址所属的建筑id\r\n\t\t\t\t\tmealMode:_this.orderWay=='外送'?2:_this.orderWay=='自提'?1:3,//用餐方式1自提2配送3进店用餐\r\n\t\t\t\t\tcontact:name,//联系人\r\n\t\t\t\t\tsex:sex,//性别\r\n\t\t\t\t\tphone:phone,//电话\r\n\t\t\t\t\taddress:address,//配送详细地址（自提、到店用餐）\r\n\t\t\t\t\tarrivalTime:orderTime,//配送时间/取餐时间/用餐时间\r\n\t\t\t\t\tpicUrl:_this.winSplitImg,//窗口图片\r\n\t\t\t\t\tsellerPhone:_this.sellerPhone,//商家短话\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('提交订单',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.$toast('已提交');\r\n\t\t\t\t\t\t_this.payOrderNum=data.data.data;//订单编号\r\n\t\t\t\t\t\t_this.getOrderDetail(_this.payOrderNum);\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.payPopup=true;//打开支付popup\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('提交失败');\r\n\t\t\t\t\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\r\n\t\t\t// 打开订餐方式ActionSheet \r\n\t\t\topenOrderWay(){\r\n\t\t\t\tif(this.orderWayActions.length==0){\r\n\t\t\t\t\tthis.$toast('商家未设置订餐方式');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderWayshow=true\r\n\t\t\t},\r\n\t\t\t// 选择用餐方式\r\n\t\t\tonSelectOrderWay(item) {\r\n\t\t\t\tconsole.log(item.name)\r\n\t\t\t\tif(item.name=='外送'){\r\n\t\t\t\t\tthis.wsShow=true;\r\n\t\t\t\t\tthis.ztShow=false;\r\n\t\t\t\t\tthis.ddycShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tif(item.name=='自提'){\r\n\t\t\t\t\tthis.wsShow=false;\r\n\t\t\t\t\tthis.ztShow=true;\r\n\t\t\t\t\tthis.ddycShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tif(item.name=='到店用餐'){\r\n\t\t\t\t\tthis.wsShow=false;\r\n\t\t\t\t\tthis.ztShow=false;\r\n\t\t\t\t\tthis.ddycShow=true;\r\n\t\t\t\t}\r\n\t\t\t     this.orderWay=item.name\r\n\t\t\t},\r\n\t\t\t// 计算总价\r\n\t\t\tcountTotalPrice(){\r\n\t\t\t\tvar count=0;//局部变量总价\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.goodsList.forEach(function(a,i){\r\n\t\t\t\t\tcount+=a.goodsNum*a.gPrice;\r\n\t\t\t\t})\r\n\t\t\t\t_this.goodsTotal=parseFloat(count);\r\n\t\t\t\tconsole.log(_this.goodsTotal)\r\n\t\t\t},\r\n\t\t\t// 商品加\r\n\t\t\taddGoods(item,e,itemCounter){\r\n\t\t\t\tconsole.log(itemCounter)\r\n\t\t\t\t// console.log(e.target)//获取点击的this元素\r\n\t\t\t\tvar ball=this.parabolic();\r\n\t\t\t\t\r\n\t\t\t\t// 商品数量最多为100\r\n\t\t\t\t\tif(itemCounter<100){\r\n\t\t\t\t\t\titem.goodsNum>=100?100:item.goodsNum++;\r\n\t\t\t\t\t\tif(e){\r\n\t\t\t\t\t\t\tball(e.target);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.shopCarGoodsNum++\r\n\t\t\t\t\t\tthis.countTotalPrice();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 商品减\r\n\t\t\tminGoods(item){\r\n\t\t\t\titem.goodsNum<=0?0:item.goodsNum--;\r\n\t\t\t\tthis.shopCarGoodsNum--\r\n\t\t\t\tif(this.shopCarGoodsNum<=0){\r\n\t\t\t\t\tthis.ShopDetailShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.countTotalPrice();\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\tlogIn() {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t//判断输入框是否为空\r\n\t\t\t\tif(_this.loginName==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入用户名\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.loginPassword==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入密码\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar load = _this.$toast.loading({\r\n\t\t\t\t\tmessage: '登录中...',\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: port + '/v1/person/doLogin',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tusername : _this.loginName,\r\n\t\t\t\t\t\tpassword :_this.loginPassword,\r\n\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(data) {\r\n\t\t\t\t\tconsole.log('登录', data)\r\n\t\t\t\t\tif(data.data.status==200){\r\n\t\t\t\t\t\tload.clear();\r\n\t\t\t\t\t\t_this.$toast(\"登录成功\");\r\n\t\t\t\t\t\tlocalStorage.setItem('userLogin',true)\r\n\t\t\t\t\t\tlocalStorage.setItem('token',data.data.data)\r\n\t\t\t\t\t\t// 获取登录人信息\r\n\t\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\t\turl: port + '/v1/person/getPersonInfo',\r\n\t\t\t\t\t\t\theaders:{'token':data.data.data},\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\ttoken : data.data.data,\r\n\t\t\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(function(data1) {\r\n\t\t\t\t\t\t\tconsole.log('获取登录人信息', data1)\r\n\t\t\t\t\t\t\tif(data1.data.status==200){\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('userInfo',JSON.stringify(data1.data.data))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\t\t\t\t_this.myOrder=[];\r\n\t\t\t\t\t\t\t_this.loginPopup=false;//关闭登录popup\r\n\t\t\t\t\t\t\t_this.goodsOrderShow=true;//打开提交订单popup\r\n\t\t\t\t\t\t\t_this.getAddress();//获取收货地址\r\n\t\t\t\t\t\t\tfor(var i=0;i<_this.goodsList.length;i++){\r\n\t\t\t\t\t\t\t\tif(_this.goodsList[i].gGreenFee==null){\r\n\t\t\t\t\t\t\t\t\t_this.goodsList[i].gGreenFee=0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(_this.goodsList[i].goodsNum>0){\r\n\t\t\t\t\t\t\t\t\t_this.myOrder.push(_this.goodsList[i])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 计算每个商品的环保费\r\n\t\t\t\t\t\t\tfor (var i=0;i<_this.myOrder.length;i++) {\r\n\t\t\t\t\t\t\t\tgreenMoney+=parseFloat(_this.myOrder[i].goodsNum*_this.myOrder[i].gGreenFee)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.greenMoney=greenMoney;\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 去结算\r\n\t\t\tgoAccount(){\r\n\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\tthis.myOrder=[];\r\n\t\t\t\t\r\n\t\t\t\tif(this.$route.query.winState==1){\r\n\t\t\t\t\tthis.$toast('休息中');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// 如果商品数量为0\r\n\t\t\t\tif(this.goodsTotal<=0){\r\n\t\t\t\t\tthis.$toast('请添加菜品');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=0;i<this.goodsList.length;i++){\r\n\t\t\t\t\tif(this.goodsList[i].goodsNum>=1){\r\n\t\t\t\t\t\tif(!(this.goodsList[i].gSellMin<=this.goodsList[i].goodsNum)){\r\n\t\t\t\t\t\t\tconsole.log(this.goodsList)\r\n\t\t\t\t\t\t\tthis.$toast(this.goodsList[i].gName+'最小购买数量为'+this.goodsList[i].gSellMin)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.goodsList[i].gGreenFee==null){\r\n\t\t\t\t\t\tthis.goodsList[i].gGreenFee=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.goodsList[i].goodsNum>0){\r\n\t\t\t\t\t\tthis.myOrder.push(this.goodsList[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 如果没登录，去登录\r\n\t\t\t\tif(!isLogin()){\r\n\t\t\t\t\tthis.loginPopup=true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 计算每个商品的环保费\r\n\t\t\t\tfor (var i=0;i<this.myOrder.length;i++) {\r\n\t\t\t\t\tgreenMoney+=parseFloat(this.myOrder[i].goodsNum*this.myOrder[i].gGreenFee)\r\n\t\t\t\t}\r\n\t\t\t\tthis.greenMoney=greenMoney;\r\n\t\t\t\t\r\n\t\t\t\tthis.getAddress();//获取收货地址\r\n\t\t\t\tthis.goodsOrderShow=true;//打开提交订单popup\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//点击购物车打开购物车详情\r\n\t\t\topenShopCar(){\r\n\t\t\t\tif(!this.shopCarGoodsNum<=0){\r\n\t\t\t\t\tthis.ShopDetailShow=true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开窗口照片\r\n\t\t\topenMclz(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getMclz()\r\n\t\t\t},\r\n\t\t\t// 打开资质证照\r\n\t\t\topenZz(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getZzzz()\r\n\t\t\t},\r\n\t\t\t// 打开健康证\r\n\t\t\topenHealth(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getHealthy();\r\n\t\t\t},\r\n\t\t\t// 预览商家证件照大图\r\n\t\t\tprevIdPhone(index){\r\n\t\t\t\tvar imgArr=[];\r\n\t\t\t\tfor (var i=0;i<this.idCardPhotoList.length;i++) {\r\n\t\t\t\t\timgArr.push(this.idCardPhotoList[i].picUrl)\r\n\t\t\t\t}\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tconsole.log(imgArr)\r\n\t\t\t\tImagePreview({\r\n\t\t\t\t  images: imgArr,\r\n\t\t\t\t  startPosition: index,\r\n\t\t\t\t  loop:false,\r\n\t\t\t\t  onClose() {\r\n\t\t\t\t    // do something\r\n\t\t\t\t  },\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 商品、评价、商家tab切换\r\n\t\t\tgoodsTypeTab(e){\r\n\t\t\t\tthis.num=e.target.dataset.num;\r\n\t\t\t\t\r\n\t\t\t\tif(this.num==2){\r\n\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\tthis.sellerAssess=[];\r\n\t\t\t\t\tthis.getSellerAssess(pageNum);//获取商家评价\r\n\t\t\t\t}\r\n\t\t\t\tif(this.num==3){\r\n\t\t\t\t\tthis.getSellerInfo();//获取商家信息\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 查询窗口照片\r\n\t\t\tgetMclz(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/querySellerPic',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('窗口照片',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 查询资质证照\r\n\t\t\tgetZzzz(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/queryPaper',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('资质证照',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查询员工健康证\r\n\t\t\tgetHealthy(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/queryEmployee',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('员工健康证',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 商品类别切换\r\n\t\t\ttypeTab(event){\r\n\t\t\t\tvar ele=event.target.dataset.goodstype//获取点击id，\r\n\t\t\t\tthis.typeNum=event.target.dataset.type;//tab切换\r\n\t\t\t\tdocument.querySelector('#'+ele).scrollIntoView({behavior: \"smooth\"});//点击分类，找到对应的id元素滚动到可视区域内\r\n\t\t\t},\r\n\r\n\t\t\t//获取商品分类、商品分类对应的列表\r\n\t\t\tgetGoodsType(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.goodsList=[];\r\n\t\t\t\t_this.goodsTypeArr=[];\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/ordermeal/queryGoodsKindBySellerId',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('所有商品',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif (data.data.data.length>0) {\r\n\t\t\t\t\t\t\t_this.goodsTypeArr=data.data.data;\r\n\t\t\t\t\t\t\tfor(var i=0;i<_this.goodsTypeArr.length;i++){\r\n\t\t\t\t\t\t\t\tfor(var j=0;j<_this.goodsTypeArr[i].goodsList.length;j++){\r\n\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].goodsNum=0\r\n\t\t\t\t\t\t\t\t\tif(!_this.goodsTypeArr[i].goodsList[j].gPic){\r\n\t\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].gPic='./static/images/icon/default1.png'//如果当前菜品没有图片，则设置默认图\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].gPic=sellerPort+_this.goodsTypeArr[i].goodsList[j].gPic\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_this.goodsList.push(_this.goodsTypeArr[i].goodsList[j])//把商品分类里的商品列表抽出来\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log('商品类别',_this.goodsTypeArr);\r\n\t\t\t\t\t\t\tconsole.log('所有商品列表',_this.goodsList)\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t_this.$toast('暂无商品信息');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 清空购物车\r\n\t\t\tclearShopCar(){\r\n\t\t\t\tthis.getGoodsType();\r\n\t\t\t\tthis.typeNum=0;//商品类别切换\r\n\t\t\t\tthis.shopCarGoodsNum=0;//购物差角标归零\r\n\t\t\t\tthis.goodsTotal=0;//总价归零\r\n\t\t\t\tthis.ShopDetailShow=false;//关闭购物车详情\r\n\t\t\t\tconsole.log('清空购物车',this.goodsList)\r\n\t\t\t},\r\n\t\t\t// 获取微信付款地址\r\n\t\t\tgetWeXinPayAdd(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/getWXPayUrl',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:JSON.parse(localStorage.getItem('userInfo')).cId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('获取微信付款地址',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.weXinPayUrl=data.data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600||data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcreated:function(){\r\n\t\t\t\r\n\t\t\tconsole.log('窗口状态',this.$route.query.winState)\r\n\t\t\t\r\n\t\t\tconsole.log('分数',this.$route.query.starScore)\r\n\t\t\tthis.getSellerInfo();//获取商家\r\n\t\t\t// this.getWeXinPayAdd();//获取微信付款地址\r\n\t\t\tvar _this=this;\r\n\t\t\t_this.winHeight=document.documentElement.clientHeight;//窗口高度\r\n\t\t\t\r\n\t\t\t// 遍历传递过来的用餐方式\r\n\t\t\tif(_this.$route.query.deliveryMode){\r\n\t\t\t\tfor (var i=0;i<_this.$route.query.deliveryMode.length;i++) {\r\n\t\t\t\t\t_this.orderWayActions.push({name:_this.$route.query.deliveryMode[i]=='1'?'外送':_this.$route.query.deliveryMode[i]=='2'?'自提':'到店用餐'})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 用餐方式\r\n\t\t\tvar wayArr=[];\r\n\t\t\tfor (var i=0;i<_this.orderWayActions.length;i++) {\r\n\t\t\t\twayArr.push(_this.orderWayActions[i].name);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(wayArr.indexOf('外送')!=-1){\r\n\t\t\t\t_this.wsShow=true;\r\n\t\t\t\t_this.orderWay='外送';\r\n\t\t\t}else if(wayArr.indexOf('自提')!=-1){\r\n\t\t\t\t_this.ztShow=true;\r\n\t\t\t\t_this.orderWay='自提';\r\n\t\t\t}else if(wayArr.indexOf('到店用餐')!=-1){\r\n\t\t\t\t_this.ddycShow=true;\r\n\t\t\t\t_this.orderWay='到店用餐';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log('用餐方式',wayArr)\r\n\t\t\t\r\n\t\t\t// _this.getAddress();//获取收货地址\r\n\t\t\t_this.getGoodsType();//商品类别\r\n\t\t}\r\n\t};\r\n</script>\r\n<style type=\"text/css\">\r\n.win-detail-top{background: #fff;background: #fff;margin: 10px;padding: 10px;padding-right: 75px;position: relative;border-radius: 6px;}\r\n.win-detail-top .win-name{font-size: 16px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;margin-bottom: 4px;}\r\n.win-detail-top .win-img{position: absolute;width: 60px;height: 60px;right: 10px;top: 10px;}\r\n.win-detail-top .sell-num span{margin-left: 4px;color: #666;font-size: 13px;}\r\n.win-detail-top .send-price{margin: 4px 0;}\r\n.win-detail-top .send-price,.win-detail-top .win-tips{font-size: 13px;color: #999;}\r\n.win-detail-top .win-tips .iconfont{color: #F4BE42;margin-right: 6px;}\r\n\r\n.goods-type-wrap{background: #fff;}\r\n.goods-type-wrap .goods-type-tab{border-bottom: 1px solid #eee;}\r\n.goods-type-wrap .goods-type-tab a{color: #333;margin-right: 20px;padding: 10px;display: inline-block;}\r\n.goods-type-wrap .goods-type-tab a.active{font-weight: bold;position: relative;}\r\n.goods-type-wrap .goods-type-tab a.active::after{content: '';position: absolute;width: 100%;height: 3px;background: #F4BE42;left: 50%;bottom: 0;transform: translateX(-50%);}\r\n.goods-type-main .goodst-type-item{display: none;overflow-y: auto;-webkit-overflow-scrolling: touch;}\r\n.goods-type-main .goodst-type-item.show{display: block;}\r\n.goods-type-wrap{margin: 10px;}\r\n\r\n.goods-type-left{overflow-y: auto;width: 100px;box-sizing: border-box;border-right: 1px solid #eee;-webkit-overflow-scrolling: touch;float: left;}\r\n.goods-type-left li{text-align: center;padding: 10px 0;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;color: #333;}\r\n.goods-type-left li.active{background: #F8F8F8;font-weight: bold;}\r\n.goods-type-right{margin-left: 100px;padding: 10px;box-sizing: border-box;-webkit-overflow-scrolling: touch;overflow-y: auto;}\r\n\r\n.goods-list{overflow: hidden;-webkit-overflow-scrolling: touch;}\r\n.goods-list .goods-img{width: 70px;height: 70px;float: left;margin-right: 10px;position: relative;}\r\n.goods-list .goods-img img{width: 70px;height: 70px;}\r\n.goods-list p{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}\r\n.goods-list .goods-name{font-size: 14px;font-weight: bold;margin-bottom: 4px;}\r\n.goods-list .sell-num{color: #999;}\r\n.goods-list .goods-price{color: #EA4646;font-weight: bold;margin-top: 5px;position: relative;padding-right: 70px;}\r\n.goods-list li{position: relative;overflow: hidden;margin-bottom: 10px;}\r\n.p-goods-tit{margin-bottom: 10px;}\r\n\r\n.counter{position: absolute;width: 70px;overflow: hidden;right: 0;top: 0;height: 20px;}\r\n.counter span{width: 20px;height: 20px;border-radius: 50%;line-height: 20px;font-size: 12px;}\r\n.counter span.min{border: 1px solid #ddd;left: 0;}\r\n.counter span.add{background: #F4BE42;right: 0;}\r\n.counter span,.counter input{width: 20px;box-sizing: border-box;color: #333;text-align: center;height: 20px;position: absolute;}\r\n.counter input{border: none;font-weight: normal;left: 25px;}\r\n\r\n.shop-car{padding: 10px;box-sizing: border-box;position: fixed;width: 100%;left: 0;bottom: 0;box-sizing: border-box;}\r\n.shop-car .shop-car-main{padding-right: 80px;background: #0C0C0C;position: relative;height: 45px;border-radius: 100px;overflow: hidden;padding-left: 75px;}\r\n.shop-car-count-btn{position: absolute;height: 45px;right: 0;top: 0;background: #F4BE42;color: #333;font-weight: bold;line-height: 45px;width: 80px;text-align: center;}\r\n.shop-car-qs-tip{position: absolute;height: 45px;right: 0;top: 0;color: #333;font-weight: bold;line-height: 45px;padding: 0 10px;}\r\n.shop-car-count-btn:active{opacity: .9;}\r\n.shop-car-icon{position: absolute;width: 45px;height: 45px;left: 15px;top: 0;color: #fff;text-align: center;line-height: 45px;font-size: 26px;color: #F4BE42;}\r\n.shop-tag{position: absolute;right: 0;top: 0;}\r\n.shop-car-info{color: #fff;font-size: 12px;}\r\n.shop-car-info .shop-car-price{font-size: 15px;font-weight: bold;margin: 2px 0;}\r\n\r\n.score-top{padding: 15px;border-bottom: 1px solid #eee;}\r\n.score-tip{color: #999;text-align: right;}\r\n.score-num{font-size: 20px;font-weight: bold;margin-right: 10px;vertical-align: text-bottom;color: #F4BE42;}\r\n.dis-list li{position: relative;border-bottom: 1px solid #eee;padding: 10px 10px 10px 60px;min-height: 40px;}\r\n.dis-list li .head-img{position: absolute;width: 40px;height: 40px;left: 10px;top: 10px;border-radius: 50%;}\r\n.dis-user-name{display: flex;justify-content: space-between;}\r\n.dis-remark{font-size: 12px;color: #999;}\r\n.dis-user-name .dis-name{font-size: 15px;margin-bottom: 10px;}\r\n.dis-user-name .dis-date{font-size: 12px;color: #999;}\r\n.dis-score{color: #999;font-size: 12px;margin: 5px 0;}\r\n.dis-score span{vertical-align: super;}\r\n.seller-info-top{padding: 10px 15px;}\r\n.seller-info-top p{font-size: 12px;margin: 4px 0;}\r\n.seller-info-top .tit{font-size: 15px;font-weight: bold;margin-bottom: 10px;}\r\n\r\n.shop-car-detail{position: relative;box-sizing: border-box;padding: 10;}\r\n.shop-car-detail-tit{display: flex;justify-content: space-between;}\r\n.shop-car-detail-tit span{display: block;padding: 10px;}\r\n.goods-list.shop-car-list{height: 260px;overflow-y: auto;margin: 0 10px;}\r\n.goods-list.shop-car-list .goods-name{margin-bottom: 26px;}\r\n\r\n.address-list{padding: 10px;}\r\n.address-list li{position: relative;border-bottom: 1px solid #eee;padding: 10px 40px;}\r\n.edit-add{position: absolute;width: 40px;height: 40px;text-align: center;line-height: 40px;right: 0;top: 10px;}\r\n.address-list input[name='selectAddRadio']{position: absolute;-webkit-appearance: none;width: 20px;height: 20px;border: 1px solid #F4BE42;box-sizing: border-box;left: 0;top: 18px;border-radius: 50%;}\r\n.address-list input[name='selectAddRadio']:checked::after{position: absolute;width: 14px;height: 14px;background-color: #F4BE42;content: '';border-radius: 50%;left: 2px;top: 2px;}\r\n\r\n.zizhi-photo-wrap ul{overflow: hidden;margin: 5px;}\r\n.zizhi-photo-wrap li{width: 50%;float: left;padding: 5px;box-sizing: border-box;}\r\n.zizhi-photo-wrap .zizhi-img{height: 120px;background-position: center center;background-size: cover;background-repeat: no-repeat;}\r\n.zizhi-photo-wrap .zanwu{text-align: center;margin: 15px;}\r\n\r\n.pay-wrap{background: #fff;padding: 10px;margin: 10px;text-align: center;border-radius: 6px;}\r\n.pay-wrap p{color: #A3A3A3;margin: 10px 0;}\r\n.pay-wrap p.pay-total{font-size: 30px;color: #333;font-weight: bold;}\r\n.pay-btn{position: absolute;width: 100%;background-color: #F4BE42;left: 0;bottom: 0;text-align: center;padding: 13px 0;}\r\n.pay-btn:active{opacity: .9;color: #333;}\r\n.pay-way{margin: 10px;border-radius: 6px;overflow: hidden;font-size: 16px;}\r\n\r\n#ball{width:10px;height:10px;background: #F4BE42;border-radius: 50%;position: fixed;z-index: 2;bottom: 60px;left: 60px;}\r\n.open-time-cell{flex: none;font-size: 13px;}\r\n.g-tag{position: absolute;right: 0;top: 0;}\r\n\r\n.login {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t}\r\n\r\n\t.bg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.bg img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.bg-food {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t}\r\n\r\n\t.bg-food img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.content {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 2;\r\n\t\tpadding: 0 20px;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 30px;\r\n\t\tfont-weight: 400;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 116px;\r\n\t\tmargin-bottom: 60px;\r\n\r\n\t}\r\n\r\n\t.confirm {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 20px;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 35px;\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\t.confirm-btn {\r\n\t\tbackground: #F4BE42;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 20px;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.input-box {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n\r\n\t.input-item {\r\n\t\tcolor: #FFFFFF;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground:#898482;\t\t\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-bottom: 20px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.input-item img {\r\n\t\twidth:24px;\r\n\t\theight: 24px;\t\r\n\t\tmargin:0 12px;\r\n\t\tmargin-right: 0;\r\n\t}\r\n\r\n\t.login-input {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n</style>"]}]}