{"remainingRequest":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\dingCanMobile\\src\\views\\winDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\dingCanMobile\\src\\views\\winDetail.vue","mtime":1593308914665},{"path":"G:\\dingCanMobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1587344995501},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1587344054728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBwYWdlTnVtPTE7Ly/pobXnoIEKaW1wb3J0IHsgSW1hZ2VQcmV2aWV3IH0gZnJvbSAndmFudCc7CmV4cG9ydCBkZWZhdWx0ewoJZGF0YTpmdW5jdGlvbigpewoJCXJldHVybnsKCQkJbG9naW5OYW1lOicnLC8v55So5oi35ZCNCgkJCWxvZ2luUGFzc3dvcmQ6JycsLy/lr4bnoIEKCQkJbG9naW5Qb3B1cDpmYWxzZSwvL+eZu+W9lXBvcHVwCgkJCXdpblN0YXJTY29yZTpKU09OLnBhcnNlKHRoaXMuJHJvdXRlLnF1ZXJ5LnN0YXJTY29yZSksLy/nqpflj6Por4TliIbmlbAKCQkJcmVhY2hCb3R0b21TaG93OmZhbHNlLC8v5LiL5ouJ5Yi35pawCgkJCWlzTG9naW46aXNMb2dpbigpLAoJCQl3aW5QaWM6Jy4vc3RhdGljL2ltYWdlcy9pY29uL2RlZmF1bHQxLnBuZycsLy/nqpflj6Plm77niYfluKYKCQkJd2luU3BsaXRJbWc6JycsLy/kuI3luKbliY3nvIDnmoTnqpflj6Plm77niYcKCQkJZGVsaXZlcnlNb2RlOnRoaXMuJHJvdXRlLnF1ZXJ5LmRlbGl2ZXJ5TW9kZSwvL+aUr+aMgemFjemAgeexu+WeiwoJCQludW06IDEsLy/llYblk4HjgIHor4Tku7fjgIHllYblrrZ0YWLliIfmjaIKCQkJdHlwZU51bTowLC8v5ZWG5ZOB57G75Yir5YiH5o2iCgkJCXdpbklkOnRoaXMuJHJvdXRlLnF1ZXJ5LndpbklkLC8v5bqX6ZO65Lyg6YCS55qE5bqX6ZO6aWQKCQkJd2luTmFtZTp0aGlzLiRyb3V0ZS5xdWVyeS53aW5OYW1lLC8v5bqX6ZO65Lyg6YCS55qE5bqX6ZO65ZCN56ewCgkJCXN0YXI6MywvL+ivhOWIhgoJCQl3aW5IZWlnaHQ6MCwvL+WPr+inhuWMuumrmOW6pgoJCQlnb29kc1R5cGVBcnI6W10sLy/oj5zlk4HliIbnsbsKCQkJZ29vZHNMaXN0OltdLC8v6LSt54mp6L2m6I+c5ZOB5YiX6KGoCgkJCWdUeXBlTmFtZTonJywvL+iPnOWTgeagh+mimAoJCQlzY29yZTozLC8v5oC76K+E5YiGCgkJCWRpc1Njb3JlOjMsLy/or4Tku7fliJfooajor4TliIYKCQkJU2hvcERldGFpbFNob3c6ZmFsc2UsLy/otK3nianovabor6bmg4UKCQkJc2hvcENhckdvb2RzTnVtOjAsLy/otK3nianovabmlbDph4/op5LmoIcKCQkJZ29vZHNUb3RhbDowLC8v5oC75Lu3CgkJCWdvb2RzT3JkZXJTaG93OmZhbHNlLC8v6K6i5Y2V6K+m5oOFCgkJCW9yZGVyV2F5c2hvdzogZmFsc2UsLy/orqLppJDmlrnlvI8KCQkJb3JkZXJXYXk6JycsLy/orqLppJDmlrnlvI8KCQkgICAgb3JkZXJXYXlBY3Rpb25zOiBbXSwvL+eUqOmkkOaWueW8jwoJCQl3c1Nob3c6ZmFsc2UsLy/lpJbpgIEKCQkJenRTaG93OmZhbHNlLC8v6Ieq5o+QCgkJCXp0VGltZVBvcHVwOmZhbHNlLC8v6Ieq5o+Q5pe26Ze0CgkJCXp0VGltZTpzZXRUaW1lTGF0dGVyKDMwKSwvL+iHquaPkOaXtumXtAoJCQlkZFRpbWVQb3B1cDpmYWxzZSwvL+WIsOW6l+eUqOmkkOaXtumXtAoJCQlkZFRpbWU6c2V0VGltZUxhdHRlcigzMCksLy/liLDlupfnlKjppJDml7bpl7QKCQkJZGR5Y1Nob3c6ZmFsc2UsLy/liLDlupfnlKjppJAKCQkJc2VsZWN0QWRkcmVzc1BvcHVwU2hvdzpmYWxzZSwvL+aUtui0p+WcsOWdgAoJCQlhbGxBZGRyZXNBcnI6W10sLy/mn6Xor6LmiYDmnInmlLbotKflnLDlnYAKCQkJYWRkQWRkcmVzc1BvcHVwOmZhbHNlLC8v5paw5aKe5Zyw5Z2ACgkJCXVzZXJOYW1lOicnLC8v5aeT5ZCNCgkJCXVzZXJQaG9uZTonJywvL+aJi+acuuWPtwoJCQlkZXRhaWxBZGRyZXNzOicnLC8v6K+m57uG5Zyw5Z2ACgkJCXNleDon55S3JywvL+aAp+WIqwoJCQlzZXREZWZhdWx0QWRkOmZhbHNlLC8v6K6+5Li66buY6K6k5Zyw5Z2ACgkJCXdzVGltZTogc2V0VGltZUxhdHRlcigzMCksLy/lpJbpgIHml7bpl7QKCQkJd3NUaW1lUG9wdXA6ZmFsc2UsLy/lpJbpgIHml7bpl7TpgInmi6kKCQkJc2VsZWN0QXJlYVNob3c6ZmFsc2UsLy/pgInmi6nmoKHljLphY3Rpb24KCQkJc2Nob29sQXJlYTonJywvL+agoeWMugoJCQlzY2hvb2xBcmVhSWQ6JycsLy/moKHljLppZAoJCQlzZWxlY3RBcmVhQWN0aW9uOiBbXSwvL+mAieaLqeagoeWMuuWGheWuuQoJCQlzZWxlY3RCdWlsZFNob3c6ZmFsc2UsLy/pgInmi6nmpbzlrodhY3Rpb24KCQkJc2VsZWN0QnVpbGRBY3Rpb246W10sLy/pgInmi6nmpbzlroflhoXlrrkKCQkJYnVpbGROYW1lOicnLC8v5qW85a6H5ZCN56ewCgkJCWJ1aWxkSWQ6JycsLy/mpbzlrodpZAoJCQl3c05hbWU6J+mAieaLqeWcsOWdgCcsLy/lpJbpgIHlp5PlkI0KCQkJd3NQaG9uZTonJywvL+WklumAgeeUteivnQoJCQl3c0FkZHJlc3M6JycsLy/lpJbpgIHlnLDlnYAKCQkJd3NTZXg6JycsLy/lpJbpgIHmgKfliKsKCQkJY2hlY2tBZGRyZXNzOicnLC8v6YCJ5oup55qE5pS26LSn5Zyw5Z2ACgkJCXdpbkFkZHJlc3M6JycsLy/llYblrrbnqpflj6PlnLDlnYDvvIjoh6rmj5DlnLDlnYDjgIHliLDlupfnlKjppJDlnLDlnYDvvIkKCQkJenROYW1lOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpP0pTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJykpLnBOYW1lOicnLC8v6Ieq5o+Q5Lq65aeT5ZCNCgkJCXp0UGhvbmU6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJyk/SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkucE1vYmlsZTonJywvL+iHquaPkOS6uueUteivnQoJCQl6dFNleDpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKT9KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS5wU2V4OicnLC8v6Ieq5o+Q5Lq65oCn5YirCgkJCW15T3JkZXI6W10sLy/pgInmi6nlrozllYblk4HnmoTorqLljZUKCQkJb3JkZXJSZW1hcms6JycsLy/mj5DkuqTorqLljZXph4znmoTlpIfms6gKCQkJYWRkQWRkcmVzc1RpdDon5paw5aKe5Zyw5Z2AJywvL+a3u+WKoOOAgeS/ruaUueWcsOWdgOeKtuaAgeagj+agh+mimAoJCQlhZGRyZXNzSWQ6JycsLy/lnLDlnYBpZO+8jOS/ruaUueWcsOWdgOeUqAoJCQlzZWxsZXJOYW1lOicnLC8v5ZWG5a626LSf6LSj5Lq6CgkJCXNlbGxlclBob25lOicnLC8v5ZWG5a6255S16K+dCgkJCXNlbGxlck9wZW5UaW1lOicnLC8v5ZWG5a626JCl5Lia5pe26Ze0CgkJCWlkQ2FyZFBob3RvUG9wdXA6ZmFsc2UsLy/or4Hku7bnhafvvIjnqpflj6PnhafniYfjgIHotYTotKjor4HnhafjgIHlkZjlt6XlgaXlurfor4HvvIkKCQkJaWRDYXJkUGhvdG9UaXQ6JycsLy/or4Hku7bnhafmoIfpopgKCQkJaWRDYXJkUGhvdG9MaXN0OltdLC8v6K+B5Lu254Wn5Zu+54mHCgkJCWZ1bGxBZGRyZXNzOicnLC8v5ou85o6l55qE5Zyw5Z2ACgkJCWdyZWVuTW9uZXk6MCwvL+eOr+S/nei0uQoJCQlwYXlQb3B1cDpmYWxzZSwvL+aUr+S7mAoJCQlwYXlSYWRpbzonMScsLy/mlK/ku5jpgInmi6nmlrnlvI/vvIzpu5jorqTlvq7kv6EKCQkJcGF5T3JkZXJOdW06JycsLy/mlK/ku5jorqLljZXnvJblj7cKCQkJZGFvSmlTaGk6JycsLy8zMOWIhumSn+WAkuiuoeaXtgoJCQlzZWxsZXJBc3Nlc3M6W10sLy/llYblrrbor4Tku7cKCQkJd2VYaW5QYXlVcmw6JycsLy/lvq7kv6Hku5jmrL7lnLDlnYAKCQkJb3JkZXJTdGF0dXM6JycsLy/mlK/ku5jml7bmn6Xor6LnmoTorqLljZXnirbmgIEKCQl9OwoJfSwKCWNvbXBvbmVudHM6ewoJCQoJfSwKCW1vdW50ZWQoKSB7CgkJIC8vIOa7muWKqOWIsOW6leWKoOi9veabtOWkmgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhc3Nlc3NXcmFwJykuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyx0aGlzLnJlYWNoQm90dG9tKQkJCSAgCgl9LAoJbWV0aG9kczp7CgkJLy8g5rua5Yqo5Yiw5bqV5Yqg6L295pu05aSa6K+E5Lu3CgkJcmVhY2hCb3R0b20oKXsKCQkJICAvL+a7muWKqOadoemrmOW6pgoJCQkgIGxldCBzY3JvbGxUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXNzZXNzV3JhcCcpLnNjcm9sbFRvcDsKCQkJICAvL+WPr+inhuWMuueahOmrmOW6pgoJCQkgIGxldCBjbGllbnRIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXNzZXNzV3JhcCcpLmNsaWVudEhlaWdodDsKCQkJICAvL+aAu+mrmOW6pgoJCQkgIGxldCBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXNzZXNzV3JhcCcpLnNjcm9sbEhlaWdodDsKCQkJaWYoc2Nyb2xsVG9wK2NsaWVudEhlaWdodCA+PSBzY3JvbGxIZWlnaHQpewoJCQkJcGFnZU51bSsrOwoJCQkJdGhpcy5nZXRTZWxsZXJBc3Nlc3MocGFnZU51bSk7CgkJCX0KCQl9LAoJCS8vIOiOt+WPluiuouWNleivpuaDhQoJCWdldE9yZGVyRGV0YWlsKG9yZGVyTm8pewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkgIHVybDogcG9ydCsnL3YxL29yZGVyL2dldCcsCgkJCSAgaGVhZGVyczp7J3Rva2VuJzpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKX0sCgkJCSAgcGFyYW1zOiB7CgkJCSAgICBvcmRlck5vOm9yZGVyTm8KCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn6K6i5Y2V6K+m5oOFJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCV90aGlzLm9yZGVyU3RhdHVzPWRhdGEuZGF0YS5kYXRhLm9yZGVyU3RhdGUvL+WPquaciW9yZGVyU3RhdGXkuLox5pe26K6i5Y2V54q25oCB5Li655So5oi35bey5o+Q5Lqk6K6i5Y2V77yM5omN5Y+v5Lul5LuY5qy+CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn6K+355m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQlfdGhpcy4kdG9hc3QoJ+aTjeS9nOWksei0pScpOwoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQl9LAoJCS8vIOWVhuWutuivhOS7twoJCWdldFNlbGxlckFzc2VzcyhwYWdlTnVtKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCQoJCQlfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvb3JkZXJtZWFsL3F1ZXJ5Q29tbWVudEJ5U2VsbGVySWQnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgc2VsbGVySWQ6X3RoaXMuJHJvdXRlLnF1ZXJ5LnNlbGxlcklkLAoJCQkJcGFnZU51bTpwYWdlTnVtLAoJCQkJcGFnZVNpemU6MjAKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn5ZWG5a626K+E5Lu3JyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCWlmKGRhdGEuZGF0YS5kYXRhLmxpc3QubGVuZ3RoPjApewoJCQkJCQlmb3IgKHZhciBpPTA7aTxkYXRhLmRhdGEuZGF0YS5saXN0Lmxlbmd0aDtpKyspIHsKCQkJCQkJCV90aGlzLnNlbGxlckFzc2Vzcy5wdXNoKGRhdGEuZGF0YS5kYXRhLmxpc3RbaV0pCgkJCQkJCX0KCQkJCQl9ZWxzZXsKCQkJCQkJX3RoaXMuJHRvYXN0KCfmmoLml6Dor4Tku7cnKTsKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g54K56aSQ5oqb54mp57q/5Yqo55S7CgkJcGFyYWJvbGljKCkgewoJCSAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKCQkgICAgICAgICAgICAgIC8v55Sf5oiQ5Yqo55S75qCH562+CgkJICAgICAgICAgICAgICB2YXIgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCSAgICAgICAgICAgICAgYmFsbC5pZCA9ICdiYWxsJzsKCQkgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmFsbCk7CgkJIAoJCSAgICAgICAgICAgICAgdmFyIHJlY3QgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvL2dldEJvdW5kaW5nQ2xpZW50UmVjdOiOt+W+l+mhtemdouS4reafkOS4quWFg+e0oOeahOW3pu+8jOS4iu+8jOWPs+WSjOS4i+WIhuWIq+ebuOWvuea1j+iniOWZqOinhueql+eahOS9jee9ruOAggoJCSAgICAgICAgICAgICAgYmFsbC5zdHlsZS50b3AgPSAocmVjdC50b3ArcmVjdC5oZWlnaHQvMikrJ3B4JzsKCQkgICAgICAgICAgICAgIGJhbGwuc3R5bGUubGVmdCA9IHJlY3QubGVmdCsncHgnOwoJCSAgICAgICAgICAgICAgYmFsbC5zdHlsZS50cmFuc2l0aW9uID0gJ2xlZnQgMHMsIHRvcCAwcyc7CgkJICAgICAgICAgICAgICAvL+iOt+WPlui0reeJqei9puagh+etvgoJCSAgICAgICAgICAgICAgdmFyIGJ1eUNhcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcENhckljb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKCQkgICAgICAgICAgICAgICAgICBiYWxsLnN0eWxlLnRvcCA9IHdpbmRvdy5pbm5lckhlaWdodC0od2luZG93LmlubmVySGVpZ2h0LWJ1eUNhci50b3AtYnV5Q2FyLmhlaWdodC8yKSsncHgnOwoJCSAgICAgICAgICAgICAgICAgIGJhbGwuc3R5bGUubGVmdCA9IChidXlDYXIubGVmdCtidXlDYXIuaGVpZ2h0LzIpKydweCc7CgkJICAgICAgICAgICAgICAgICAgYmFsbC5zdHlsZS50cmFuc2l0aW9uID0gJ2xlZnQgMXMgbGluZWFyLCB0b3AgMXMgZWFzZS1pbic7CgkJICAgICAgICAgICAgICB9LCAyMCk7CgkJICAgICAgICAgICAgICAvL+WKqOeUu+e7k+adn+WQjuiHquWKqOWIoOmZpAoJCSAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChiYWxsKTsKCQkgICAgICAgICAgICAgIH0sMTA1MCk7CgkJICAgICAgICAgIH07CgkJICAgICAgfSwKCQkvLyDnoa7orqTmlK/ku5gKCQljb25maXJtUGF5KCl7CgkJCWNvbnNvbGUubG9nKCfnoa7orqTmlK/ku5gnKTsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCQoJCQkKCQkJY29uc29sZS5sb2coJzY2JyxfdGhpcy5vcmRlclN0YXR1cykKCQkJCgkJCV90aGlzLiRkaWFsb2cuY29uZmlybSh7CgkJCSAgdGl0bGU6ICfmuKnppqjmj5DnpLonLAoJCQkgIG1lc3NhZ2U6ICfnoa7lrprmlK/ku5jvvJ8nLAoJCQl9KS50aGVuKCgpID0+IHsKCQkJICAgIC8vIG9uIGNvbmZpcm0KCQkJCQoJCQkJaWYoX3RoaXMub3JkZXJTdGF0dXMhPTEpewoJCQkJCSAgX3RoaXMuJHRvYXN0KCforqLljZXlt7Llj5bmtojvvIEnKTsKCQkJCQkgIHNldFRpbWVvdXQoKCk9PnsKCQkJCQkJICBfdGhpcy5nb29kc09yZGVyU2hvdz1mYWxzZTsvL+WFs+mXreaPkOS6pOiuouWNlQoJCQkJCQkgIF90aGlzLnBheVBvcHVwPWZhbHNlOy8v5YWz6Zet5pSv5LuYCgkJCQkJICB9LDE1MDApCgkJCQkJICByZXR1cm47CgkJCQl9CgkJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCQkgIG1lc3NhZ2U6ICfmraPlnKjmj5DkuqQuLi4nLAoJCQkJICBkdXJhdGlvbjowLAoJCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJCX0pOwoJCQkJCgkJCQkvLyDnnJ/lrp7mlK/ku5gKCQkJCS8vIF90aGlzLiRheGlvcyh7CgkJCQkvLyAgIG1ldGhvZDogJ2dldCcsCgkJCQkvLyAgIHVybDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS53eFBheVVybCwKCQkJCS8vICAgcGFyYW1zOiB7CgkJCQkvLyAJdG90YWxGZWU6KF90aGlzLmdvb2RzVG90YWwrcGFyc2VGbG9hdChfdGhpcy4kcm91dGUucXVlcnkuZGVsaXZlcnlGZWUpK190aGlzLmdyZWVuTW9uZXkpKjEwMCwvL+mHkemine+8iOWIhu+8iQoJCQkJLy8gCWJvZHk6J+ivt+aUr+S7mCcsLy/moIfpopgKCQkJCS8vIAlvdXRUcmFkZU5vOl90aGlzLnBheU9yZGVyTnVtLC8v6K6i5Y2V57yW5Y+3CgkJCQkvLyAJYXR0YWNoOl90aGlzLiRyb3V0ZS5xdWVyeS5zZWxsZXJJZCwvL+WVhuWutmlkCgkJCQkvLyAJbm90aWZ5VXJsOnBvcnQrJy92MS9vcmRlci93ZWNoYXRQYXlOb3RpZnknCgkJCQkvLyAgIH0KCQkJCS8vIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkvLyAJY29uc29sZS5sb2coJ+aUr+S7mCcsZGF0YSkKCQkJCS8vIAlsb2FkLmNsZWFyKCk7CgkJCQkvLyAJdmFyIHBheVVybD1kYXRhLmRhdGEuZGF0YS5wYXlVcmwrIiZyZWRpcmVjdF91cmw9IitwYXlCYWNrVXJsKyIvIy9pbmRleCI7CgkJCQkvLyAJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9wYXknLHF1ZXJ5OnsncGF5VXJsJzpwYXlVcmx9fSk7CgkJCQkJCgkJCQkvLyB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQkvLyAJY29uc29sZS5sb2coZXJyb3IpOwoJCQkJLy8gfSk7CgkJCQkKCQkJCQoJCQkJLy8vL+aooeaLn+aUr+S7mAoJCQkJX3RoaXMuJGF4aW9zKHsKCQkJCSAgbWV0aG9kOiAncG9zdCcsCgkJCQkgIHVybDogcG9ydCsnL3YxL29yZGVyL3BheScsCgkJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkJICBwYXJhbXM6IHsKCQkJCSAgICBvcmRlck5vOl90aGlzLnBheU9yZGVyTnVtLC8v6K6i5Y2V57yW5Y+3CgkJCQkJdHJhZGVObzonMScsLy/kuqTmmJPnvJblj7cKCQkJCQlzZWxsZXJJZDpfdGhpcy4kcm91dGUucXVlcnkuc2VsbGVySWQKCQkJCSAgfQoJCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCQljb25zb2xlLmxvZygn5pSv5LuYJyxkYXRhKQoJCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQkJX3RoaXMuJHRvYXN0KCfmlK/ku5jmiJDlip8nKTsKCQkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9vcmRlckxpc3QnfSk7CgkJCQkJCX0sMjAwMCkKCQkJCQl9CgkJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJCX0KCQkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnKTsKCQkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KTsKCQkJCQkJfSwyMDAwKQoJCQkJCX0KCQkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCQl9KTsKCQkJCQoJCQkJCgkJCQkKCQkJICB9KS5jYXRjaCgoKSA9PiB7CgkJCSAgICAvLyBvbiBjYW5jZWwKCQkJCWNvbnNvbGUubG9nKCflj5bmtognKQoJCQkgIH0pOwoJCQkKCQl9LAoJCS8vIOWAkuiuoeaXtgoJCWNvdW50RG93bigpewoJCSAgICB2YXIgdGltZXI7CgkJICAgIHZhciB0aW1lPTE4MDA7Ly8zMOWIhumSn+aNoueul+aIkDE4MDDnp5IKCQkgICAgdGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkgICAgICAgICBpZiAodGltZTw9MCkgewoJCSAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwoJCSAgICAgICAgICAgIGFsZXJ0KCfml7bpl7TliLDkuoYnKTsKCQkgICAgICAgICAgICByZXR1cm47CgkJICAgICAgICB9CgkJICAgICAgICB0aW1lLS07CgkJICAgICAgICB2YXIgbWludXRlPXBhcnNlSW50KHRpbWUvNjApOwoJCSAgICAgICAgdmFyIHNlY29uZD1wYXJzZUludCh0aW1lJTYwKTsKCQkgICAgICAgIGlmIChtaW51dGU8MTApIHsKCQkgICAgICAgICAgICBtaW51dGU9JzAnK21pbnV0ZTsKCQkgICAgICAgIH0KCQkgICAgICAgIGlmIChzZWNvbmQ8MTApIHsKCQkgICAgICAgICAgICBzZWNvbmQ9JzAnK3NlY29uZDsKCQkgICAgICAgIH0KCQkJICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RpbWUnKS5pbm5lckhUTUw9bWludXRlKyc6JytzZWNvbmQ7CgkJICAgIH0sMTAwMCk7CgkJfSwKCQkvLyDmiZPlvIDkv67mlLnlnLDlnYBwb3B1cO+8iOWunumZheS4iuaJk+W8gOeahOaYr+a3u+WKoOWcsOWdgO+8jOS4pOS4quWFseeUqO+8ie+8jOiOt+WPluWcsOWdgOivpuaDhQoJCW9wZW5FZGl0QWRkcmVzc1BvcHVwKGFkZHJlc3NJZCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQkKCQkJX3RoaXMuc2Nob29sQXJlYT0nJzsKCQkJX3RoaXMuc2Nob29sQXJlYUlkPScnOwoJCQlfdGhpcy5idWlsZE5hbWU9Jyc7CgkJCV90aGlzLmJ1aWxkSWQ9Jyc7CgkJCQoJCQlfdGhpcy5hZGRBZGRyZXNzVGl0PSfkv67mlLnlnLDlnYAnOwoJCQlfdGhpcy5hZGRBZGRyZXNzUG9wdXA9dHJ1ZTsKCQkJX3RoaXMuYWRkcmVzc0lkPWFkZHJlc3NJZDsKCQkJCgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9kZWxpdmVyeUFkZHJlc3MvZ2V0JywKCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICBwYXJhbXM6IHsKCQkJICAgIGFkZHJlc3NJZDphZGRyZXNzSWQKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn5Zyw5Z2A6K+m5oOFJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCV90aGlzLnVzZXJOYW1lPWRhdGEuZGF0YS5kYXRhLmNvbnRhY3Q7Ly/lp5PlkI0KCQkJCQlfdGhpcy5zZXg9ZGF0YS5kYXRhLmRhdGEuc2V4PT0xPyfnlLcnOiflpbMnOy8v5aeT5ZCNCgkJCQkJX3RoaXMudXNlclBob25lPWRhdGEuZGF0YS5kYXRhLnBob25lOy8v5omL5py65Y+3CgkJCQkJX3RoaXMuZGV0YWlsQWRkcmVzcz1kYXRhLmRhdGEuZGF0YS5hZGRyZXNzOy8v6K+m57uG5Zyw5Z2ACgkJCQkJX3RoaXMuc2Nob29sQXJlYUlkPWRhdGEuZGF0YS5kYXRhLmNBcmVhSWQ7Ly/moKHljLppZAoJCQkJCV90aGlzLnNjaG9vbEFyZWE9ZGF0YS5kYXRhLmRhdGEuY0FyZWFOYW1lOy8v5qCh5Yy6CgkJCQkJX3RoaXMuYnVpbGRJZD1kYXRhLmRhdGEuZGF0YS5idWlsZElkOy8v5qW85a6HaWQKCQkJCQlfdGhpcy5idWlsZE5hbWU9ZGF0YS5kYXRhLmRhdGEuYnVpbGROYW1lOy8v5qW85a6HCgkJCQkJX3RoaXMuc2V0RGVmYXVsdEFkZD1kYXRhLmRhdGEuZGF0YS5kZWZhdWx0QWRkcmVzcz09MT90cnVlOmZhbHNlOy8v5piv5ZCm6K6+5Li66buY6K6k5Zyw5Z2ACgkJCQkJCgkJCQkJX3RoaXMuZ2V0QnVpbGQoZGF0YS5kYXRhLmRhdGEuY0FyZWFJZCk7CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g6I635Y+W5ZWG5a625L+h5oGvCgkJZ2V0U2VsbGVySW5mbygpewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkgIHVybDogcG9ydCsnL3YxL3NlbGxlci9nZXQnLAoJCQkgIHBhcmFtczogewoJCQkgICAgc2VsbGVySWQ6X3RoaXMuJHJvdXRlLnF1ZXJ5LnNlbGxlcklkCgkJCSAgfQoJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJY29uc29sZS5sb2coJ+WVhuWutuS/oeaBrycsZGF0YSkKCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlpZighZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NCZWdpblRpbWUxKXtkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0JlZ2luVGltZTE9Jyd9CgkJCQkJaWYoIWRhdGEuZGF0YS5kYXRhLmJ1c2luZXNzRW5kVGltZTEpe2RhdGEuZGF0YS5kYXRhLmJ1c2luZXNzRW5kVGltZTE9Jyd9CgkJCQkJaWYoIWRhdGEuZGF0YS5kYXRhLmJ1c2luZXNzQmVnaW5UaW1lMil7ZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NCZWdpblRpbWUyPScnfQoJCQkJCWlmKCFkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0VuZFRpbWUyKXtkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0VuZFRpbWUyPScnfQoJCQkJCWlmKCFkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0JlZ2luVGltZTMpe2RhdGEuZGF0YS5kYXRhLmJ1c2luZXNzQmVnaW5UaW1lMz0nJ30KCQkJCQlpZighZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NFbmRUaW1lMyl7ZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NFbmRUaW1lMz0nJ30KCQkJCQkKCQkJCQlfdGhpcy5zZWxsZXJOYW1lPWRhdGEuZGF0YS5kYXRhLnNlbGxlck5hbWU7Ly/llYblrrbotJ/otKPkuroKCQkJCQlfdGhpcy5zZWxsZXJQaG9uZT1kYXRhLmRhdGEuZGF0YS5waG9uZTsvL+WVhuWutueUteivnQoJCQkJCV90aGlzLndpbkFkZHJlc3M9ZGF0YS5kYXRhLmRhdGEuYWRkcjsvL+WVhuWutuWcsOWdgAoJCQkJCV90aGlzLnNlbGxlck9wZW5UaW1lPWRhdGEuZGF0YS5kYXRhLmJ1c2luZXNzQmVnaW5UaW1lMSsnLScrZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NFbmRUaW1lMSsnICcrZGF0YS5kYXRhLmRhdGEuYnVzaW5lc3NCZWdpblRpbWUyKyctJytkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0VuZFRpbWUyKycgJytkYXRhLmRhdGEuZGF0YS5idXNpbmVzc0JlZ2luVGltZTMrJy0nK2RhdGEuZGF0YS5kYXRhLmJ1c2luZXNzRW5kVGltZTM7Ly/llYblrrbokKXkuJrml7bpl7QKCQkJCQlfdGhpcy5mdWxsQWRkcmVzcz1kYXRhLmRhdGEuZGF0YS53aW5GdWxsQWRkcgoJCQkJCS8v56qX5Y+j5aS05YOPIAoJCQkJCWlmKGRhdGEuZGF0YS5kYXRhLndpbmRvd1BpYyl7CgkJCQkJCV90aGlzLndpblBpYz1zZWxsZXJQb3J0K2RhdGEuZGF0YS5kYXRhLndpbmRvd1BpYzsKCQkJCQkJX3RoaXMud2luU3BsaXRJbWc9ZGF0YS5kYXRhLmRhdGEud2luZG93UGljOy8v5LiN5bim5YmN57yA55qE56qX5Y+j5Zu+54mHCgkJCQkJfWVsc2V7CgkJCQkJCV90aGlzLndpblBpYz0nLi9zdGF0aWMvaW1hZ2VzL2ljb24vZGVmYXVsdDEucG5nJzsKCQkJCQl9CgkJCQkJCgkJCQl9CgkJCQkKCQkJfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQl9LAoJCS8vIOaUtui0p+WcsOWdgOi/lOWbngoJCXJlY2VpdmVBZGRyZXNzQmFjaygpewoJCQl0aGlzLnNlbGVjdEFkZHJlc3NQb3B1cFNob3c9ZmFsc2U7CgkJCWlmKHRoaXMuY2hlY2tBZGRyZXNzIT0nJyl7CgkJCQl2YXIgYWRkcmVzc1NwbGl0PXRoaXMuY2hlY2tBZGRyZXNzLnNwbGl0KCcsJyk7Ly/li77pgInnmoTlnLDlnYDovazkuLrmlbDnu4TvvJphZGRyZXNzU3BsaXRbMF065aeT5ZCN77yMYWRkcmVzc1NwbGl0WzFdOueUteivne+8jGFkZHJlc3NTcGxpdFsyXTrlnLDlnYAKCQkJCXRoaXMud3NOYW1lPWFkZHJlc3NTcGxpdFswXTsvL+WklumAgeWnk+WQjQoJCQkJdGhpcy53c1Bob25lPWFkZHJlc3NTcGxpdFsxXTsvL+WklumAgeeUteivnQoJCQkJdGhpcy53c0FkZHJlc3M9YWRkcmVzc1NwbGl0WzJdOy8v5aSW6YCB5Zyw5Z2ACgkJCQl0aGlzLndzU2V4PWFkZHJlc3NTcGxpdFszXT09MT8n77yI55S377yJJzon77yI5aWz77yJJzsvL+WklumAgeS6uuaAp+WIqwoJCQkJdGhpcy5idWlsZElkPWFkZHJlc3NTcGxpdFs0XTsvL+W7uuetkWlkCgkJCQkKCQkJfQoJCQkKCQkJY29uc29sZS5sb2coJ+aUtui0p+WcsOWdgOi/lOWbnicsdGhpcy5jaGVja0FkZHJlc3MpCgkJfSwKCQkKCQkvLyDmn6Xor6LljZXkvY3ljLrln58KCQlnZXRTY2hvb2xBcmVhKCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvZGVsaXZlcnlBZGRyZXNzL3F1ZXJ5Q29tcGFueUFyZWEnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkgIHBhcmFtczogewoJCQkgICAgY0lkOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VuaXRJbmZvJykpLmNJZAoJCQkgIH0KCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCWNvbnNvbGUubG9nKCfmiYDmnInmoKHljLonLGRhdGEpCgkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJX3RoaXMuc2VsZWN0QXJlYUFjdGlvbj1bXTsKCQkJCQlmb3IgKHZhciBpPTA7aTxkYXRhLmRhdGEuZGF0YS5sZW5ndGg7aSsrKSB7CgkJCQkJCV90aGlzLnNlbGVjdEFyZWFBY3Rpb24ucHVzaCh7bmFtZTpkYXRhLmRhdGEuZGF0YVtpXS5vcHRpb25UZXh0LGlkOmRhdGEuZGF0YS5kYXRhW2ldLm9wdGlvbklkfSkKCQkJCQl9CgkJCQkJCgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJfSk7CgkJCQoJCX0sCgkJLy8g6YCJ5oup5qCh5Yy65pe25p+l6K+i5qW85a6HCgkJb25TZWxlY3RBcmVhQWN0aW9uKGUpewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJX3RoaXMuYnVpbGROYW1lPScnOwoJCQlfdGhpcy5idWlsZElkPScnOwoJCQlfdGhpcy5zZWxlY3RCdWlsZEFjdGlvbj1bXTsKCQkJX3RoaXMuc2Nob29sQXJlYUlkPWUuaWQ7CgkJCV90aGlzLnNjaG9vbEFyZWE9ZS5uYW1lOwoJCQljb25zb2xlLmxvZygn6YCJ5oup55qE5Yy65Z+fJyxlKQoJCQkKCQkJX3RoaXMuZ2V0QnVpbGQoZS5pZCk7CgkJfSwKCQkvLyDmn6Xor6LmpbzlrocKCQlnZXRCdWlsZChpZCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQkvLyDmn6Xor6LmpbzlrocKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkgIHVybDogcG9ydCsnL3YxL2RlbGl2ZXJ5QWRkcmVzcy9xdWVyeUJ1aWxkJywKCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICBwYXJhbXM6IHsKCQkJICAgIGNBcmVhSWQ6aWQKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn6K+l5Yy65Z+f5omA5pyJ5qW85a6HJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCWlmKGRhdGEuZGF0YS5kYXRhLmxlbmd0aD09MCl7CgkJCQkJCV90aGlzLiR0b2FzdCgn6K+l5Yy65Z+f5YaF5rKh5pyJ5qW85a6H5L+h5oGvJykKCQkJCQl9ZWxzZXsKCQkJCQkJX3RoaXMuc2VsZWN0QnVpbGRBY3Rpb249W107CgkJCQkJCWZvciAodmFyIGk9MDtpPGRhdGEuZGF0YS5kYXRhLmxlbmd0aDtpKyspIHsKCQkJCQkJCV90aGlzLnNlbGVjdEJ1aWxkQWN0aW9uLnB1c2goe25hbWU6ZGF0YS5kYXRhLmRhdGFbaV0ub3B0aW9uVGV4dCxpZDpkYXRhLmRhdGEuZGF0YVtpXS5vcHRpb25JZH0pCgkJCQkJCX0KCQkJCQl9CgkJCQkJCgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJLy8g6YCJ5oup5qW85a6HCgkJb25TZWxlY3RCdWlsZEFjdGlvbihlKXsKCQkJY29uc29sZS5sb2coJ+mAieaLqeeahOalvOWuhycsZSkKCQkJdGhpcy5idWlsZE5hbWU9ZS5uYW1lOwoJCQl0aGlzLmJ1aWxkSWQ9ZS5pZDsKCQl9LAoJCS8vIOeCueWHu+WklumAgeaXtumXtOehruWumuiOt+WPlumAieS4reaXtumXtAoJCWdldFdzVGltZShlKXsKCQkJY29uc29sZS5sb2coZSkKCQkJdGhpcy53c1RpbWVQb3B1cD1mYWxzZQoJCQl0aGlzLndzVGltZT1lCgkJfSwKCQkvLyDngrnlh7voh6rmj5Dml7bpl7Tnoa7lrprojrflj5bpgInkuK3ml7bpl7QKCQlnZXRadFRpbWUoZSl7CgkJCWNvbnNvbGUubG9nKGUpCgkJCXRoaXMuenRUaW1lUG9wdXA9ZmFsc2UKCQkJdGhpcy56dFRpbWU9ZTsKCQl9LAoJCS8vIOeCueWHu+WIsOW6l+eUqOmkkOehruWumuiOt+WPlumAieS4reaXtumXtAoJCWdldERkVGltZShlKXsKCQkJY29uc29sZS5sb2coZSkKCQkJdGhpcy5kZFRpbWVQb3B1cD1mYWxzZQoJCQl0aGlzLmRkVGltZT1lOwoJCX0sCgkJLy8g6I635Y+W5pS26LSn5Zyw5Z2ACgkJZ2V0QWRkcmVzcygpewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkgIHVybDogcG9ydCsnL3YxL2RlbGl2ZXJ5QWRkcmVzcy9xdWVyeScsCgkJCSAgaGVhZGVyczp7J3Rva2VuJzpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKX0sCgkJCSAgcGFyYW1zOiB7CgkJCQlwZXJzb25JZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS5wSWQKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJaWYoZGF0YS5kYXRhLmRhdGEubGVuZ3RoPD0wKXsKCQkJCQkJCgkJCQkJfWVsc2V7CgkJCQkJCV90aGlzLmFsbEFkZHJlc0Fycj1kYXRhLmRhdGEuZGF0YTsKCQkJCQl9CgkJCQkJY29uc29sZS5sb2coJ+aUtui0p+WcsOWdgCcsZGF0YSk7CgkJCQkJZm9yICh2YXIgaT0wO2k8X3RoaXMuYWxsQWRkcmVzQXJyLmxlbmd0aDtpKyspIHsKCQkJCQkJaWYoX3RoaXMuYWxsQWRkcmVzQXJyW2ldLmRlZmF1bHRBZGRyZXNzPT0xKXsKCQkJCQkJCV90aGlzLndzTmFtZT1fdGhpcy5hbGxBZGRyZXNBcnJbaV0uY29udGFjdDsvL+iuvue9rum7mOiupOWcsOWdgOeahOWnk+WQjQoJCQkJCQkJX3RoaXMud3NQaG9uZT1fdGhpcy5hbGxBZGRyZXNBcnJbaV0ucGhvbmU7Ly/orr7nva7pu5jorqTlnLDlnYDnmoTnlLXor50KCQkJCQkJCV90aGlzLmJ1aWxkSWQ9X3RoaXMuYWxsQWRkcmVzQXJyW2ldLmJ1aWxkSWQ7Ly/orr7nva7pu5jorqTlnLDlnYDnmoTlu7rnrZFpZAoJCQkJCQkJX3RoaXMud3NTZXg9X3RoaXMuYWxsQWRkcmVzQXJyW2ldLnNleD09MT8n77yI55S377yJJzon77yI5aWz77yJJzsvL+iuvue9rum7mOiupOWcsOWdgOeahOaAp+WIqwoJCQkJCQkJX3RoaXMud3NBZGRyZXNzPV90aGlzLmFsbEFkZHJlc0FycltpXS5jQXJlYU5hbWUrX3RoaXMuYWxsQWRkcmVzQXJyW2ldLmJ1aWxkTmFtZStfdGhpcy5hbGxBZGRyZXNBcnJbaV0uYWRkcmVzczsvL+iuvue9rum7mOiupOWcsOWdgOeahOWcsOWdgAoJCQkJCQl9ZWxzZXsKCQkJCQkJCV90aGlzLmFsbEFkZHJlc0FyclswXS5kZWZhdWx0QWRkcmVzcz09MQoJCQkJCQkJX3RoaXMud3NOYW1lPV90aGlzLmFsbEFkZHJlc0FyclswXS5jb250YWN0Oy8v6K6+572u6buY6K6k5Zyw5Z2A55qE5aeT5ZCNCgkJCQkJCQlfdGhpcy53c1Bob25lPV90aGlzLmFsbEFkZHJlc0FyclswXS5waG9uZTsvL+iuvue9rum7mOiupOWcsOWdgOeahOeUteivnQoJCQkJCQkJX3RoaXMuYnVpbGRJZD1fdGhpcy5hbGxBZGRyZXNBcnJbMF0uYnVpbGRJZDsvL+iuvue9rum7mOiupOWcsOWdgOeahOW7uuetkWlkCgkJCQkJCQlfdGhpcy53c1NleD1fdGhpcy5hbGxBZGRyZXNBcnJbMF0uc2V4PT0xPyfvvIjnlLfvvIknOifvvIjlpbPvvIknOy8v6K6+572u6buY6K6k5Zyw5Z2A55qE5oCn5YirCgkJCQkJCQlfdGhpcy53c0FkZHJlc3M9X3RoaXMuYWxsQWRkcmVzQXJyWzBdLmNBcmVhTmFtZStfdGhpcy5hbGxBZGRyZXNBcnJbMF0uYnVpbGROYW1lK190aGlzLmFsbEFkZHJlc0FyclswXS5hZGRyZXNzOy8v6K6+572u6buY6K6k5Zyw5Z2A55qE5Zyw5Z2ACgkJCQkJCX0KCQkJCQl9CgkJCQkJCgkJCQl9CgkJCQkKCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMHx8ZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn6I635Y+W5Zyw5Z2A5aSx6LSlJyk7CgkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJfSwyMDAwKQoJCQl9KTsKCQl9LAoJCS8vIOS/neWtmOWcsOWdgAoJCXNhdmVBZGRyZXNzKCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQl2YXIgdXNlckluZm89SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSk7CgkJCQoJCQlpZihfdGhpcy51c2VyTmFtZT09JycpewoJCQkJX3RoaXMuJHRvYXN0KCfor7fovpPlhaXlp5PlkI0nKTsKCQkJCXJldHVybjsKCQkJfQoJCQlpZihfdGhpcy51c2VyUGhvbmU9PScnKXsKCQkJCV90aGlzLiR0b2FzdCgn6K+36L6T5YWl5omL5py65Y+3Jyk7CgkJCQlyZXR1cm47CgkJCX0KCQkJaWYoIXBob25nUmVnLnRlc3QoX3RoaXMudXNlclBob25lKSl7CgkJCQlfdGhpcy4kdG9hc3QoJ+aJi+acuuWPt+agvOW8j+mUmeivrycpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWlmKF90aGlzLnNjaG9vbEFyZWE9PScnKXsKCQkJCV90aGlzLiR0b2FzdCgn6K+36YCJ5oup5qCh5Yy6Jyk7CgkJCQlyZXR1cm47CgkJCX0KCQkJaWYoX3RoaXMuYnVpbGROYW1lPT0nJyl7CgkJCQlfdGhpcy4kdG9hc3QoJ+ivt+mAieaLqealvOWuhycpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCQoJCQkKCQkJdmFyIGxvYWQ9X3RoaXMuJHRvYXN0LmxvYWRpbmcoewoJCQkgIG1lc3NhZ2U6ICfmj5DkuqTkuK0uLi4nLAoJCQkgIGR1cmF0aW9uOjAsCgkJCSAgZm9yYmlkQ2xpY2s6IHRydWUsCgkJCX0pOwoJCQkvLyDmlrDlop7lnLDlnYAKCQkJaWYoX3RoaXMuYWRkQWRkcmVzc1RpdD09J+aWsOWinuWcsOWdgCcpewoJCQkJX3RoaXMuJGF4aW9zKHsKCQkJCSAgbWV0aG9kOiAncG9zdCcsCgkJCQkgIHVybDogcG9ydCsnL3YxL2RlbGl2ZXJ5QWRkcmVzcy9pbnNlcnQnLAoJCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJCSAgdGltZW91dDogMTAwMDAsCgkJCQkgIHBhcmFtczogewoJCQkJCQoJCQkJICAgIHBlcnNvbklkOnVzZXJJbmZvLnBJZCwvL+eUqOaIt2lkCgkJCQkJY29udGFjdDpfdGhpcy51c2VyTmFtZSwvL+Wnk+WQjQoJCQkJCXNleDpfdGhpcy5zZXg9PSfnlLcnPzE6MiwvL+aAp+WIqzHnlLcy5aWzCgkJCQkJcGhvbmU6X3RoaXMudXNlclBob25lLC8v5omL5py65Y+3CgkJCQkJY0lkOnVzZXJJbmZvLmNJZCwvL+WNleS9jWlkCgkJCQkJY0FyZWFJZDpfdGhpcy5zY2hvb2xBcmVhSWQsLy/ljLrln59pZAoJCQkJCWJ1aWxkSWQ6X3RoaXMuYnVpbGRJZCwvL+alvOWuh2lkCgkJCQkJYWRkcmVzcyA6X3RoaXMuZGV0YWlsQWRkcmVzcywvL+ivpue7huWcsOWdgAoJCQkJCWRlZmF1bHRBZGRyZXNzOl90aGlzLnNldERlZmF1bHRBZGQ9PXRydWU/JzEnOicwJywvL+aYr+WQpuaYr+m7mOiupOWcsOWdgDDkuI3mmK8x5pivCgkJCQkgIH0KCQkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJbG9hZC5jbGVhcigpOy8v5YWz6Zet5Yqg6L29CgkJCQkJY29uc29sZS5sb2coJ+S/ruaUueWcsOWdgCcsZGF0YSkKCQkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQkJX3RoaXMuZ2V0QWRkcmVzcygpOwoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlfdGhpcy5hZGRBZGRyZXNzUG9wdXA9ZmFsc2U7CgkJCQkJCX0sMjAwMCkKCQkJCQkJCgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQl9CgkJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJCV90aGlzLiR0b2FzdCgn6K+355m75b2VJyk7CgkJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQkJfSwyMDAwKQoJCQkJCX0KCQkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCQlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJCQlfdGhpcy4kdG9hc3QoJ+S/neWtmOWksei0pe+8jOacjeWKoemUmeivrycpOwoJCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJCX0pOwoJCQl9CgkJCQoJCQkvLyDkv67mlLnlnLDlnYAKCQkJaWYoX3RoaXMuYWRkQWRkcmVzc1RpdD09J+S/ruaUueWcsOWdgCcpewoJCQkJX3RoaXMuJGF4aW9zKHsKCQkJCSAgbWV0aG9kOiAncHV0JywKCQkJCSAgdXJsOiBwb3J0KycvdjEvZGVsaXZlcnlBZGRyZXNzL3VwZGF0ZScsCgkJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LAoJCQkJICBwYXJhbXM6IHsKCQkJCQlhZGRyZXNzSWQ6X3RoaXMuYWRkcmVzc0lkLAoJCQkJICAgIHBlcnNvbklkOnVzZXJJbmZvLnBJZCwvL+eUqOaIt2lkCgkJCQkJY29udGFjdDpfdGhpcy51c2VyTmFtZSwvL+Wnk+WQjQoJCQkJCXNleDpfdGhpcy5zZXg9PSfnlLcnPzE6MiwvL+aAp+WIqzHnlLcy5aWzCgkJCQkJcGhvbmU6X3RoaXMudXNlclBob25lLC8v5omL5py65Y+3CgkJCQkJY0lkOnVzZXJJbmZvLmNJZCwvL+WNleS9jWlkCgkJCQkJY0FyZWFJZDpfdGhpcy5zY2hvb2xBcmVhSWQsLy/ljLrln59pZAoJCQkJCWJ1aWxkSWQ6X3RoaXMuYnVpbGRJZCwvL+alvOWuh2lkCgkJCQkJYWRkcmVzcyA6X3RoaXMuZGV0YWlsQWRkcmVzcywvL+ivpue7huWcsOWdgAoJCQkJCWRlZmF1bHRBZGRyZXNzOl90aGlzLnNldERlZmF1bHRBZGQ9PXRydWU/JzEnOicwJywvL+aYr+WQpuaYr+m7mOiupOWcsOWdgDDkuI3mmK8x5pivCgkJCQkgIH0KCQkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQkJbG9hZC5jbGVhcigpOy8v5YWz6Zet5Yqg6L29CgkJCQkJY29uc29sZS5sb2coJ+S/neWtmOWcsOWdgCcsZGF0YSkKCQkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQkJX3RoaXMuZ2V0QWRkcmVzcygpOwoJCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCQlfdGhpcy5hZGRBZGRyZXNzUG9wdXA9ZmFsc2U7CgkJCQkJCX0sMjAwMCkKCQkJCQkJCgkJCQkJfQoJCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQl9CgkJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQkJfSwyMDAwKQoJCQkJCX0KCQkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCQlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJCQlfdGhpcy4kdG9hc3QoJ+S/neWtmOWksei0pe+8jOacjeWKoemUmeivrycpOwoJCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJCX0pOwoJCQl9CgkJCQoJCX0sCgkJLy8g5omT5byA6YCJ5oup5Zyw5Z2AcG9wdXAKCQlvcGVuU2VsZWN0QWRkcmVzc1BvcHVwKCl7CgkJCXRoaXMuc2VsZWN0QWRkcmVzc1BvcHVwU2hvdz10cnVlOwoJCQkKCQkJCgkJfSwKCQkvLyDmj5DkuqTorqLljZUKCQlzdWJtaXRPcmRlcigpewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJdmFyIHJlc3VsdE9yZGVyPVtdOy8v5pyA57uI55Sf5oiQ55qE6K6i5Y2VCgkJCXZhciBncmVlbk1vbmV5PTA7Ly/njq/kv53otLkKCQkJCgkJCS8vIGlmKCFKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS53eFBheVVybCl7CgkJCS8vIAlfdGhpcy4kdG9hc3QoJ+W9k+WJjeacqumFjee9ruW+ruS/oeS7mOasvuWcsOWdgO+8jOivt+e6v+S4i+aUr+S7mCcpOwoJCQkvLyAJcmV0dXJuOwoJCQkvLyB9CgkJCQoJCQl2YXIgdXNlckluZm89SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSk7CgkJCXZhciBuYW1lPScnOy8v6IGU57O75Lq6CgkJCXZhciBzZXg9Jyc7Ly/mgKfliKsKCQkJdmFyIHBob25lPScnOy8v55S16K+dCgkJCXZhciBhZGRyZXNzPScnOy8v5Zyw5Z2ACgkJCXZhciBvcmRlclRpbWU9Jyc7Ly/phY3pgIHml7bpl7Qv5Y+W6aSQ5pe26Ze0L+eUqOmkkOaXtumXtAoJCQkKCQkJaWYoX3RoaXMub3JkZXJXYXk9PScnKXsKCQkJCV90aGlzLiR0b2FzdCgn6K+36YCJ5oup6K6i6aSQ5pa55byPJyk7CgkJCQlyZXR1cm47CgkJCX0KCQkJCgkJCS8vIOS4jeWQjOeUqOmkkOaWueW8j+aPkOS6pOiuouWNle+8jOWFseeUqOWtl+auteiuvue9rgoJCQlpZihfdGhpcy5vcmRlcldheT09J+WklumAgScpewoJCQkJbmFtZT1fdGhpcy53c05hbWU7CgkJCQlzZXg9X3RoaXMud3NTZXg9PSfvvIjnlLfvvIknPzE6MjsKCQkJCXBob25lPV90aGlzLndzUGhvbmU7CgkJCQlhZGRyZXNzPV90aGlzLndzQWRkcmVzczsKCQkJCW9yZGVyVGltZT1fdGhpcy53c1RpbWU7Ly/lpJbpgIHml7bpl7QKCQkJCWlmKF90aGlzLndzQWRkcmVzcz09JycpewoJCQkJCV90aGlzLiR0b2FzdCgn6K+36YCJ5oup5aSW6YCB5Zyw5Z2AJyk7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQkJaWYoX3RoaXMud3NUaW1lPT0nJyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfor7fpgInmi6nlpJbpgIHml7bpl7QnKTsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCX0KCQkJaWYoX3RoaXMub3JkZXJXYXk9PSfoh6rmj5AnKXsKCQkJCV90aGlzLmJ1aWxkSWQ9Jyc7CgkJCQluYW1lPV90aGlzLnp0TmFtZTsKCQkJCXNleD11c2VySW5mby5wU2V4PT0n55S3Jz8xOjI7CgkJCQlwaG9uZT1fdGhpcy56dFBob25lOwoJCQkJYWRkcmVzcz1fdGhpcy5mdWxsQWRkcmVzczsKCQkJCW9yZGVyVGltZT1fdGhpcy56dFRpbWU7Ly/oh6rmj5Dml7bpl7QKCQkJCWlmKF90aGlzLnp0VGltZT09JycpewoJCQkJCV90aGlzLiR0b2FzdCgn6K+36YCJ5oup6Ieq5o+Q5pe26Ze0Jyk7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQl9CgkJCWlmKF90aGlzLm9yZGVyV2F5PT0n5Yiw5bqX55So6aSQJyl7CgkJCQlfdGhpcy5idWlsZElkPScnOwoJCQkJbmFtZT1fdGhpcy56dE5hbWU7CgkJCQlzZXg9dXNlckluZm8ucFNleD09J+eUtyc/MToyOwoJCQkJcGhvbmU9X3RoaXMuenRQaG9uZTsKCQkJCWFkZHJlc3M9X3RoaXMuZnVsbEFkZHJlc3M7CgkJCQlvcmRlclRpbWU9X3RoaXMuZGRUaW1lOy8v6Ieq5o+Q5pe26Ze0CgkJCQlpZihfdGhpcy5kZFRpbWU9PScnKXsKCQkJCQlfdGhpcy4kdG9hc3QoJ+ivt+mAieaLqeeUqOmkkOaXtumXtCcpOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJfQoJCQkKCQkJCgkJCQoJCQlmb3IgKHZhciBpPTA7aTxfdGhpcy5teU9yZGVyLmxlbmd0aDtpKyspIHsKCQkJCXJlc3VsdE9yZGVyLnB1c2goewoJCQkJCWdJZDpfdGhpcy5teU9yZGVyW2ldLmdJZCwKCQkJCQlhbW91bnQ6X3RoaXMubXlPcmRlcltpXS5nUHJpY2UqX3RoaXMubXlPcmRlcltpXS5nb29kc051bSwvL+WNleS4quWVhuWTgeaAu+S7tz3ljZXku7cq5pWw6YePCgkJCQkJYnV5Q291bnRlcjpfdGhpcy5teU9yZGVyW2ldLmdvb2RzTnVtLC8v6LSt5Lmw5pWw6YePCgkJCQkJZ0Rlc2NyaWJlOl90aGlzLm15T3JkZXJbaV0uZ0Rlc2NyaWJlLC8v5ZWG5ZOB5o+P6L+wCgkJCQkJZ0tpbmROYW1lOl90aGlzLm15T3JkZXJbaV0uZ0tpbmROYW1lLC8v5ZWG5ZOB57G75Yir5ZCN56ewCgkJCQkJZ05hbWU6X3RoaXMubXlPcmRlcltpXS5nTmFtZSwvL+WVhuWTgeWQjeensAoJCQkJCWdObzpfdGhpcy5teU9yZGVyW2ldLmdObywvL+WVhuWTgee8luWPtwoJCQkJCWdQaWM6X3RoaXMubXlPcmRlcltpXS5nUGljLC8v5ZWG5ZOB5Zu+54mHCgkJCQkJZ1ByaWNlOl90aGlzLm15T3JkZXJbaV0uZ1ByaWNlLC8v5ZWG5ZOB5Lu35qC8CgkJCQkJZ1Byb3BlcnRpZXM6X3RoaXMubXlPcmRlcltpXS5nUHJvcGVydGllcywvL+WVhuWTgeWxnuaApwoJCQkJCWdVbml0Ol90aGlzLm15T3JkZXJbaV0uZ1VuaXQsLy/llYblk4HorqHph4/ljZXkvY0KCQkJCQlnR3JlZW5GZWU6X3RoaXMubXlPcmRlcltpXS5nR3JlZW5GZWU9PW51bGw/MDpfdGhpcy5teU9yZGVyW2ldLmdHcmVlbkZlZSwvL+eOr+S/nei0uQoJCQkJfSkKCQkJCV90aGlzLm15T3JkZXJbaV0uYW1vdW50PV90aGlzLm15T3JkZXJbaV0uZ1ByaWNlKl90aGlzLm15T3JkZXJbaV0uZ1ByaWNlLmdvb2RzTnVtOy8v5Y2V5Liq5ZWG5ZOB5oC75Lu3PeWNleS7tyrmlbDph48KCQkJfQoJCQkKCQkJY29uc29sZS5sb2coJ+aPkOS6pOiuouWNlT4+PicsJ+iuoumkkOaWueW8j++8micsX3RoaXMub3JkZXJXYXksJ++8jOaPkOS6pOiuouWNle+8micscmVzdWx0T3JkZXIsJ+Wkh+azqO+8micsX3RoaXMub3JkZXJSZW1hcmspOwoJCQkKCQkJY29uc29sZS5sb2coJ+WNleS9jWlkJyx1c2VySW5mby5jSWQpCgkJCWNvbnNvbGUubG9nKCfnlKjmiLdpZCcsdXNlckluZm8ucElkKQoJCQljb25zb2xlLmxvZygn5ZWG5a62aWQnLF90aGlzLiRyb3V0ZS5xdWVyeS5zZWxsZXJJZCkKCQkJY29uc29sZS5sb2coJ+WVhuWutueql+WPo+WcsOWdgCcsX3RoaXMud2luQWRkcmVzcykKCQkJY29uc29sZS5sb2coJ+WVhuWutueql+WPo+WQjeensCcsX3RoaXMuJHJvdXRlLnF1ZXJ5Lndpbk5hbWUpCgkJCWNvbnNvbGUubG9nKCfmgLvph5Hpop0nLF90aGlzLmdvb2RzVG90YWwpCgkJCWNvbnNvbGUubG9nKCfphY3pgIHotLknLHBhcnNlRmxvYXQoX3RoaXMuJHJvdXRlLnF1ZXJ5LmRlbGl2ZXJ5RmVlKSkKCQkJY29uc29sZS5sb2coJ+Wkh+azqCcsX3RoaXMub3JkZXJSZW1hcmspCgkJCWNvbnNvbGUubG9nKCfphY3pgIHlnLDlnYDmiYDlsZ7nmoTlu7rnrZFpZCcsX3RoaXMuYnVpbGRJZCkKCQkJY29uc29sZS5sb2coJ+iuouWNlScscmVzdWx0T3JkZXIpCgkJCWNvbnNvbGUubG9nKCfnlKjppJDmlrnlvI8nLF90aGlzLm9yZGVyV2F5PT0n5aSW6YCBJz8yOl90aGlzLm9yZGVyV2F5PT0n6Ieq5o+QJz8xOjMpCgkJCWNvbnNvbGUubG9nKCfogZTns7vkuronLG5hbWUpCgkJCWNvbnNvbGUubG9nKCfmgKfliKsnLHNleCkKCQkJY29uc29sZS5sb2coJ+eUteivnScscGhvbmUpCgkJCWNvbnNvbGUubG9nKCfphY3pgIHor6bnu4blnLDlnYAnLGFkZHJlc3MpCgkJCWNvbnNvbGUubG9nKCfphY3pgIHml7bpl7Qv5Y+W6aSQ5pe26Ze0L+eUqOmkkOaXtumXtCcsb3JkZXJUaW1lKQoJCQkKCQkJdmFyIGxvYWQ9X3RoaXMuJHRvYXN0LmxvYWRpbmcoewoJCQkgIG1lc3NhZ2U6ICfmj5DkuqTkuK0uLi4nLAoJCQkgIGR1cmF0aW9uOjAsCgkJCSAgZm9yYmlkQ2xpY2s6IHRydWUsCgkJCX0pOwoJCQkKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdwb3N0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlci9pbnNlcnQnLAoJCQkgIGhlYWRlcnM6eyd0b2tlbic6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksJ2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSwKCQkJICBkYXRhOnJlc3VsdE9yZGVyLC8v6K6i5Y2V5Li75L2TCgkJCSAgcGFyYW1zOiB7CgkJCSAgICBjSWQ6dXNlckluZm8uY0lkLC8v5Y2V5L2NaWQKCQkJICAgIHBlcnNvbklkOnVzZXJJbmZvLnBJZCwvL+eUqOaIt2lkCgkJCQlzZWxsZXJJZDpfdGhpcy4kcm91dGUucXVlcnkuc2VsbGVySWQsLy/llYblrrZpZAoJCQkJc2VsbGVyV2luQWRkcmVzczpfdGhpcy53aW5BZGRyZXNzLC8v5ZWG5a6256qX5Y+j5Zyw5Z2ACgkJCQlzZWxsZXJXaW5OYW1lOl90aGlzLiRyb3V0ZS5xdWVyeS53aW5OYW1lLC8v5ZWG5a6256qX5Y+j5ZCN56ewCgkJCQl0b3RhbEFtb3VudDpfdGhpcy5nb29kc1RvdGFsK3BhcnNlRmxvYXQoX3RoaXMuJHJvdXRlLnF1ZXJ5LmRlbGl2ZXJ5RmVlKStfdGhpcy5ncmVlbk1vbmV5LC8v5oC76YeR6aKdCgkJCQlkZWxpdmVyeUZlZTpwYXJzZUZsb2F0KF90aGlzLiRyb3V0ZS5xdWVyeS5kZWxpdmVyeUZlZSksLy/phY3pgIHotLkKCQkJCXJlbWFyazpfdGhpcy5vcmRlclJlbWFyaywvL+Wkh+azqAoJCQkJc2VsbGVyV2luRnVsbEFkZHJlc3M6X3RoaXMuZnVsbEFkZHJlc3MsLy/llYblrrbnqpflj6PlhajlnLDlnYAgX3RoaXMuZnVsbEFkZHJlc3MKCQkJCXRvQnVpbGRJZDpfdGhpcy5idWlsZElkLC8v6YWN6YCB5Zyw5Z2A5omA5bGe55qE5bu6562RaWQKCQkJCW1lYWxNb2RlOl90aGlzLm9yZGVyV2F5PT0n5aSW6YCBJz8yOl90aGlzLm9yZGVyV2F5PT0n6Ieq5o+QJz8xOjMsLy/nlKjppJDmlrnlvI8x6Ieq5o+QMumFjemAgTPov5vlupfnlKjppJAKCQkJCWNvbnRhY3Q6bmFtZSwvL+iBlOezu+S6ugoJCQkJc2V4OnNleCwvL+aAp+WIqwoJCQkJcGhvbmU6cGhvbmUsLy/nlLXor50KCQkJCWFkZHJlc3M6YWRkcmVzcywvL+mFjemAgeivpue7huWcsOWdgO+8iOiHquaPkOOAgeWIsOW6l+eUqOmkkO+8iQoJCQkJYXJyaXZhbFRpbWU6b3JkZXJUaW1lLC8v6YWN6YCB5pe26Ze0L+WPlumkkOaXtumXtC/nlKjppJDml7bpl7QKCQkJCXBpY1VybDpfdGhpcy53aW5TcGxpdEltZywvL+eql+WPo+WbvueJhwoJCQkJc2VsbGVyUGhvbmU6X3RoaXMuc2VsbGVyUGhvbmUsLy/llYblrrbnn63or50KCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJCWNvbnNvbGUubG9nKCfmj5DkuqTorqLljZUnLGRhdGEpCgkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJX3RoaXMuJHRvYXN0KCflt7Lmj5DkuqQnKTsKCQkJCQlfdGhpcy5wYXlPcmRlck51bT1kYXRhLmRhdGEuZGF0YTsvL+iuouWNlee8luWPtwoJCQkJCV90aGlzLmdldE9yZGVyRGV0YWlsKF90aGlzLnBheU9yZGVyTnVtKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLnBheVBvcHVwPXRydWU7Ly/miZPlvIDmlK/ku5hwb3B1cAoJCQkJCX0sMjAwMCkKCQkJCQkKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn5o+Q5Lqk5aSx6LSlJyk7CgkJCQoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQkJCgkJfSwKCQoJCS8vIOaJk+W8gOiuoumkkOaWueW8j0FjdGlvblNoZWV0IAoJCW9wZW5PcmRlcldheSgpewoJCQlpZih0aGlzLm9yZGVyV2F5QWN0aW9ucy5sZW5ndGg9PTApewoJCQkJdGhpcy4kdG9hc3QoJ+WVhuWutuacquiuvue9ruiuoumkkOaWueW8jycpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCXRoaXMub3JkZXJXYXlzaG93PXRydWUKCQl9LAoJCS8vIOmAieaLqeeUqOmkkOaWueW8jwoJCW9uU2VsZWN0T3JkZXJXYXkoaXRlbSkgewoJCQljb25zb2xlLmxvZyhpdGVtLm5hbWUpCgkJCWlmKGl0ZW0ubmFtZT09J+WklumAgScpewoJCQkJdGhpcy53c1Nob3c9dHJ1ZTsKCQkJCXRoaXMuenRTaG93PWZhbHNlOwoJCQkJdGhpcy5kZHljU2hvdz1mYWxzZTsKCQkJfQoJCQlpZihpdGVtLm5hbWU9PSfoh6rmj5AnKXsKCQkJCXRoaXMud3NTaG93PWZhbHNlOwoJCQkJdGhpcy56dFNob3c9dHJ1ZTsKCQkJCXRoaXMuZGR5Y1Nob3c9ZmFsc2U7CgkJCX0KCQkJaWYoaXRlbS5uYW1lPT0n5Yiw5bqX55So6aSQJyl7CgkJCQl0aGlzLndzU2hvdz1mYWxzZTsKCQkJCXRoaXMuenRTaG93PWZhbHNlOwoJCQkJdGhpcy5kZHljU2hvdz10cnVlOwoJCQl9CgkJICAgICB0aGlzLm9yZGVyV2F5PWl0ZW0ubmFtZQoJCX0sCgkJLy8g6K6h566X5oC75Lu3CgkJY291bnRUb3RhbFByaWNlKCl7CgkJCXZhciBjb3VudD0wOy8v5bGA6YOo5Y+Y6YeP5oC75Lu3CgkJCXZhciBfdGhpcz10aGlzOwoJCQlfdGhpcy5nb29kc0xpc3QuZm9yRWFjaChmdW5jdGlvbihhLGkpewoJCQkJY291bnQrPWEuZ29vZHNOdW0qYS5nUHJpY2U7CgkJCX0pCgkJCV90aGlzLmdvb2RzVG90YWw9cGFyc2VGbG9hdChjb3VudCk7CgkJCWNvbnNvbGUubG9nKF90aGlzLmdvb2RzVG90YWwpCgkJfSwKCQkvLyDllYblk4HliqAKCQlhZGRHb29kcyhpdGVtLGUsaXRlbUNvdW50ZXIpewoJCQljb25zb2xlLmxvZyhpdGVtQ291bnRlcikKCQkJLy8gY29uc29sZS5sb2coZS50YXJnZXQpLy/ojrflj5bngrnlh7vnmoR0aGlz5YWD57SgCgkJCXZhciBiYWxsPXRoaXMucGFyYWJvbGljKCk7CgkJCQoJCQkvLyDllYblk4HmlbDph4/mnIDlpJrkuLoxMDAKCQkJCWlmKGl0ZW1Db3VudGVyPDEwMCl7CgkJCQkJaXRlbS5nb29kc051bT49MTAwPzEwMDppdGVtLmdvb2RzTnVtKys7CgkJCQkJaWYoZSl7CgkJCQkJCWJhbGwoZS50YXJnZXQpOwoJCQkJCX0KCQkJCQl0aGlzLnNob3BDYXJHb29kc051bSsrCgkJCQkJdGhpcy5jb3VudFRvdGFsUHJpY2UoKTsKCQkJCX0KCQkJCQoJCX0sCgkJLy8g5ZWG5ZOB5YePCgkJbWluR29vZHMoaXRlbSl7CgkJCWl0ZW0uZ29vZHNOdW08PTA/MDppdGVtLmdvb2RzTnVtLS07CgkJCXRoaXMuc2hvcENhckdvb2RzTnVtLS0KCQkJaWYodGhpcy5zaG9wQ2FyR29vZHNOdW08PTApewoJCQkJdGhpcy5TaG9wRGV0YWlsU2hvdz1mYWxzZTsKCQkJfQoJCQl0aGlzLmNvdW50VG90YWxQcmljZSgpOwoJCX0sCgkJLy8g55m75b2VCgkJbG9nSW4oKSB7CgkJCXZhciBfdGhpcyA9IHRoaXMKCQkJLy/liKTmlq3ovpPlhaXmoYbmmK/lkKbkuLrnqboKCQkJaWYoX3RoaXMubG9naW5OYW1lPT0iIil7CgkJCQlfdGhpcy4kdG9hc3QoIuivt+i+k+WFpeeUqOaIt+WQjSIpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWlmKF90aGlzLmxvZ2luUGFzc3dvcmQ9PSIiKXsKCQkJCV90aGlzLiR0b2FzdCgi6K+36L6T5YWl5a+G56CBIik7CgkJCQlyZXR1cm47CgkJCX0KCQkJCgkJCXZhciBsb2FkID0gX3RoaXMuJHRvYXN0LmxvYWRpbmcoewoJCQkJbWVzc2FnZTogJ+eZu+W9leS4rS4uLicsCgkJCQlkdXJhdGlvbjogMCwKCQkJCWZvcmJpZENsaWNrOiB0cnVlLAoJCQl9KTsKCQkJX3RoaXMuJGF4aW9zKHsKCQkJCW1ldGhvZDogJ1BPU1QnLAoJCQkJdXJsOiBwb3J0ICsgJy92MS9wZXJzb24vZG9Mb2dpbicsCgkJCQlwYXJhbXM6IHsKCQkJCQl1c2VybmFtZSA6IF90aGlzLmxvZ2luTmFtZSwKCQkJCQlwYXNzd29yZCA6X3RoaXMubG9naW5QYXNzd29yZCwKCQkJCQljSWQ6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndW5pdEluZm8nKSkuY0lkCgkJCQl9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSkgewoJCQkJY29uc29sZS5sb2coJ+eZu+W9lScsIGRhdGEpCgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT0yMDApewoJCQkJCWxvYWQuY2xlYXIoKTsKCQkJCQlfdGhpcy4kdG9hc3QoIueZu+W9leaIkOWKnyIpOwoJCQkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyTG9naW4nLHRydWUpCgkJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJyxkYXRhLmRhdGEuZGF0YSkKCQkJCQkvLyDojrflj5bnmbvlvZXkurrkv6Hmga8KCQkJCQlfdGhpcy4kYXhpb3MoewoJCQkJCQltZXRob2Q6ICdnZXQnLAoJCQkJCQl1cmw6IHBvcnQgKyAnL3YxL3BlcnNvbi9nZXRQZXJzb25JbmZvJywKCQkJCQkJaGVhZGVyczp7J3Rva2VuJzpkYXRhLmRhdGEuZGF0YX0sCgkJCQkJCXBhcmFtczogewoJCQkJCQkJdG9rZW4gOiBkYXRhLmRhdGEuZGF0YSwKCQkJCQkJCWNJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1bml0SW5mbycpKS5jSWQKCQkJCQkJfQoJCQkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YTEpIHsKCQkJCQkJY29uc29sZS5sb2coJ+iOt+WPlueZu+W9leS6uuS/oeaBrycsIGRhdGExKQoJCQkJCQlpZihkYXRhMS5kYXRhLnN0YXR1cz09MjAwKXsKCQkJCQkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySW5mbycsSlNPTi5zdHJpbmdpZnkoZGF0YTEuZGF0YS5kYXRhKSkKCQkJCQkJfQoJCQkJCQkKCQkJCQl9KS5jYXRjaChmdW5jdGlvbigpIHsKCQkJCQkJCgkJCQkJfSk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQl2YXIgZ3JlZW5Nb25leT0wOy8v546v5L+d6LS5CgkJCQkJCV90aGlzLm15T3JkZXI9W107CgkJCQkJCV90aGlzLmxvZ2luUG9wdXA9ZmFsc2U7Ly/lhbPpl63nmbvlvZVwb3B1cAoJCQkJCQlfdGhpcy5nb29kc09yZGVyU2hvdz10cnVlOy8v5omT5byA5o+Q5Lqk6K6i5Y2VcG9wdXAKCQkJCQkJX3RoaXMuZ2V0QWRkcmVzcygpOy8v6I635Y+W5pS26LSn5Zyw5Z2ACgkJCQkJCWZvcih2YXIgaT0wO2k8X3RoaXMuZ29vZHNMaXN0Lmxlbmd0aDtpKyspewoJCQkJCQkJaWYoX3RoaXMuZ29vZHNMaXN0W2ldLmdHcmVlbkZlZT09bnVsbCl7CgkJCQkJCQkJX3RoaXMuZ29vZHNMaXN0W2ldLmdHcmVlbkZlZT0wOwoJCQkJCQkJfQoJCQkJCQkJaWYoX3RoaXMuZ29vZHNMaXN0W2ldLmdvb2RzTnVtPjApewoJCQkJCQkJCV90aGlzLm15T3JkZXIucHVzaChfdGhpcy5nb29kc0xpc3RbaV0pCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJCgkJCQkJCS8vIOiuoeeul+avj+S4quWVhuWTgeeahOeOr+S/nei0uQoJCQkJCQlmb3IgKHZhciBpPTA7aTxfdGhpcy5teU9yZGVyLmxlbmd0aDtpKyspIHsKCQkJCQkJCWdyZWVuTW9uZXkrPXBhcnNlRmxvYXQoX3RoaXMubXlPcmRlcltpXS5nb29kc051bSpfdGhpcy5teU9yZGVyW2ldLmdHcmVlbkZlZSkKCQkJCQkJfQoJCQkJCQlfdGhpcy5ncmVlbk1vbmV5PWdyZWVuTW9uZXk7CgkJCQkJfSwxMDAwKQoJCQkJfWVsc2V7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbigpIHsKCQkJCQoJCQl9KTsKCQl9LAoJCS8vIOWOu+e7k+eulwoJCWdvQWNjb3VudCgpewoJCQl2YXIgZ3JlZW5Nb25leT0wOy8v546v5L+d6LS5CgkJCXRoaXMubXlPcmRlcj1bXTsKCQkJCgkJCWlmKHRoaXMuJHJvdXRlLnF1ZXJ5LndpblN0YXRlPT0xKXsKCQkJCXRoaXMuJHRvYXN0KCfkvJHmga/kuK0nKTsKCQkJCXJldHVybjsKCQkJfQoJCQkKCQkJCgkJCS8vIOWmguaenOWVhuWTgeaVsOmHj+S4ujAKCQkJaWYodGhpcy5nb29kc1RvdGFsPD0wKXsKCQkJCXRoaXMuJHRvYXN0KCfor7fmt7vliqDoj5zlk4EnKTsKCQkJCXJldHVybgoJCQl9CgkJCQoJCQlmb3IodmFyIGk9MDtpPHRoaXMuZ29vZHNMaXN0Lmxlbmd0aDtpKyspewoJCQkJaWYodGhpcy5nb29kc0xpc3RbaV0uZ29vZHNOdW0+PTEpewoJCQkJCWlmKCEodGhpcy5nb29kc0xpc3RbaV0uZ1NlbGxNaW48PXRoaXMuZ29vZHNMaXN0W2ldLmdvb2RzTnVtKSl7CgkJCQkJCWNvbnNvbGUubG9nKHRoaXMuZ29vZHNMaXN0KQoJCQkJCQl0aGlzLiR0b2FzdCh0aGlzLmdvb2RzTGlzdFtpXS5nTmFtZSsn5pyA5bCP6LSt5Lmw5pWw6YeP5Li6Jyt0aGlzLmdvb2RzTGlzdFtpXS5nU2VsbE1pbikKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWlmKHRoaXMuZ29vZHNMaXN0W2ldLmdHcmVlbkZlZT09bnVsbCl7CgkJCQkJdGhpcy5nb29kc0xpc3RbaV0uZ0dyZWVuRmVlPTA7CgkJCQl9CgkJCQlpZih0aGlzLmdvb2RzTGlzdFtpXS5nb29kc051bT4wKXsKCQkJCQl0aGlzLm15T3JkZXIucHVzaCh0aGlzLmdvb2RzTGlzdFtpXSkKCQkJCX0KCQkJfQoJCQkKCQkJLy8g5aaC5p6c5rKh55m75b2V77yM5Y6755m75b2VCgkJCWlmKCFpc0xvZ2luKCkpewoJCQkJdGhpcy5sb2dpblBvcHVwPXRydWU7CgkJCQlyZXR1cm47CgkJCX0KCQkJCgkJCS8vIOiuoeeul+avj+S4quWVhuWTgeeahOeOr+S/nei0uQoJCQlmb3IgKHZhciBpPTA7aTx0aGlzLm15T3JkZXIubGVuZ3RoO2krKykgewoJCQkJZ3JlZW5Nb25leSs9cGFyc2VGbG9hdCh0aGlzLm15T3JkZXJbaV0uZ29vZHNOdW0qdGhpcy5teU9yZGVyW2ldLmdHcmVlbkZlZSkKCQkJfQoJCQl0aGlzLmdyZWVuTW9uZXk9Z3JlZW5Nb25leTsKCQkJCgkJCXRoaXMuZ2V0QWRkcmVzcygpOy8v6I635Y+W5pS26LSn5Zyw5Z2ACgkJCXRoaXMuZ29vZHNPcmRlclNob3c9dHJ1ZTsvL+aJk+W8gOaPkOS6pOiuouWNlXBvcHVwCgkJCQoJCX0sCgkJLy/ngrnlh7votK3nianovabmiZPlvIDotK3nianovabor6bmg4UKCQlvcGVuU2hvcENhcigpewoJCQlpZighdGhpcy5zaG9wQ2FyR29vZHNOdW08PTApewoJCQkJdGhpcy5TaG9wRGV0YWlsU2hvdz10cnVlCgkJCX0KCQl9LAoJCS8vIOaJk+W8gOeql+WPo+eFp+eJhwoJCW9wZW5NY2x6KGUpewoJCQkvL+iuvue9ruWFseeUqOeahOivgeS7tueFp3BvcHVw5qCH6aKYIAoJCQl0aGlzLmlkQ2FyZFBob3RvVGl0PWUudGFyZ2V0LmlubmVyVGV4dDsKCQkJdGhpcy5pZENhcmRQaG90b1BvcHVwPXRydWU7CgkJCXRoaXMuZ2V0TWNseigpCgkJfSwKCQkvLyDmiZPlvIDotYTotKjor4HnhacKCQlvcGVuWnooZSl7CgkJCS8v6K6+572u5YWx55So55qE6K+B5Lu254WncG9wdXDmoIfpopggCgkJCXRoaXMuaWRDYXJkUGhvdG9UaXQ9ZS50YXJnZXQuaW5uZXJUZXh0OwoJCQl0aGlzLmlkQ2FyZFBob3RvUG9wdXA9dHJ1ZTsKCQkJdGhpcy5nZXRaenp6KCkKCQl9LAoJCS8vIOaJk+W8gOWBpeW6t+ivgQoJCW9wZW5IZWFsdGgoZSl7CgkJCS8v6K6+572u5YWx55So55qE6K+B5Lu254WncG9wdXDmoIfpopggCgkJCXRoaXMuaWRDYXJkUGhvdG9UaXQ9ZS50YXJnZXQuaW5uZXJUZXh0OwoJCQl0aGlzLmlkQ2FyZFBob3RvUG9wdXA9dHJ1ZTsKCQkJdGhpcy5nZXRIZWFsdGh5KCk7CgkJfSwKCQkvLyDpooTop4jllYblrrbor4Hku7bnhaflpKflm74KCQlwcmV2SWRQaG9uZShpbmRleCl7CgkJCXZhciBpbWdBcnI9W107CgkJCWZvciAodmFyIGk9MDtpPHRoaXMuaWRDYXJkUGhvdG9MaXN0Lmxlbmd0aDtpKyspIHsKCQkJCWltZ0Fyci5wdXNoKHRoaXMuaWRDYXJkUGhvdG9MaXN0W2ldLnBpY1VybCkKCQkJfQoJCQl2YXIgX3RoaXM9dGhpczsKCQkJY29uc29sZS5sb2coaW1nQXJyKQoJCQlJbWFnZVByZXZpZXcoewoJCQkgIGltYWdlczogaW1nQXJyLAoJCQkgIHN0YXJ0UG9zaXRpb246IGluZGV4LAoJCQkgIGxvb3A6ZmFsc2UsCgkJCSAgb25DbG9zZSgpIHsKCQkJICAgIC8vIGRvIHNvbWV0aGluZwoJCQkgIH0sCgkJCX0pOwoJCX0sCgkJLy8g5ZWG5ZOB44CB6K+E5Lu344CB5ZWG5a62dGFi5YiH5o2iCgkJZ29vZHNUeXBlVGFiKGUpewoJCQl0aGlzLm51bT1lLnRhcmdldC5kYXRhc2V0Lm51bTsKCQkJCgkJCWlmKHRoaXMubnVtPT0yKXsKCQkJCXBhZ2VOdW09MTsKCQkJCXRoaXMuc2VsbGVyQXNzZXNzPVtdOwoJCQkJdGhpcy5nZXRTZWxsZXJBc3Nlc3MocGFnZU51bSk7Ly/ojrflj5bllYblrrbor4Tku7cKCQkJfQoJCQlpZih0aGlzLm51bT09Myl7CgkJCQl0aGlzLmdldFNlbGxlckluZm8oKTsvL+iOt+WPluWVhuWutuS/oeaBrwoJCQl9CgkJfSwKCQkvLyDmn6Xor6Lnqpflj6PnhafniYcKCQlnZXRNY2x6KCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJCQoJCQlfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvc2VsbGVyL3F1ZXJ5U2VsbGVyUGljJywKCQkJICBwYXJhbXM6IHsKCQkJICAgIHNlbGxlcklkOnRoaXMuJHJvdXRlLnF1ZXJ5LnNlbGxlcklkCgkJCSAgfQoJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJbG9hZC5jbGVhcigpOy8v5YWz6Zet5Yqg6L29CgkJCQljb25zb2xlLmxvZygn56qX5Y+j54Wn54mHJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCWlmKGRhdGEuZGF0YS5kYXRhLmxlbmd0aD49MCl7CgkJCQkJCWZvciAodmFyIGk9MDtpPGRhdGEuZGF0YS5kYXRhLmxlbmd0aDtpKyspIHsKCQkJCQkJCWRhdGEuZGF0YS5kYXRhW2ldLnBpY1VybD1zZWxsZXJQb3J0K2RhdGEuZGF0YS5kYXRhW2ldLnBpY1VybDsKCQkJCQkJfQoJCQkJCQlfdGhpcy5pZENhcmRQaG90b0xpc3Q9ZGF0YS5kYXRhLmRhdGE7CgkJCQkJfWVsc2V7CgkJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCQl9CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDApewoJCQkJCV90aGlzLiR0b2FzdChkYXRhLmRhdGEubXNnKTsKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwyMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQlfdGhpcy4kdG9hc3QoJ+eZu+W9lei/h+acn++8jOivt+mHjeaWsOeZu+W9lScpOwoJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCX0sMjAwMCkKCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJfSk7CgkJfSwKCQkvLyDmn6Xor6LotYTotKjor4HnhacKCQlnZXRaenp6KCl7CgkJCXZhciBfdGhpcz10aGlzOwoJCQl2YXIgbG9hZD1fdGhpcy4kdG9hc3QubG9hZGluZyh7CgkJCSAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCgkJCSAgZHVyYXRpb246MCwKCQkJICBmb3JiaWRDbGljazogdHJ1ZSwKCQkJfSk7CgkJCQoJCQlfdGhpcy4kYXhpb3MoewoJCQkgIG1ldGhvZDogJ2dldCcsCgkJCSAgdXJsOiBwb3J0KycvdjEvc2VsbGVyL3F1ZXJ5UGFwZXInLAoJCQkgIHBhcmFtczogewoJCQkgICAgc2VsbGVySWQ6dGhpcy4kcm91dGUucXVlcnkuc2VsbGVySWQKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQlsb2FkLmNsZWFyKCk7Ly/lhbPpl63liqDovb0KCQkJCWNvbnNvbGUubG9nKCfotYTotKjor4HnhacnLGRhdGEpCgkJCQlpZiAoZGF0YS5kYXRhLnN0YXR1cz09MjAwKSB7CgkJCQkJaWYoZGF0YS5kYXRhLmRhdGEubGVuZ3RoPj0wKXsKCQkJCQkJZm9yICh2YXIgaT0wO2k8ZGF0YS5kYXRhLmRhdGEubGVuZ3RoO2krKykgewoJCQkJCQkJZGF0YS5kYXRhLmRhdGFbaV0ucGljVXJsPXNlbGxlclBvcnQrZGF0YS5kYXRhLmRhdGFbaV0ucGljVXJsOwoJCQkJCQl9CgkJCQkJCV90aGlzLmlkQ2FyZFBob3RvTGlzdD1kYXRhLmRhdGEuZGF0YTsKCQkJCQl9ZWxzZXsKCQkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJCX0KCQkJCQkKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJfSwyMDAwKQoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQl9LAoJCQoJCS8vIOafpeivouWRmOW3peWBpeW6t+ivgQoJCWdldEhlYWx0aHkoKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCXZhciBsb2FkPV90aGlzLiR0b2FzdC5sb2FkaW5nKHsKCQkJICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKCQkJICBkdXJhdGlvbjowLAoJCQkgIGZvcmJpZENsaWNrOiB0cnVlLAoJCQl9KTsKCQkJCgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9zZWxsZXIvcXVlcnlFbXBsb3llZScsCgkJCSAgcGFyYW1zOiB7CgkJCSAgICBzZWxsZXJJZDp0aGlzLiRyb3V0ZS5xdWVyeS5zZWxsZXJJZAoJCQkgIH0KCQkJfSkudGhlbihmdW5jdGlvbihkYXRhKXsKCQkJCWxvYWQuY2xlYXIoKTsvL+WFs+mXreWKoOi9vQoJCQkJY29uc29sZS5sb2coJ+WRmOW3peWBpeW6t+ivgScsZGF0YSkKCQkJCWlmIChkYXRhLmRhdGEuc3RhdHVzPT0yMDApIHsKCQkJCQlpZihkYXRhLmRhdGEuZGF0YS5sZW5ndGg+PTApewoJCQkJCQlmb3IgKHZhciBpPTA7aTxkYXRhLmRhdGEuZGF0YS5sZW5ndGg7aSsrKSB7CgkJCQkJCQlkYXRhLmRhdGEuZGF0YVtpXS5waWNVcmw9c2VsbGVyUG9ydCtkYXRhLmRhdGEuZGF0YVtpXS5waWNVcmw7CgkJCQkJCX0KCQkJCQkJX3RoaXMuaWRDYXJkUGhvdG9MaXN0PWRhdGEuZGF0YS5kYXRhOwoJCQkJCX1lbHNlewoJCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQkJfQoJCQkJCQoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDF8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMnx8ZGF0YS5kYXRhLnN0YXR1cz09NjAzKXsKCQkJCQlfdGhpcy4kdG9hc3QoJ+eZu+W9lei/h+acn++8jOivt+mHjeaWsOeZu+W9lScpOwoJCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJCX0sMjAwMCkKCQkJCX0KCQkJfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewoJCQkJX3RoaXMuJHRvYXN0KCfnmbvlvZXov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnKTsKCQkJCXNldFRpbWVvdXQoKCk9PnsKCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQl9LDIwMDApCgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0pOwoJCX0sCgkJCgkJLy8g5ZWG5ZOB57G75Yir5YiH5o2iCgkJdHlwZVRhYihldmVudCl7CgkJCXZhciBlbGU9ZXZlbnQudGFyZ2V0LmRhdGFzZXQuZ29vZHN0eXBlLy/ojrflj5bngrnlh7tpZO+8jAoJCQl0aGlzLnR5cGVOdW09ZXZlbnQudGFyZ2V0LmRhdGFzZXQudHlwZTsvL3RhYuWIh+aNogoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJytlbGUpLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjogInNtb290aCJ9KTsvL+eCueWHu+WIhuexu++8jOaJvuWIsOWvueW6lOeahGlk5YWD57Sg5rua5Yqo5Yiw5Y+v6KeG5Yy65Z+f5YaFCgkJfSwKCgkJLy/ojrflj5bllYblk4HliIbnsbvjgIHllYblk4HliIbnsbvlr7nlupTnmoTliJfooagKCQlnZXRHb29kc1R5cGUoKXsKCQkJdmFyIF90aGlzPXRoaXM7CgkJCQoJCQlfdGhpcy5nb29kc0xpc3Q9W107CgkJCV90aGlzLmdvb2RzVHlwZUFycj1bXTsKCQkJCgkJCXZhciBsb2FkPV90aGlzLiR0b2FzdC5sb2FkaW5nKHsKCQkJICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKCQkJICBkdXJhdGlvbjowLAoJCQkgIGZvcmJpZENsaWNrOiB0cnVlLAoJCQl9KTsKCQkJCgkJCV90aGlzLiRheGlvcyh7CgkJCSAgbWV0aG9kOiAnZ2V0JywKCQkJICB1cmw6IHBvcnQrJy92MS9vcmRlcm1lYWwvcXVlcnlHb29kc0tpbmRCeVNlbGxlcklkJywKCQkJICBwYXJhbXM6IHsKCQkJICAgIHNlbGxlcklkOnRoaXMuJHJvdXRlLnF1ZXJ5LnNlbGxlcklkCgkJCSAgfQoJCQl9KS50aGVuKGZ1bmN0aW9uKGRhdGEpewoJCQkJbG9hZC5jbGVhcigpOy8v5YWz6Zet5Yqg6L29CgkJCQljb25zb2xlLmxvZygn5omA5pyJ5ZWG5ZOBJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCWlmIChkYXRhLmRhdGEuZGF0YS5sZW5ndGg+MCkgewoJCQkJCQlfdGhpcy5nb29kc1R5cGVBcnI9ZGF0YS5kYXRhLmRhdGE7CgkJCQkJCWZvcih2YXIgaT0wO2k8X3RoaXMuZ29vZHNUeXBlQXJyLmxlbmd0aDtpKyspewoJCQkJCQkJZm9yKHZhciBqPTA7ajxfdGhpcy5nb29kc1R5cGVBcnJbaV0uZ29vZHNMaXN0Lmxlbmd0aDtqKyspewoJCQkJCQkJCV90aGlzLmdvb2RzVHlwZUFycltpXS5nb29kc0xpc3Rbal0uZ29vZHNOdW09MAoJCQkJCQkJCWlmKCFfdGhpcy5nb29kc1R5cGVBcnJbaV0uZ29vZHNMaXN0W2pdLmdQaWMpewoJCQkJCQkJCQlfdGhpcy5nb29kc1R5cGVBcnJbaV0uZ29vZHNMaXN0W2pdLmdQaWM9Jy4vc3RhdGljL2ltYWdlcy9pY29uL2RlZmF1bHQxLnBuZycvL+WmguaenOW9k+WJjeiPnOWTgeayoeacieWbvueJh++8jOWImeiuvue9rum7mOiupOWbvgoJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQlfdGhpcy5nb29kc1R5cGVBcnJbaV0uZ29vZHNMaXN0W2pdLmdQaWM9c2VsbGVyUG9ydCtfdGhpcy5nb29kc1R5cGVBcnJbaV0uZ29vZHNMaXN0W2pdLmdQaWMKCQkJCQkJCQl9CgkJCQkJCQkJX3RoaXMuZ29vZHNMaXN0LnB1c2goX3RoaXMuZ29vZHNUeXBlQXJyW2ldLmdvb2RzTGlzdFtqXSkvL+aKiuWVhuWTgeWIhuexu+mHjOeahOWVhuWTgeWIl+ihqOaKveWHuuadpQoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQljb25zb2xlLmxvZygn5ZWG5ZOB57G75YirJyxfdGhpcy5nb29kc1R5cGVBcnIpOwoJCQkJCQljb25zb2xlLmxvZygn5omA5pyJ5ZWG5ZOB5YiX6KGoJyxfdGhpcy5nb29kc0xpc3QpCgkJCQkJfWVsc2UgewoJCQkJCQlfdGhpcy4kdG9hc3QoJ+aaguaXoOWVhuWTgeS/oeaBrycpOwoJCQkJCX0KCQkJCQkKCQkJCX0KCQkJCWlmKGRhdGEuZGF0YS5zdGF0dXM9PTYwMCl7CgkJCQkJX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAxfHxkYXRhLmRhdGEuc3RhdHVzPT02MDJ8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMyl7CgkJCQkJX3RoaXMuJHRvYXN0KCfor7fnmbvlvZUnKTsKCQkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCQl9LDIwMDApCgkJCQl9CgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKCQkJCV90aGlzLiR0b2FzdCgn55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VJyk7CgkJCQlzZXRUaW1lb3V0KCgpPT57CgkJCQkJX3RoaXMuJHJvdXRlci5wdXNoKHsncGF0aCc6Jy9sb2dpbid9KQoJCQkJfSwyMDAwKQoJCQkJY29uc29sZS5sb2coZXJyb3IpOwoJCQl9KTsKCQl9LAoJCQoJCS8vIOa4heepuui0reeJqei9pgoJCWNsZWFyU2hvcENhcigpewoJCQl0aGlzLmdldEdvb2RzVHlwZSgpOwoJCQl0aGlzLnR5cGVOdW09MDsvL+WVhuWTgeexu+WIq+WIh+aNogoJCQl0aGlzLnNob3BDYXJHb29kc051bT0wOy8v6LSt54mp5beu6KeS5qCH5b2S6Zu2CgkJCXRoaXMuZ29vZHNUb3RhbD0wOy8v5oC75Lu35b2S6Zu2CgkJCXRoaXMuU2hvcERldGFpbFNob3c9ZmFsc2U7Ly/lhbPpl63otK3nianovabor6bmg4UKCQkJY29uc29sZS5sb2coJ+a4heepuui0reeJqei9picsdGhpcy5nb29kc0xpc3QpCgkJfSwKCQkvLyDojrflj5blvq7kv6Hku5jmrL7lnLDlnYAKCQlnZXRXZVhpblBheUFkZCgpewoJCQl2YXIgX3RoaXM9dGhpczsKCQkJX3RoaXMuJGF4aW9zKHsKCQkJICBtZXRob2Q6ICdnZXQnLAoJCQkgIHVybDogcG9ydCsnL3YxL29yZGVyL2dldFdYUGF5VXJsJywKCQkJICBoZWFkZXJzOnsndG9rZW4nOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwKCQkJICBwYXJhbXM6IHsKCQkJICAgIGNJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS5jSWQKCQkJICB9CgkJCX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7CgkJCQljb25zb2xlLmxvZygn6I635Y+W5b6u5L+h5LuY5qy+5Zyw5Z2AJyxkYXRhKQoJCQkJaWYgKGRhdGEuZGF0YS5zdGF0dXM9PTIwMCkgewoJCQkJCV90aGlzLndlWGluUGF5VXJsPWRhdGEuZGF0YS5kYXRhOwoJCQkJfQoJCQkJaWYoZGF0YS5kYXRhLnN0YXR1cz09NjAwKXsKCQkJCQlfdGhpcy4kdG9hc3QoZGF0YS5kYXRhLm1zZyk7CgkJCQl9CgkJCQlpZihkYXRhLmRhdGEuc3RhdHVzPT02MDB8fGRhdGEuZGF0YS5zdGF0dXM9PTYwMXx8ZGF0YS5kYXRhLnN0YXR1cz09NjAyfHxkYXRhLmRhdGEuc3RhdHVzPT02MDMpewoJCQkJCV90aGlzLiR0b2FzdCgn6K+355m75b2VJyk7CgkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQlfdGhpcy4kcm91dGVyLnB1c2goeydwYXRoJzonL2xvZ2luJ30pCgkJCQkJfSwxMDAwKQoJCQkJfQoJCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CgkJCQlfdGhpcy4kdG9hc3QoJ+ivt+eZu+W9lScpOwoJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCV90aGlzLiRyb3V0ZXIucHVzaCh7J3BhdGgnOicvbG9naW4nfSkKCQkJCX0sMTAwMCkKCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJfSk7CgkJfQoKCX0sCgljcmVhdGVkOmZ1bmN0aW9uKCl7CgkJCgkJY29uc29sZS5sb2coJ+eql+WPo+eKtuaAgScsdGhpcy4kcm91dGUucXVlcnkud2luU3RhdGUpCgkJCgkJY29uc29sZS5sb2coJ+WIhuaVsCcsdGhpcy4kcm91dGUucXVlcnkuc3RhclNjb3JlKQoJCXRoaXMuZ2V0U2VsbGVySW5mbygpOy8v6I635Y+W5ZWG5a62CgkJLy8gdGhpcy5nZXRXZVhpblBheUFkZCgpOy8v6I635Y+W5b6u5L+h5LuY5qy+5Zyw5Z2ACgkJdmFyIF90aGlzPXRoaXM7CgkJX3RoaXMud2luSGVpZ2h0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7Ly/nqpflj6Ppq5jluqYKCQkKCQkvLyDpgY3ljobkvKDpgJLov4fmnaXnmoTnlKjppJDmlrnlvI8KCQlpZihfdGhpcy4kcm91dGUucXVlcnkuZGVsaXZlcnlNb2RlKXsKCQkJZm9yICh2YXIgaT0wO2k8X3RoaXMuJHJvdXRlLnF1ZXJ5LmRlbGl2ZXJ5TW9kZS5sZW5ndGg7aSsrKSB7CgkJCQlfdGhpcy5vcmRlcldheUFjdGlvbnMucHVzaCh7bmFtZTpfdGhpcy4kcm91dGUucXVlcnkuZGVsaXZlcnlNb2RlW2ldPT0nMSc/J+WklumAgSc6X3RoaXMuJHJvdXRlLnF1ZXJ5LmRlbGl2ZXJ5TW9kZVtpXT09JzInPyfoh6rmj5AnOifliLDlupfnlKjppJAnfSkKCQkJfQoJCX0KCQkvLyDnlKjppJDmlrnlvI8KCQl2YXIgd2F5QXJyPVtdOwoJCWZvciAodmFyIGk9MDtpPF90aGlzLm9yZGVyV2F5QWN0aW9ucy5sZW5ndGg7aSsrKSB7CgkJCXdheUFyci5wdXNoKF90aGlzLm9yZGVyV2F5QWN0aW9uc1tpXS5uYW1lKTsKCQl9CgkJCgkJaWYod2F5QXJyLmluZGV4T2YoJ+WklumAgScpIT0tMSl7CgkJCV90aGlzLndzU2hvdz10cnVlOwoJCQlfdGhpcy5vcmRlcldheT0n5aSW6YCBJzsKCQl9ZWxzZSBpZih3YXlBcnIuaW5kZXhPZign6Ieq5o+QJykhPS0xKXsKCQkJX3RoaXMuenRTaG93PXRydWU7CgkJCV90aGlzLm9yZGVyV2F5PSfoh6rmj5AnOwoJCX1lbHNlIGlmKHdheUFyci5pbmRleE9mKCfliLDlupfnlKjppJAnKSE9LTEpewoJCQlfdGhpcy5kZHljU2hvdz10cnVlOwoJCQlfdGhpcy5vcmRlcldheT0n5Yiw5bqX55So6aSQJzsKCQl9CgkJCgkJY29uc29sZS5sb2coJ+eUqOmkkOaWueW8jycsd2F5QXJyKQoJCQoJCS8vIF90aGlzLmdldEFkZHJlc3MoKTsvL+iOt+WPluaUtui0p+WcsOWdgAoJCV90aGlzLmdldEdvb2RzVHlwZSgpOy8v5ZWG5ZOB57G75YirCgl9Cn07Cg=="},{"version":3,"sources":["winDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"winDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"win-detail\">\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<top-fixed-nav :title=\"winName\"></top-fixed-nav>\r\n\t\t\r\n\t\t\t<div class=\"win-detail-top\">\r\n\t\t\t\t<img class=\"win-img\" :src=\"winPic\">\r\n\t\t\t\t<p class=\"win-name\">{{this.$route.query.winName}}</p>\r\n\t\t\t\t<p class=\"sell-num\"><van-rate readonly v-model=\"winStarScore\" /><span>月售{{this.$route.query.orderCount}}单</span></p>\r\n\t\t\t\t<p class=\"send-price\">\r\n\t\t\t\t\t<span v-show=\"this.$route.query.deliveryMinAmount\">起送￥{{this.$route.query.deliveryMinAmount}}  </span>\r\n\t\t\t\t\t<span>配送￥{{this.$route.query.deliveryFee}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"goods-type-wrap\">\r\n\t\t\t\t<div class=\"goods-type-tab\">\r\n\t\t\t\t\t<a data-num=\"1\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==1}\">商品</a>\r\n\t\t\t\t\t<a data-num=\"2\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==2}\">评价</a>\r\n\t\t\t\t\t<a data-num=\"3\" @click=\"goodsTypeTab($event)\" href=\"javascript:;\" :class=\"{active:num==3}\">商家</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"goods-type-main\">\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==1}\">\r\n\t\t\t\t\t\t\t<div class=\"goods-type-left\" :style=\"{height:(winHeight-260)+'px'}\">\r\n\t\t\t\t\t\t\t\t<!-- 商品分类 -->\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t<li :data-goodstype=\"'goodsType' + item.gKindId\" :data-typename=\"item.gKindName\" :class=\"{active:typeNum==index}\" :data-id=\"item.gKindId\" :data-type=\"index\" @click=\"typeTab($event)\" v-for=\"(item,index) in goodsTypeArr\">{{item.gKindName}}</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 商品分类列表 -->\r\n\t\t\t\t\t\t\t<div class=\"goods-type-right\" :style=\"{height:(winHeight-260)+'px'}\" id=\"goodsListWrap\">\r\n\t\t\t\t\t\t\t\t<div :ref=\"'#goodsType' + item.gKindId\" v-for=\"(item,index) in goodsTypeArr\" :id=\"'goodsType' + item.gKindId\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"p-goods-tit\">{{item.gKindName}}</p>\r\n\t\t\t\t\t\t\t\t\t<ul class=\"goods-list\">\r\n\t\t\t\t\t\t\t\t\t\t<li v-for=\"goodsItem in item.goodsList\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"goodsItem.gPic\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<van-tag v-show=\"goodsItem.gRecommend==1\" color=\"#E03737\" class=\"g-tag\">推荐</van-tag>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"goods-name\">{{goodsItem.gName}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"sell-num\">销量：{{goodsItem.gSellCounter}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-price\">￥{{goodsItem.gPrice}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"counter\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-show=\"goodsItem.goodsNum>0\" class=\"min iconfont icon-jianhao\" v-on:click=\"minGoods(goodsItem)\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input v-show=\"goodsItem.goodsNum>0\" type=\"number\" readonly v-model=\"goodsItem.goodsNum\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- $route.query.winState!=1为休息中，其他都是营业中 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-show=\"$route.query.winState!=1\" class=\"add iconfont icon-jia1\" v-on:click=\"addGoods(goodsItem,$event,goodsItem.goodsNum)\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==2}\" :style=\"{height:(winHeight-260)+'px'}\" id=\"assessWrap\">\r\n\t\t\t\t\t\t<div class=\"score-wrap\">\r\n\t\t\t\t\t\t\t<div class=\"score-top\" style=\"display: none;\">\r\n\t\t\t\t\t\t\t\t<span class=\"score-num\">{{score}}</span><van-rate readonly v-model=\"score\" />\r\n\t\t\t\t\t\t\t\t<p class=\"score-tip\">100名同学参与菜品反馈</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 评价列表 -->\r\n\t\t\t\t\t\t\t<div class=\"dis-list\">\r\n\t\t\t\t\t\t\t\t<ul v-if=\"sellerAssess.length>0\">\r\n\t\t\t\t\t\t\t\t\t<li v-for=\"(item,index) in sellerAssess\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"head-img\" src=\"../../public/static/images/icon/default_head.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"dis-user-name\"><span class=\"dis-name\">{{item.pName?item.pName:'匿名'}}</span><span class=\"dis-date\">{{item.createTime}}</span></p>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <div class=\"dis-score\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>评分：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>口味：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><span>包装：</span><van-rate readonly v-model=\"disScore\" /></p>\r\n\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"dis-remark\">{{item.commentContent}}</p>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<p v-else style=\"text-align: center;margin: 20px;\">暂无评价</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div :class=\"{'goodst-type-item':true,show:num==3}\" :style=\"{height:(winHeight-260)+'px'}\">\r\n\t\t\t\t\t\t<!-- 商家信息 -->\r\n\t\t\t\t\t\t<div class=\"seller-info\" style=\"border-bottom: none;padding: 0;margin-top: -1px;\">\r\n\t\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t\t  <van-cell title=\"负责人\" :value=\"sellerName\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"商家电话\" :value=\"sellerPhone\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"营业时间\" value-class=\"open-time-cell\" :value=\"sellerOpenTime\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"商家地址\" :value=\"winAddress\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"窗口照片\" is-link v-on:click=\"openMclz\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"资质证照\" is-link v-on:click=\"openZz\" />\r\n\t\t\t\t\t\t\t  <van-cell title=\"员工健康证\" is-link v-on:click=\"openHealth\" />\r\n\t\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t<!-- 购物车 v-if=\"$route.query.winState==1\" -->\r\n\t\t<div class=\"shop-car\" >\r\n\t\t\t<div class=\"shop-car-main\">\r\n\t\t\t\t<span id=\"shopCarIcon\" class=\"shop-car-icon iconfont icon-gouwuche\" v-on:click=\"openShopCar\"><van-tag color=\"#EA4646\" round class=\"shop-tag\">{{shopCarGoodsNum}}</van-tag></span>\r\n\t\t\t\t<div class=\"shop-car-info\">\r\n\t\t\t\t\t<p class=\"shop-car-price\">￥{{goodsTotal.toFixed(2)}}</p>\r\n\t\t\t\t\t<p>配送费:￥{{parseFloat(this.$route.query.deliveryFee)}} <span style=\"margin-left: 6px;\"><i v-for=\"item in deliveryMode\">{{item=='1'?'外送|':item=='2'?'自提|':'到店用餐|'}}</i></span></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<!-- <a v-if=\"!isLogin\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"$router.push({path:'/logIn'})\">登录</a> -->\r\n\t\t\t\t<!-- <template v-else> -->\r\n\t\t\t\t\t<a v-if=\"this.$route.query.deliveryMinAmount<=goodsTotal\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"goAccount\">去结算</a>\r\n\t\t\t\t\t<span v-else class=\"shop-car-qs-tip\">差{{this.$route.query.deliveryMinAmount-goodsTotal}}起送</span>\r\n\t\t\t\t<!-- </template> -->\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<!-- 购物车详情 -->\r\n\t\t<van-popup duration=\"0.2\" position=\"bottom\" :style=\"{ width: '100%',height:'300px'}\" v-model=\"ShopDetailShow\">\r\n\t\t\t<div class=\"shop-car-detail\">\r\n\t\t\t\t<p class=\"shop-car-detail-tit\"><span>购物车</span><span v-on:click=\"clearShopCar\"><i class=\"iconfont icon-qingkong\" style=\"margin-right: 4px;\"></i>清空</span></p>\r\n\t\t\t\t<ul class=\"goods-list shop-car-list\">\r\n\t\t\t\t\t<li v-show=\"item.goodsNum>0\" v-for=\"item in goodsList\">\r\n\t\t\t\t\t\t<div class=\"goods-img\">\r\n\t\t\t\t\t\t\t<img :src=\"item.gPic\">\r\n\t\t\t\t\t\t\t<van-tag v-show=\"item.gRecommend==1\" color=\"#E03737\" class=\"g-tag\">推荐</van-tag>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"goods-name\">{{item.gName}}</p>\r\n\t\t\t\t\t\t<div class=\"goods-price\">￥{{item.gPrice}}\r\n\t\t\t\t\t\t\t<div class=\"counter\">\r\n\t\t\t\t\t\t\t\t<span v-show=\"item.goodsNum>0\" class=\"min iconfont icon-jianhao\" v-on:click=\"minGoods(item)\"></span>\r\n\t\t\t\t\t\t\t\t<input v-show=\"item.goodsNum>0\" type=\"number\" readonly v-model=\"item.goodsNum\">\r\n\t\t\t\t\t\t\t\t<span class=\"add iconfont icon-jia1\" v-on:click=\"addGoods(item,'',item.goodsNum)\"></span>\r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 提交订单 -->\r\n\t\t<van-popup position=\"right\" v-model=\"goodsOrderShow\" :style=\"{width:'100%', height: '100%',background:'#eee',boxSizing:'border-box'}\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"goodsOrderShow=false\"></span>提交订单\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" :style=\"{height:(winHeight-40)+'px',paddingBottom:'65px',boxSizing:'border-box'}\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t  <van-cell title=\"订餐方式\" :value=\"orderWay\" is-link v-on:click=\"openOrderWay\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 外送 -->\r\n\t\t\t\t<van-cell-group v-show=\"wsShow\">\r\n\t\t\t\t  <van-cell is-link :title=\"wsName+wsSex+wsPhone\" :label=\"wsAddress\" v-on:click=\"openSelectAddressPopup\" />\r\n\t\t\t\t  <van-cell is-link title=\"期望送达时间\" :value=\"wsTime\" v-on:click=\"wsTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 自提 -->\r\n\t\t\t\t<van-cell-group v-show=\"ztShow\">\r\n\t\t\t\t  <van-field input-align=\"right\" :label=\"ztName\" v-model=\"ztPhone\" />\r\n\t\t\t\t  <van-cell title=\"自提地点\" :value=\"winAddress\" />\r\n\t\t\t\t  <van-cell is-link title=\"自提时间\" :value=\"ztTime\" v-on:click=\"ztTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 到店用餐 -->\r\n\t\t\t\t<van-cell-group v-show=\"ddycShow\">\r\n\t\t\t\t  <van-field input-align=\"right\" :label=\"ztName\" v-model=\"ztPhone\" />\r\n\t\t\t\t  <van-cell title=\"商家地址\" :value=\"winAddress\" />\r\n\t\t\t\t  <van-cell is-link title=\"用餐时间\" :value=\"ddTime\" v-on:click=\"ddTimePopup=true\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 提交订单 -->\r\n\t\t\t\t<div class=\"my-order-list\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"item in myOrder\">\r\n\t\t\t\t\t\t\t<p class=\"my-order-name\"><img :src=\"item.gPic\" alt=\"\">{{item.gName}}</p>\r\n\t\t\t\t\t\t\t<p class=\"price\">￥{{item.gPrice}} x {{item.goodsNum}}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div class=\"send-wrap\">\r\n\t\t\t\t\t\t<p v-show=\"orderWay=='外送'\"><span>配送费</span><span>￥{{this.$route.query.deliveryFee}}</span></p>\r\n\t\t\t\t\t\t<p><span>环保费</span><span>￥{{greenMoney}}</span></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p class=\"total-price\">小计<span>￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</span></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 备注 -->\r\n\t\t\t\t<p style=\"background: #fff;padding-left: 15px;padding-top: 10px;\">备注</p>\r\n\t\t\t\t<van-field v-model=\"orderRemark\" rows=\"3\" autosize type=\"textarea\" maxlength=\"100\" placeholder=\"请输入口味/偏好等要求\" show-word-limit />\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<!-- 订单详情里的提交按钮 -->\r\n\t\t\t<div class=\"shop-car\" style=\"position: absolute;background: #eee;\">\r\n\t\t\t\t<div class=\"shop-car-main\">\r\n\t\t\t\t\t<div class=\"shop-car-info\">\r\n\t\t\t\t\t\t<p class=\"shop-car-price\" style=\"position: absolute;left: 20px;top: 10px;\">￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a style=\"    border-top-right-radius: 20px;border-bottom-right-radius: 20px;\" href=\"javascript:;\" class=\"shop-car-count-btn\" v-on:click=\"submitOrder\">提交订单</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 选择地址、修改地址 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"selectAddressPopupShow\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"receiveAddressBack\"></span>收货地址\r\n\t\t\t\t<span style=\"position: absolute;font-size: 14px;padding: 0 10px;right: 0;\" v-on:click=\"addAddressPopup=true;userName='';userPhone='';schoolArea='';schoolAreaId='';buildName='';buildId='';detailAddress='';setDefaultAdd=false;addAddressTit='新增地址';addressId='';\">新增地址</span>\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"address-list\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"item in allAddresArr\">\r\n\t\t\t\t\t\t\t<input type=\"radio\" :checked=\"item.defaultAddress==1\" name=\"selectAddRadio\" :value=\"item.contact+','+item.phone+','+item.cAreaName+item.buildName+item.address+','+item.sex+','+item.buildId\" v-model=\"checkAddress\">\r\n\t\t\t\t\t\t\t<p class=\"address-add\">{{item.cAreaName}}{{item.buildName}}{{item.address}}</p>\r\n\t\t\t\t\t\t\t<p class=\"address-name\"><span>{{item.contact}}</span><span style=\"margin-right: 10px;\">{{item.phone}}</span><van-tag round v-show=\"item.defaultAddress==1\">默认</van-tag></p>\r\n\t\t\t\t\t\t\t<span class=\"edit-add iconfont icon-xitongshezhibeifen\" v-on:click=\"openEditAddressPopup(item.addressId)\"></span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- <div class=\"big-btn-wrap\">\r\n\t\t\t\t\t\t<van-button type=\"primary\" color=\"#F4BE42\" block v-on:click=\"selectAddressBtn\">确定</van-button>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 新增地址 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"addAddressPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"addAddressPopup=false\"></span>{{addAddressTit}}\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t  <van-field required v-model=\"userName\" input-align=\"right\" label=\"姓名\" />\r\n\t\t\t\t  <van-field name=\"radio\" label=\"性别\" input-align=\"right\">\r\n\t\t\t\t    <template #input>\r\n\t\t\t\t      <van-radio-group v-model=\"sex\" direction=\"horizontal\" checked-color=\"#F4BE42\">\r\n\t\t\t\t        <van-radio name=\"男\">男</van-radio>\r\n\t\t\t\t        <van-radio name=\"女\">女</van-radio>\r\n\t\t\t\t      </van-radio-group>\r\n\t\t\t\t    </template>\r\n\t\t\t\t  </van-field>\r\n\t\t\t\t  <van-field required v-model=\"userPhone\" input-align=\"right\" label=\"手机号\"/>\r\n\t\t\t\t  <van-cell required title=\"校区\" :value=\"schoolArea\" is-link v-on:click=\"selectAreaShow=true;getSchoolArea()\" />\r\n\t\t\t\t  <van-cell required title=\"楼宇\" :value=\"buildName\" is-link v-on:click=\"schoolArea==''?$toast('请选择校区'):selectBuildShow=true\" />\r\n\t\t\t\t  <van-field v-model=\"detailAddress\" input-align=\"right\" label=\"详细地址\"/>\r\n\t\t\t\t  <van-field name=\"switch\" label=\"设为默认地址\" input-align=\"right\">\r\n\t\t\t\t    <template #input>\r\n\t\t\t\t      <van-switch active-color=\"#F4BE42\" v-model=\"setDefaultAdd\" size=\"20\" />\r\n\t\t\t\t    </template>\r\n\t\t\t\t  </van-field>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"big-btn-wrap\">\r\n\t\t\t\t\t<van-button type=\"primary\" color=\"#F4BE42\" block v-on:click=\"saveAddress\">保存地址</van-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 窗口照片、资质证照、员工健康证 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"idCardPhotoPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"idCardPhotoPopup=false\"></span>{{idCardPhotoTit}}\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"zizhi-photo-wrap\">\r\n\t\t\t\t\t<p class=\"zanwu\" v-show=\"idCardPhotoList.length<=0\">暂无图片</p>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"(item,index) in idCardPhotoList\" v-on:click=\"prevIdPhone(index)\">\r\n\t\t\t\t\t\t\t<div class=\"zizhi-img\" :style=\"{backgroundImage:'url('+item.picUrl+')'}\"></div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 支付 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%',background:'#eee'}\" v-model=\"payPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"payPopup=false\"></span>支付\r\n\t\t\t</div>\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: calc(100% - 40px);\">\r\n\t\t\t\t<div class=\"pay-wrap\">\r\n\t\t\t\t\t<!-- <p>支付剩余时间：<span id=\"time\"></span></p> -->\r\n\t\t\t\t\t<p class=\"pay-total\">￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t\t\t<p>订单编号-{{payOrderNum}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pay-way\">\r\n\t\t\t\t\t<van-radio-group v-model=\"payRadio\" disabled >\r\n\t\t\t\t\t  <van-cell-group>\r\n\t\t\t\t\t    <van-cell title=\"微信\" >\r\n\t\t\t\t\t      <template #right-icon>\r\n\t\t\t\t\t        <van-radio name=\"1\" checked-color=\"red\" />\r\n\t\t\t\t\t      </template>\r\n\t\t\t\t\t    </van-cell>\r\n\t\t\t\t\t  </van-cell-group>\r\n\t\t\t\t\t</van-radio-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"pay-btn\" v-on:click=\"confirmPay\">确认支付 ￥{{orderWay=='外送'?(goodsTotal+parseFloat(this.$route.query.deliveryFee)+greenMoney).toFixed(2):((goodsTotal+greenMoney).toFixed(2))}}</p>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 登录 -->\r\n\t\t<van-popup position=\"right\" :style=\"{width:'100%', height: '100%'}\" v-model=\"loginPopup\">\r\n\t\t\t<!-- popup内头部 -->\r\n\t\t\t<!-- <div class=\"popup-header\">\r\n\t\t\t\t<span class=\"back iconfont icon-zuojiantou\" v-on:click=\"loginPopup=false\"></span>登录\r\n\t\t\t</div> -->\r\n\t\t\t<!-- popup内容区 -->\r\n\t\t\t<div class=\"popup-main\" style=\"height: 100%\">\r\n\t\t\t\t<div class=\"login\">\r\n\t\t\t\t\t<div class=\"back iconfont icon-zuojiantou\" style=\"position: absolute;left: 0;top: 0;z-index: 10;width: 40px;height: 40px;text-align: center;line-height: 40px;color: #fff;font-size: 20px;\" v-on:click=\"loginPopup=false\"></div>\r\n\t\t\t\t\t<div class=\"bg\"><img src=\"../assets/login/login-bg.png\" alt=\"\"></div>\r\n\t\t\t\t\t<div class=\"bg-food\"><img src=\"../assets/login/login-bgfood.png\" alt=\"\"></div>\r\n\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t\t<p style=\"color: #fff;\">网上订餐</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t\t\t\t<img src=\"../assets/login/username.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t<van-field class=\"login-input\" v-model=\"loginName\"  placeholder=\"用户名\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t\t\t\t<img src=\"../assets/login/password.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t<van-field class=\"login-input\" v-model=\"loginPassword\" type=\"password\"  placeholder=\"密码\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"confirm\">\r\n\t\t\t\t\t\t\t<van-button color=\"#F4BE42\" type=\"primary\" block @click=\"logIn()\">登录</van-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 选择订餐方式 -->\r\n\t\t<van-action-sheet close-on-click-action v-model=\"orderWayshow\" :actions=\"orderWayActions\" @select=\"onSelectOrderWay\" />\r\n\t\t\r\n\t\t<!-- 选择校区action -->\r\n\t\t<van-action-sheet overlay close-on-click-action v-model=\"selectAreaShow\" :actions=\"selectAreaAction\" @select=\"onSelectAreaAction\" />\r\n\t\t\r\n\t\t<!-- 选择楼宇action -->\r\n\t\t<van-action-sheet overlay close-on-click-action v-model=\"selectBuildShow\" :actions=\"selectBuildAction\" @select=\"onSelectBuildAction\" />\r\n\t\t\r\n\t\t<!-- 外送时间选择popup -->\r\n\t\t<van-popup v-model=\"wsTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getWsTime\" v-on:cancel=\"wsTimePopup=false\"  v-model=\"wsTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\" :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 自提时间选择popup -->\r\n\t\t<van-popup v-model=\"ztTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getZtTime\" v-on:cancel=\"ztTimePopup=false\"  v-model=\"ztTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\"  :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t<!-- 到店用餐时间选择popup -->\r\n\t\t<van-popup v-model=\"ddTimePopup\" position=\"bottom\" :style=\"{width:'100%', height: '270px'}\">\r\n\t\t\t<van-datetime-picker v-on:confirm=\"getDdTime\" v-on:cancel=\"ddTimePopup=false\"  v-model=\"ddTime\" type=\"time\" title=\"选择时间\" :min-hour=\"new Date(new Date().getTime() + 1000*60*30).getHours()\"  :min-minute=\"new Date(new Date().getTime() + 1000*60*30).getMinutes()\"/>\r\n\t\t</van-popup>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\tvar pageNum=1;//页码\r\n\timport { ImagePreview } from 'vant';\r\n\texport default{\r\n\t\tdata:function(){\r\n\t\t\treturn{\r\n\t\t\t\tloginName:'',//用户名\r\n\t\t\t\tloginPassword:'',//密码\r\n\t\t\t\tloginPopup:false,//登录popup\r\n\t\t\t\twinStarScore:JSON.parse(this.$route.query.starScore),//窗口评分数\r\n\t\t\t\treachBottomShow:false,//下拉刷新\r\n\t\t\t\tisLogin:isLogin(),\r\n\t\t\t\twinPic:'./static/images/icon/default1.png',//窗口图片带\r\n\t\t\t\twinSplitImg:'',//不带前缀的窗口图片\r\n\t\t\t\tdeliveryMode:this.$route.query.deliveryMode,//支持配送类型\r\n\t\t\t\tnum: 1,//商品、评价、商家tab切换\r\n\t\t\t\ttypeNum:0,//商品类别切换\r\n\t\t\t\twinId:this.$route.query.winId,//店铺传递的店铺id\r\n\t\t\t\twinName:this.$route.query.winName,//店铺传递的店铺名称\r\n\t\t\t\tstar:3,//评分\r\n\t\t\t\twinHeight:0,//可视区高度\r\n\t\t\t\tgoodsTypeArr:[],//菜品分类\r\n\t\t\t\tgoodsList:[],//购物车菜品列表\r\n\t\t\t\tgTypeName:'',//菜品标题\r\n\t\t\t\tscore:3,//总评分\r\n\t\t\t\tdisScore:3,//评价列表评分\r\n\t\t\t\tShopDetailShow:false,//购物车详情\r\n\t\t\t\tshopCarGoodsNum:0,//购物车数量角标\r\n\t\t\t\tgoodsTotal:0,//总价\r\n\t\t\t\tgoodsOrderShow:false,//订单详情\r\n\t\t\t\torderWayshow: false,//订餐方式\r\n\t\t\t\torderWay:'',//订餐方式\r\n\t\t\t    orderWayActions: [],//用餐方式\r\n\t\t\t\twsShow:false,//外送\r\n\t\t\t\tztShow:false,//自提\r\n\t\t\t\tztTimePopup:false,//自提时间\r\n\t\t\t\tztTime:setTimeLatter(30),//自提时间\r\n\t\t\t\tddTimePopup:false,//到店用餐时间\r\n\t\t\t\tddTime:setTimeLatter(30),//到店用餐时间\r\n\t\t\t\tddycShow:false,//到店用餐\r\n\t\t\t\tselectAddressPopupShow:false,//收货地址\r\n\t\t\t\tallAddresArr:[],//查询所有收货地址\r\n\t\t\t\taddAddressPopup:false,//新增地址\r\n\t\t\t\tuserName:'',//姓名\r\n\t\t\t\tuserPhone:'',//手机号\r\n\t\t\t\tdetailAddress:'',//详细地址\r\n\t\t\t\tsex:'男',//性别\r\n\t\t\t\tsetDefaultAdd:false,//设为默认地址\r\n\t\t\t\twsTime: setTimeLatter(30),//外送时间\r\n\t\t\t\twsTimePopup:false,//外送时间选择\r\n\t\t\t\tselectAreaShow:false,//选择校区action\r\n\t\t\t\tschoolArea:'',//校区\r\n\t\t\t\tschoolAreaId:'',//校区id\r\n\t\t\t\tselectAreaAction: [],//选择校区内容\r\n\t\t\t\tselectBuildShow:false,//选择楼宇action\r\n\t\t\t\tselectBuildAction:[],//选择楼宇内容\r\n\t\t\t\tbuildName:'',//楼宇名称\r\n\t\t\t\tbuildId:'',//楼宇id\r\n\t\t\t\twsName:'选择地址',//外送姓名\r\n\t\t\t\twsPhone:'',//外送电话\r\n\t\t\t\twsAddress:'',//外送地址\r\n\t\t\t\twsSex:'',//外送性别\r\n\t\t\t\tcheckAddress:'',//选择的收货地址\r\n\t\t\t\twinAddress:'',//商家窗口地址（自提地址、到店用餐地址）\r\n\t\t\t\tztName:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pName:'',//自提人姓名\r\n\t\t\t\tztPhone:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pMobile:'',//自提人电话\r\n\t\t\t\tztSex:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')).pSex:'',//自提人性别\r\n\t\t\t\tmyOrder:[],//选择完商品的订单\r\n\t\t\t\torderRemark:'',//提交订单里的备注\r\n\t\t\t\taddAddressTit:'新增地址',//添加、修改地址状态栏标题\r\n\t\t\t\taddressId:'',//地址id，修改地址用\r\n\t\t\t\tsellerName:'',//商家负责人\r\n\t\t\t\tsellerPhone:'',//商家电话\r\n\t\t\t\tsellerOpenTime:'',//商家营业时间\r\n\t\t\t\tidCardPhotoPopup:false,//证件照（窗口照片、资质证照、员工健康证）\r\n\t\t\t\tidCardPhotoTit:'',//证件照标题\r\n\t\t\t\tidCardPhotoList:[],//证件照图片\r\n\t\t\t\tfullAddress:'',//拼接的地址\r\n\t\t\t\tgreenMoney:0,//环保费\r\n\t\t\t\tpayPopup:false,//支付\r\n\t\t\t\tpayRadio:'1',//支付选择方式，默认微信\r\n\t\t\t\tpayOrderNum:'',//支付订单编号\r\n\t\t\t\tdaoJiShi:'',//30分钟倒计时\r\n\t\t\t\tsellerAssess:[],//商家评价\r\n\t\t\t\tweXinPayUrl:'',//微信付款地址\r\n\t\t\t\torderStatus:'',//支付时查询的订单状态\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t // 滚动到底加载更多\r\n\t\t\tdocument.querySelector('#assessWrap').addEventListener('scroll',this.reachBottom)\t\t\t  \r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 滚动到底加载更多评价\r\n\t\t\treachBottom(){\r\n\t\t\t\t  //滚动条高度\r\n\t\t\t\t  let scrollTop = document.querySelector('#assessWrap').scrollTop;\r\n\t\t\t\t  //可视区的高度\r\n\t\t\t\t  let clientHeight = document.querySelector('#assessWrap').clientHeight;\r\n\t\t\t\t  //总高度\r\n\t\t\t\t  let scrollHeight = document.querySelector('#assessWrap').scrollHeight;\r\n\t\t\t\tif(scrollTop+clientHeight >= scrollHeight){\r\n\t\t\t\t\tpageNum++;\r\n\t\t\t\t\tthis.getSellerAssess(pageNum);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取订单详情\r\n\t\t\tgetOrderDetail(orderNo){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    orderNo:orderNo\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('订单详情',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.orderStatus=data.data.data.orderState//只有orderState为1时订单状态为用户已提交订单，才可以付款\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('操作失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 商家评价\r\n\t\t\tgetSellerAssess(pageNum){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/ordermeal/queryCommentBySellerId',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:_this.$route.query.sellerId,\r\n\t\t\t\t\tpageNum:pageNum,\r\n\t\t\t\t\tpageSize:20\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('商家评价',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.list.length>0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.list.length;i++) {\r\n\t\t\t\t\t\t\t\t_this.sellerAssess.push(data.data.data.list[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast('暂无评价');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点餐抛物线动画\r\n\t\t\tparabolic() {\r\n\t\t\t          return function (e) {\r\n\t\t\t              //生成动画标签\r\n\t\t\t              var ball = document.createElement(\"div\");\r\n\t\t\t              ball.id = 'ball';\r\n\t\t\t              document.body.appendChild(ball);\r\n\t\t\t \r\n\t\t\t              var rect = e.getBoundingClientRect(); //getBoundingClientRect获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置。\r\n\t\t\t              ball.style.top = (rect.top+rect.height/2)+'px';\r\n\t\t\t              ball.style.left = rect.left+'px';\r\n\t\t\t              ball.style.transition = 'left 0s, top 0s';\r\n\t\t\t              //获取购物车标签\r\n\t\t\t              var buyCar=document.getElementById('shopCarIcon').getBoundingClientRect();\r\n\t\t\t              setTimeout(()=>{\r\n\t\t\t                  ball.style.top = window.innerHeight-(window.innerHeight-buyCar.top-buyCar.height/2)+'px';\r\n\t\t\t                  ball.style.left = (buyCar.left+buyCar.height/2)+'px';\r\n\t\t\t                  ball.style.transition = 'left 1s linear, top 1s ease-in';\r\n\t\t\t              }, 20);\r\n\t\t\t              //动画结束后自动删除\r\n\t\t\t              setTimeout(function () {\r\n\t\t\t                  document.body.removeChild(ball);\r\n\t\t\t              },1050);\r\n\t\t\t          };\r\n\t\t\t      },\r\n\t\t\t// 确认支付\r\n\t\t\tconfirmPay(){\r\n\t\t\t\tconsole.log('确认支付');\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('66',_this.orderStatus)\r\n\t\t\t\t\r\n\t\t\t\t_this.$dialog.confirm({\r\n\t\t\t\t  title: '温馨提示',\r\n\t\t\t\t  message: '确定支付？',\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t    // on confirm\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(_this.orderStatus!=1){\r\n\t\t\t\t\t\t  _this.$toast('订单已取消！');\r\n\t\t\t\t\t\t  setTimeout(()=>{\r\n\t\t\t\t\t\t\t  _this.goodsOrderShow=false;//关闭提交订单\r\n\t\t\t\t\t\t\t  _this.payPopup=false;//关闭支付\r\n\t\t\t\t\t\t  },1500)\r\n\t\t\t\t\t\t  return;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t\t  message: '正在提交...',\r\n\t\t\t\t\t  duration:0,\r\n\t\t\t\t\t  forbidClick: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 真实支付\r\n\t\t\t\t\t// _this.$axios({\r\n\t\t\t\t\t//   method: 'get',\r\n\t\t\t\t\t//   url:JSON.parse(localStorage.getItem('userInfo')).wxPayUrl,\r\n\t\t\t\t\t//   params: {\r\n\t\t\t\t\t// \ttotalFee:(_this.goodsTotal+parseFloat(_this.$route.query.deliveryFee)+_this.greenMoney)*100,//金额（分）\r\n\t\t\t\t\t// \tbody:'请支付',//标题\r\n\t\t\t\t\t// \toutTradeNo:_this.payOrderNum,//订单编号\r\n\t\t\t\t\t// \tattach:_this.$route.query.sellerId,//商家id\r\n\t\t\t\t\t// \tnotifyUrl:port+'/v1/order/wechatPayNotify'\r\n\t\t\t\t\t//   }\r\n\t\t\t\t\t// }).then(function(data){\r\n\t\t\t\t\t// \tconsole.log('支付',data)\r\n\t\t\t\t\t// \tload.clear();\r\n\t\t\t\t\t// \tvar payUrl=data.data.data.payUrl+\"&redirect_url=\"+payBackUrl+\"/#/index\";\r\n\t\t\t\t\t// \t_this.$router.push({'path':'/pay',query:{'payUrl':payUrl}});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// }).catch(function(error){\r\n\t\t\t\t\t// \tconsole.log(error);\r\n\t\t\t\t\t// });\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t////模拟支付\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/order/pay',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t    orderNo:_this.payOrderNum,//订单编号\r\n\t\t\t\t\t\ttradeNo:'1',//交易编号\r\n\t\t\t\t\t\tsellerId:_this.$route.query.sellerId\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tconsole.log('支付',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast('支付成功');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/orderList'});\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'});\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t  }).catch(() => {\r\n\t\t\t\t    // on cancel\r\n\t\t\t\t\tconsole.log('取消')\r\n\t\t\t\t  });\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 倒计时\r\n\t\t\tcountDown(){\r\n\t\t\t    var timer;\r\n\t\t\t    var time=1800;//30分钟换算成1800秒\r\n\t\t\t    timer=setInterval(function(){\r\n\t\t\t         if (time<=0) {\r\n\t\t\t            clearInterval(timer);\r\n\t\t\t            alert('时间到了');\r\n\t\t\t            return;\r\n\t\t\t        }\r\n\t\t\t        time--;\r\n\t\t\t        var minute=parseInt(time/60);\r\n\t\t\t        var second=parseInt(time%60);\r\n\t\t\t        if (minute<10) {\r\n\t\t\t            minute='0'+minute;\r\n\t\t\t        }\r\n\t\t\t        if (second<10) {\r\n\t\t\t            second='0'+second;\r\n\t\t\t        }\r\n\t\t\t\t   document.querySelector('#time').innerHTML=minute+':'+second;\r\n\t\t\t    },1000);\r\n\t\t\t},\r\n\t\t\t// 打开修改地址popup（实际上打开的是添加地址，两个共用），获取地址详情\r\n\t\t\topenEditAddressPopup(addressId){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.schoolArea='';\r\n\t\t\t\t_this.schoolAreaId='';\r\n\t\t\t\t_this.buildName='';\r\n\t\t\t\t_this.buildId='';\r\n\t\t\t\t\r\n\t\t\t\t_this.addAddressTit='修改地址';\r\n\t\t\t\t_this.addAddressPopup=true;\r\n\t\t\t\t_this.addressId=addressId;\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/get',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    addressId:addressId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('地址详情',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.userName=data.data.data.contact;//姓名\r\n\t\t\t\t\t\t_this.sex=data.data.data.sex==1?'男':'女';//姓名\r\n\t\t\t\t\t\t_this.userPhone=data.data.data.phone;//手机号\r\n\t\t\t\t\t\t_this.detailAddress=data.data.data.address;//详细地址\r\n\t\t\t\t\t\t_this.schoolAreaId=data.data.data.cAreaId;//校区id\r\n\t\t\t\t\t\t_this.schoolArea=data.data.data.cAreaName;//校区\r\n\t\t\t\t\t\t_this.buildId=data.data.data.buildId;//楼宇id\r\n\t\t\t\t\t\t_this.buildName=data.data.data.buildName;//楼宇\r\n\t\t\t\t\t\t_this.setDefaultAdd=data.data.data.defaultAddress==1?true:false;//是否设为默认地址\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.getBuild(data.data.data.cAreaId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取商家信息\r\n\t\t\tgetSellerInfo(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/get',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:_this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('商家信息',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime1){data.data.data.businessBeginTime1=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime1){data.data.data.businessEndTime1=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime2){data.data.data.businessBeginTime2=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime2){data.data.data.businessEndTime2=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessBeginTime3){data.data.data.businessBeginTime3=''}\r\n\t\t\t\t\t\tif(!data.data.data.businessEndTime3){data.data.data.businessEndTime3=''}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.sellerName=data.data.data.sellerName;//商家负责人\r\n\t\t\t\t\t\t_this.sellerPhone=data.data.data.phone;//商家电话\r\n\t\t\t\t\t\t_this.winAddress=data.data.data.addr;//商家地址\r\n\t\t\t\t\t\t_this.sellerOpenTime=data.data.data.businessBeginTime1+'-'+data.data.data.businessEndTime1+' '+data.data.data.businessBeginTime2+'-'+data.data.data.businessEndTime2+' '+data.data.data.businessBeginTime3+'-'+data.data.data.businessEndTime3;//商家营业时间\r\n\t\t\t\t\t\t_this.fullAddress=data.data.data.winFullAddr\r\n\t\t\t\t\t\t//窗口头像 \r\n\t\t\t\t\t\tif(data.data.data.windowPic){\r\n\t\t\t\t\t\t\t_this.winPic=sellerPort+data.data.data.windowPic;\r\n\t\t\t\t\t\t\t_this.winSplitImg=data.data.data.windowPic;//不带前缀的窗口图片\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.winPic='./static/images/icon/default1.png';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 收货地址返回\r\n\t\t\treceiveAddressBack(){\r\n\t\t\t\tthis.selectAddressPopupShow=false;\r\n\t\t\t\tif(this.checkAddress!=''){\r\n\t\t\t\t\tvar addressSplit=this.checkAddress.split(',');//勾选的地址转为数组：addressSplit[0]:姓名，addressSplit[1]:电话，addressSplit[2]:地址\r\n\t\t\t\t\tthis.wsName=addressSplit[0];//外送姓名\r\n\t\t\t\t\tthis.wsPhone=addressSplit[1];//外送电话\r\n\t\t\t\t\tthis.wsAddress=addressSplit[2];//外送地址\r\n\t\t\t\t\tthis.wsSex=addressSplit[3]==1?'（男）':'（女）';//外送人性别\r\n\t\t\t\t\tthis.buildId=addressSplit[4];//建筑id\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('收货地址返回',this.checkAddress)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查询单位区域\r\n\t\t\tgetSchoolArea(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/queryCompanyArea',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('所有校区',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.selectAreaAction=[];\r\n\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t_this.selectAreaAction.push({name:data.data.data[i].optionText,id:data.data.data[i].optionId})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 选择校区时查询楼宇\r\n\t\t\tonSelectAreaAction(e){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.buildName='';\r\n\t\t\t\t_this.buildId='';\r\n\t\t\t\t_this.selectBuildAction=[];\r\n\t\t\t\t_this.schoolAreaId=e.id;\r\n\t\t\t\t_this.schoolArea=e.name;\r\n\t\t\t\tconsole.log('选择的区域',e)\r\n\t\t\t\t\r\n\t\t\t\t_this.getBuild(e.id);\r\n\t\t\t},\r\n\t\t\t// 查询楼宇\r\n\t\t\tgetBuild(id){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t// 查询楼宇\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/queryBuild',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cAreaId:id\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('该区域所有楼宇',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length==0){\r\n\t\t\t\t\t\t\t_this.$toast('该区域内没有楼宇信息')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.selectBuildAction=[];\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\t_this.selectBuildAction.push({name:data.data.data[i].optionText,id:data.data.data[i].optionId})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 选择楼宇\r\n\t\t\tonSelectBuildAction(e){\r\n\t\t\t\tconsole.log('选择的楼宇',e)\r\n\t\t\t\tthis.buildName=e.name;\r\n\t\t\t\tthis.buildId=e.id;\r\n\t\t\t},\r\n\t\t\t// 点击外送时间确定获取选中时间\r\n\t\t\tgetWsTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.wsTimePopup=false\r\n\t\t\t\tthis.wsTime=e\r\n\t\t\t},\r\n\t\t\t// 点击自提时间确定获取选中时间\r\n\t\t\tgetZtTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.ztTimePopup=false\r\n\t\t\t\tthis.ztTime=e;\r\n\t\t\t},\r\n\t\t\t// 点击到店用餐确定获取选中时间\r\n\t\t\tgetDdTime(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.ddTimePopup=false\r\n\t\t\t\tthis.ddTime=e;\r\n\t\t\t},\r\n\t\t\t// 获取收货地址\r\n\t\t\tgetAddress(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/deliveryAddress/query',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t\tpersonId:JSON.parse(localStorage.getItem('userInfo')).pId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length<=0){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.allAddresArr=data.data.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('收货地址',data);\r\n\t\t\t\t\t\tfor (var i=0;i<_this.allAddresArr.length;i++) {\r\n\t\t\t\t\t\t\tif(_this.allAddresArr[i].defaultAddress==1){\r\n\t\t\t\t\t\t\t\t_this.wsName=_this.allAddresArr[i].contact;//设置默认地址的姓名\r\n\t\t\t\t\t\t\t\t_this.wsPhone=_this.allAddresArr[i].phone;//设置默认地址的电话\r\n\t\t\t\t\t\t\t\t_this.buildId=_this.allAddresArr[i].buildId;//设置默认地址的建筑id\r\n\t\t\t\t\t\t\t\t_this.wsSex=_this.allAddresArr[i].sex==1?'（男）':'（女）';//设置默认地址的性别\r\n\t\t\t\t\t\t\t\t_this.wsAddress=_this.allAddresArr[i].cAreaName+_this.allAddresArr[i].buildName+_this.allAddresArr[i].address;//设置默认地址的地址\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t_this.allAddresArr[0].defaultAddress==1\r\n\t\t\t\t\t\t\t\t_this.wsName=_this.allAddresArr[0].contact;//设置默认地址的姓名\r\n\t\t\t\t\t\t\t\t_this.wsPhone=_this.allAddresArr[0].phone;//设置默认地址的电话\r\n\t\t\t\t\t\t\t\t_this.buildId=_this.allAddresArr[0].buildId;//设置默认地址的建筑id\r\n\t\t\t\t\t\t\t\t_this.wsSex=_this.allAddresArr[0].sex==1?'（男）':'（女）';//设置默认地址的性别\r\n\t\t\t\t\t\t\t\t_this.wsAddress=_this.allAddresArr[0].cAreaName+_this.allAddresArr[0].buildName+_this.allAddresArr[0].address;//设置默认地址的地址\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(data.data.status==600||data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('获取地址失败');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 保存地址\r\n\t\t\tsaveAddress(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar userInfo=JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\t\t\r\n\t\t\t\tif(_this.userName==''){\r\n\t\t\t\t\t_this.$toast('请输入姓名');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.userPhone==''){\r\n\t\t\t\t\t_this.$toast('请输入手机号');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!phongReg.test(_this.userPhone)){\r\n\t\t\t\t\t_this.$toast('手机号格式错误');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.schoolArea==''){\r\n\t\t\t\t\t_this.$toast('请选择校区');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.buildName==''){\r\n\t\t\t\t\t_this.$toast('请选择楼宇');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t// 新增地址\r\n\t\t\t\tif(_this.addAddressTit=='新增地址'){\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url: port+'/v1/deliveryAddress/insert',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  timeout: 10000,\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\t\tcontact:_this.userName,//姓名\r\n\t\t\t\t\t\tsex:_this.sex=='男'?1:2,//性别1男2女\r\n\t\t\t\t\t\tphone:_this.userPhone,//手机号\r\n\t\t\t\t\t\tcId:userInfo.cId,//单位id\r\n\t\t\t\t\t\tcAreaId:_this.schoolAreaId,//区域id\r\n\t\t\t\t\t\tbuildId:_this.buildId,//楼宇id\r\n\t\t\t\t\t\taddress :_this.detailAddress,//详细地址\r\n\t\t\t\t\t\tdefaultAddress:_this.setDefaultAdd==true?'1':'0',//是否是默认地址0不是1是\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\tconsole.log('修改地址',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t\t_this.getAddress();\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.addAddressPopup=false;\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\t_this.$toast('保存失败，服务错误');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 修改地址\r\n\t\t\t\tif(_this.addAddressTit=='修改地址'){\r\n\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t  method: 'put',\r\n\t\t\t\t\t  url: port+'/v1/deliveryAddress/update',\r\n\t\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t\t  params: {\r\n\t\t\t\t\t\taddressId:_this.addressId,\r\n\t\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\t\tcontact:_this.userName,//姓名\r\n\t\t\t\t\t\tsex:_this.sex=='男'?1:2,//性别1男2女\r\n\t\t\t\t\t\tphone:_this.userPhone,//手机号\r\n\t\t\t\t\t\tcId:userInfo.cId,//单位id\r\n\t\t\t\t\t\tcAreaId:_this.schoolAreaId,//区域id\r\n\t\t\t\t\t\tbuildId:_this.buildId,//楼宇id\r\n\t\t\t\t\t\taddress :_this.detailAddress,//详细地址\r\n\t\t\t\t\t\tdefaultAddress:_this.setDefaultAdd==true?'1':'0',//是否是默认地址0不是1是\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}).then(function(data){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\tconsole.log('保存地址',data)\r\n\t\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t\t_this.getAddress();\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.addAddressPopup=false;\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\t\t_this.$toast('保存失败，服务错误');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 打开选择地址popup\r\n\t\t\topenSelectAddressPopup(){\r\n\t\t\t\tthis.selectAddressPopupShow=true;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 提交订单\r\n\t\t\tsubmitOrder(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar resultOrder=[];//最终生成的订单\r\n\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\t\r\n\t\t\t\t// if(!JSON.parse(localStorage.getItem('userInfo')).wxPayUrl){\r\n\t\t\t\t// \t_this.$toast('当前未配置微信付款地址，请线下支付');\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\tvar userInfo=JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\t\tvar name='';//联系人\r\n\t\t\t\tvar sex='';//性别\r\n\t\t\t\tvar phone='';//电话\r\n\t\t\t\tvar address='';//地址\r\n\t\t\t\tvar orderTime='';//配送时间/取餐时间/用餐时间\r\n\t\t\t\t\r\n\t\t\t\tif(_this.orderWay==''){\r\n\t\t\t\t\t_this.$toast('请选择订餐方式');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 不同用餐方式提交订单，共用字段设置\r\n\t\t\t\tif(_this.orderWay=='外送'){\r\n\t\t\t\t\tname=_this.wsName;\r\n\t\t\t\t\tsex=_this.wsSex=='（男）'?1:2;\r\n\t\t\t\t\tphone=_this.wsPhone;\r\n\t\t\t\t\taddress=_this.wsAddress;\r\n\t\t\t\t\torderTime=_this.wsTime;//外送时间\r\n\t\t\t\t\tif(_this.wsAddress==''){\r\n\t\t\t\t\t\t_this.$toast('请选择外送地址');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(_this.wsTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择外送时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.orderWay=='自提'){\r\n\t\t\t\t\t_this.buildId='';\r\n\t\t\t\t\tname=_this.ztName;\r\n\t\t\t\t\tsex=userInfo.pSex=='男'?1:2;\r\n\t\t\t\t\tphone=_this.ztPhone;\r\n\t\t\t\t\taddress=_this.fullAddress;\r\n\t\t\t\t\torderTime=_this.ztTime;//自提时间\r\n\t\t\t\t\tif(_this.ztTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择自提时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.orderWay=='到店用餐'){\r\n\t\t\t\t\t_this.buildId='';\r\n\t\t\t\t\tname=_this.ztName;\r\n\t\t\t\t\tsex=userInfo.pSex=='男'?1:2;\r\n\t\t\t\t\tphone=_this.ztPhone;\r\n\t\t\t\t\taddress=_this.fullAddress;\r\n\t\t\t\t\torderTime=_this.ddTime;//自提时间\r\n\t\t\t\t\tif(_this.ddTime==''){\r\n\t\t\t\t\t\t_this.$toast('请选择用餐时间');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor (var i=0;i<_this.myOrder.length;i++) {\r\n\t\t\t\t\tresultOrder.push({\r\n\t\t\t\t\t\tgId:_this.myOrder[i].gId,\r\n\t\t\t\t\t\tamount:_this.myOrder[i].gPrice*_this.myOrder[i].goodsNum,//单个商品总价=单价*数量\r\n\t\t\t\t\t\tbuyCounter:_this.myOrder[i].goodsNum,//购买数量\r\n\t\t\t\t\t\tgDescribe:_this.myOrder[i].gDescribe,//商品描述\r\n\t\t\t\t\t\tgKindName:_this.myOrder[i].gKindName,//商品类别名称\r\n\t\t\t\t\t\tgName:_this.myOrder[i].gName,//商品名称\r\n\t\t\t\t\t\tgNo:_this.myOrder[i].gNo,//商品编号\r\n\t\t\t\t\t\tgPic:_this.myOrder[i].gPic,//商品图片\r\n\t\t\t\t\t\tgPrice:_this.myOrder[i].gPrice,//商品价格\r\n\t\t\t\t\t\tgProperties:_this.myOrder[i].gProperties,//商品属性\r\n\t\t\t\t\t\tgUnit:_this.myOrder[i].gUnit,//商品计量单位\r\n\t\t\t\t\t\tgGreenFee:_this.myOrder[i].gGreenFee==null?0:_this.myOrder[i].gGreenFee,//环保费\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_this.myOrder[i].amount=_this.myOrder[i].gPrice*_this.myOrder[i].gPrice.goodsNum;//单个商品总价=单价*数量\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('提交订单>>>','订餐方式：',_this.orderWay,'，提交订单：',resultOrder,'备注：',_this.orderRemark);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('单位id',userInfo.cId)\r\n\t\t\t\tconsole.log('用户id',userInfo.pId)\r\n\t\t\t\tconsole.log('商家id',_this.$route.query.sellerId)\r\n\t\t\t\tconsole.log('商家窗口地址',_this.winAddress)\r\n\t\t\t\tconsole.log('商家窗口名称',_this.$route.query.winName)\r\n\t\t\t\tconsole.log('总金额',_this.goodsTotal)\r\n\t\t\t\tconsole.log('配送费',parseFloat(_this.$route.query.deliveryFee))\r\n\t\t\t\tconsole.log('备注',_this.orderRemark)\r\n\t\t\t\tconsole.log('配送地址所属的建筑id',_this.buildId)\r\n\t\t\t\tconsole.log('订单',resultOrder)\r\n\t\t\t\tconsole.log('用餐方式',_this.orderWay=='外送'?2:_this.orderWay=='自提'?1:3)\r\n\t\t\t\tconsole.log('联系人',name)\r\n\t\t\t\tconsole.log('性别',sex)\r\n\t\t\t\tconsole.log('电话',phone)\r\n\t\t\t\tconsole.log('配送详细地址',address)\r\n\t\t\t\tconsole.log('配送时间/取餐时间/用餐时间',orderTime)\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '提交中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'post',\r\n\t\t\t\t  url: port+'/v1/order/insert',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token'),'content-type':'application/json'},\r\n\t\t\t\t  data:resultOrder,//订单主体\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:userInfo.cId,//单位id\r\n\t\t\t\t    personId:userInfo.pId,//用户id\r\n\t\t\t\t\tsellerId:_this.$route.query.sellerId,//商家id\r\n\t\t\t\t\tsellerWinAddress:_this.winAddress,//商家窗口地址\r\n\t\t\t\t\tsellerWinName:_this.$route.query.winName,//商家窗口名称\r\n\t\t\t\t\ttotalAmount:_this.goodsTotal+parseFloat(_this.$route.query.deliveryFee)+_this.greenMoney,//总金额\r\n\t\t\t\t\tdeliveryFee:parseFloat(_this.$route.query.deliveryFee),//配送费\r\n\t\t\t\t\tremark:_this.orderRemark,//备注\r\n\t\t\t\t\tsellerWinFullAddress:_this.fullAddress,//商家窗口全地址 _this.fullAddress\r\n\t\t\t\t\ttoBuildId:_this.buildId,//配送地址所属的建筑id\r\n\t\t\t\t\tmealMode:_this.orderWay=='外送'?2:_this.orderWay=='自提'?1:3,//用餐方式1自提2配送3进店用餐\r\n\t\t\t\t\tcontact:name,//联系人\r\n\t\t\t\t\tsex:sex,//性别\r\n\t\t\t\t\tphone:phone,//电话\r\n\t\t\t\t\taddress:address,//配送详细地址（自提、到店用餐）\r\n\t\t\t\t\tarrivalTime:orderTime,//配送时间/取餐时间/用餐时间\r\n\t\t\t\t\tpicUrl:_this.winSplitImg,//窗口图片\r\n\t\t\t\t\tsellerPhone:_this.sellerPhone,//商家短话\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('提交订单',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.$toast('已提交');\r\n\t\t\t\t\t\t_this.payOrderNum=data.data.data;//订单编号\r\n\t\t\t\t\t\t_this.getOrderDetail(_this.payOrderNum);\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.payPopup=true;//打开支付popup\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('提交失败');\r\n\t\t\t\t\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\r\n\t\t\t// 打开订餐方式ActionSheet \r\n\t\t\topenOrderWay(){\r\n\t\t\t\tif(this.orderWayActions.length==0){\r\n\t\t\t\t\tthis.$toast('商家未设置订餐方式');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderWayshow=true\r\n\t\t\t},\r\n\t\t\t// 选择用餐方式\r\n\t\t\tonSelectOrderWay(item) {\r\n\t\t\t\tconsole.log(item.name)\r\n\t\t\t\tif(item.name=='外送'){\r\n\t\t\t\t\tthis.wsShow=true;\r\n\t\t\t\t\tthis.ztShow=false;\r\n\t\t\t\t\tthis.ddycShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tif(item.name=='自提'){\r\n\t\t\t\t\tthis.wsShow=false;\r\n\t\t\t\t\tthis.ztShow=true;\r\n\t\t\t\t\tthis.ddycShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tif(item.name=='到店用餐'){\r\n\t\t\t\t\tthis.wsShow=false;\r\n\t\t\t\t\tthis.ztShow=false;\r\n\t\t\t\t\tthis.ddycShow=true;\r\n\t\t\t\t}\r\n\t\t\t     this.orderWay=item.name\r\n\t\t\t},\r\n\t\t\t// 计算总价\r\n\t\t\tcountTotalPrice(){\r\n\t\t\t\tvar count=0;//局部变量总价\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.goodsList.forEach(function(a,i){\r\n\t\t\t\t\tcount+=a.goodsNum*a.gPrice;\r\n\t\t\t\t})\r\n\t\t\t\t_this.goodsTotal=parseFloat(count);\r\n\t\t\t\tconsole.log(_this.goodsTotal)\r\n\t\t\t},\r\n\t\t\t// 商品加\r\n\t\t\taddGoods(item,e,itemCounter){\r\n\t\t\t\tconsole.log(itemCounter)\r\n\t\t\t\t// console.log(e.target)//获取点击的this元素\r\n\t\t\t\tvar ball=this.parabolic();\r\n\t\t\t\t\r\n\t\t\t\t// 商品数量最多为100\r\n\t\t\t\t\tif(itemCounter<100){\r\n\t\t\t\t\t\titem.goodsNum>=100?100:item.goodsNum++;\r\n\t\t\t\t\t\tif(e){\r\n\t\t\t\t\t\t\tball(e.target);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.shopCarGoodsNum++\r\n\t\t\t\t\t\tthis.countTotalPrice();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 商品减\r\n\t\t\tminGoods(item){\r\n\t\t\t\titem.goodsNum<=0?0:item.goodsNum--;\r\n\t\t\t\tthis.shopCarGoodsNum--\r\n\t\t\t\tif(this.shopCarGoodsNum<=0){\r\n\t\t\t\t\tthis.ShopDetailShow=false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.countTotalPrice();\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\tlogIn() {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t//判断输入框是否为空\r\n\t\t\t\tif(_this.loginName==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入用户名\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.loginPassword==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入密码\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar load = _this.$toast.loading({\r\n\t\t\t\t\tmessage: '登录中...',\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: port + '/v1/person/doLogin',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tusername : _this.loginName,\r\n\t\t\t\t\t\tpassword :_this.loginPassword,\r\n\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(data) {\r\n\t\t\t\t\tconsole.log('登录', data)\r\n\t\t\t\t\tif(data.data.status==200){\r\n\t\t\t\t\t\tload.clear();\r\n\t\t\t\t\t\t_this.$toast(\"登录成功\");\r\n\t\t\t\t\t\tlocalStorage.setItem('userLogin',true)\r\n\t\t\t\t\t\tlocalStorage.setItem('token',data.data.data)\r\n\t\t\t\t\t\t// 获取登录人信息\r\n\t\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\t\turl: port + '/v1/person/getPersonInfo',\r\n\t\t\t\t\t\t\theaders:{'token':data.data.data},\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\ttoken : data.data.data,\r\n\t\t\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(function(data1) {\r\n\t\t\t\t\t\t\tconsole.log('获取登录人信息', data1)\r\n\t\t\t\t\t\t\tif(data1.data.status==200){\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('userInfo',JSON.stringify(data1.data.data))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\t\t\t\t_this.myOrder=[];\r\n\t\t\t\t\t\t\t_this.loginPopup=false;//关闭登录popup\r\n\t\t\t\t\t\t\t_this.goodsOrderShow=true;//打开提交订单popup\r\n\t\t\t\t\t\t\t_this.getAddress();//获取收货地址\r\n\t\t\t\t\t\t\tfor(var i=0;i<_this.goodsList.length;i++){\r\n\t\t\t\t\t\t\t\tif(_this.goodsList[i].gGreenFee==null){\r\n\t\t\t\t\t\t\t\t\t_this.goodsList[i].gGreenFee=0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(_this.goodsList[i].goodsNum>0){\r\n\t\t\t\t\t\t\t\t\t_this.myOrder.push(_this.goodsList[i])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 计算每个商品的环保费\r\n\t\t\t\t\t\t\tfor (var i=0;i<_this.myOrder.length;i++) {\r\n\t\t\t\t\t\t\t\tgreenMoney+=parseFloat(_this.myOrder[i].goodsNum*_this.myOrder[i].gGreenFee)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.greenMoney=greenMoney;\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 去结算\r\n\t\t\tgoAccount(){\r\n\t\t\t\tvar greenMoney=0;//环保费\r\n\t\t\t\tthis.myOrder=[];\r\n\t\t\t\t\r\n\t\t\t\tif(this.$route.query.winState==1){\r\n\t\t\t\t\tthis.$toast('休息中');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// 如果商品数量为0\r\n\t\t\t\tif(this.goodsTotal<=0){\r\n\t\t\t\t\tthis.$toast('请添加菜品');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=0;i<this.goodsList.length;i++){\r\n\t\t\t\t\tif(this.goodsList[i].goodsNum>=1){\r\n\t\t\t\t\t\tif(!(this.goodsList[i].gSellMin<=this.goodsList[i].goodsNum)){\r\n\t\t\t\t\t\t\tconsole.log(this.goodsList)\r\n\t\t\t\t\t\t\tthis.$toast(this.goodsList[i].gName+'最小购买数量为'+this.goodsList[i].gSellMin)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.goodsList[i].gGreenFee==null){\r\n\t\t\t\t\t\tthis.goodsList[i].gGreenFee=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.goodsList[i].goodsNum>0){\r\n\t\t\t\t\t\tthis.myOrder.push(this.goodsList[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 如果没登录，去登录\r\n\t\t\t\tif(!isLogin()){\r\n\t\t\t\t\tthis.loginPopup=true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 计算每个商品的环保费\r\n\t\t\t\tfor (var i=0;i<this.myOrder.length;i++) {\r\n\t\t\t\t\tgreenMoney+=parseFloat(this.myOrder[i].goodsNum*this.myOrder[i].gGreenFee)\r\n\t\t\t\t}\r\n\t\t\t\tthis.greenMoney=greenMoney;\r\n\t\t\t\t\r\n\t\t\t\tthis.getAddress();//获取收货地址\r\n\t\t\t\tthis.goodsOrderShow=true;//打开提交订单popup\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//点击购物车打开购物车详情\r\n\t\t\topenShopCar(){\r\n\t\t\t\tif(!this.shopCarGoodsNum<=0){\r\n\t\t\t\t\tthis.ShopDetailShow=true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开窗口照片\r\n\t\t\topenMclz(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getMclz()\r\n\t\t\t},\r\n\t\t\t// 打开资质证照\r\n\t\t\topenZz(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getZzzz()\r\n\t\t\t},\r\n\t\t\t// 打开健康证\r\n\t\t\topenHealth(e){\r\n\t\t\t\t//设置共用的证件照popup标题 \r\n\t\t\t\tthis.idCardPhotoTit=e.target.innerText;\r\n\t\t\t\tthis.idCardPhotoPopup=true;\r\n\t\t\t\tthis.getHealthy();\r\n\t\t\t},\r\n\t\t\t// 预览商家证件照大图\r\n\t\t\tprevIdPhone(index){\r\n\t\t\t\tvar imgArr=[];\r\n\t\t\t\tfor (var i=0;i<this.idCardPhotoList.length;i++) {\r\n\t\t\t\t\timgArr.push(this.idCardPhotoList[i].picUrl)\r\n\t\t\t\t}\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tconsole.log(imgArr)\r\n\t\t\t\tImagePreview({\r\n\t\t\t\t  images: imgArr,\r\n\t\t\t\t  startPosition: index,\r\n\t\t\t\t  loop:false,\r\n\t\t\t\t  onClose() {\r\n\t\t\t\t    // do something\r\n\t\t\t\t  },\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 商品、评价、商家tab切换\r\n\t\t\tgoodsTypeTab(e){\r\n\t\t\t\tthis.num=e.target.dataset.num;\r\n\t\t\t\t\r\n\t\t\t\tif(this.num==2){\r\n\t\t\t\t\tpageNum=1;\r\n\t\t\t\t\tthis.sellerAssess=[];\r\n\t\t\t\t\tthis.getSellerAssess(pageNum);//获取商家评价\r\n\t\t\t\t}\r\n\t\t\t\tif(this.num==3){\r\n\t\t\t\t\tthis.getSellerInfo();//获取商家信息\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 查询窗口照片\r\n\t\t\tgetMclz(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/querySellerPic',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('窗口照片',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 查询资质证照\r\n\t\t\tgetZzzz(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/queryPaper',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('资质证照',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查询员工健康证\r\n\t\t\tgetHealthy(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/seller/queryEmployee',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('员工健康证',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif(data.data.data.length>=0){\r\n\t\t\t\t\t\t\tfor (var i=0;i<data.data.data.length;i++) {\r\n\t\t\t\t\t\t\t\tdata.data.data[i].picUrl=sellerPort+data.data.data[i].picUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.idCardPhotoList=data.data.data;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 商品类别切换\r\n\t\t\ttypeTab(event){\r\n\t\t\t\tvar ele=event.target.dataset.goodstype//获取点击id，\r\n\t\t\t\tthis.typeNum=event.target.dataset.type;//tab切换\r\n\t\t\t\tdocument.querySelector('#'+ele).scrollIntoView({behavior: \"smooth\"});//点击分类，找到对应的id元素滚动到可视区域内\r\n\t\t\t},\r\n\r\n\t\t\t//获取商品分类、商品分类对应的列表\r\n\t\t\tgetGoodsType(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t\r\n\t\t\t\t_this.goodsList=[];\r\n\t\t\t\t_this.goodsTypeArr=[];\r\n\t\t\t\t\r\n\t\t\t\tvar load=_this.$toast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  duration:0,\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/ordermeal/queryGoodsKindBySellerId',\r\n\t\t\t\t  params: {\r\n\t\t\t\t    sellerId:this.$route.query.sellerId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tload.clear();//关闭加载\r\n\t\t\t\t\tconsole.log('所有商品',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\tif (data.data.data.length>0) {\r\n\t\t\t\t\t\t\t_this.goodsTypeArr=data.data.data;\r\n\t\t\t\t\t\t\tfor(var i=0;i<_this.goodsTypeArr.length;i++){\r\n\t\t\t\t\t\t\t\tfor(var j=0;j<_this.goodsTypeArr[i].goodsList.length;j++){\r\n\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].goodsNum=0\r\n\t\t\t\t\t\t\t\t\tif(!_this.goodsTypeArr[i].goodsList[j].gPic){\r\n\t\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].gPic='./static/images/icon/default1.png'//如果当前菜品没有图片，则设置默认图\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t_this.goodsTypeArr[i].goodsList[j].gPic=sellerPort+_this.goodsTypeArr[i].goodsList[j].gPic\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_this.goodsList.push(_this.goodsTypeArr[i].goodsList[j])//把商品分类里的商品列表抽出来\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log('商品类别',_this.goodsTypeArr);\r\n\t\t\t\t\t\t\tconsole.log('所有商品列表',_this.goodsList)\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t_this.$toast('暂无商品信息');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('登录过期，请重新登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 清空购物车\r\n\t\t\tclearShopCar(){\r\n\t\t\t\tthis.getGoodsType();\r\n\t\t\t\tthis.typeNum=0;//商品类别切换\r\n\t\t\t\tthis.shopCarGoodsNum=0;//购物差角标归零\r\n\t\t\t\tthis.goodsTotal=0;//总价归零\r\n\t\t\t\tthis.ShopDetailShow=false;//关闭购物车详情\r\n\t\t\t\tconsole.log('清空购物车',this.goodsList)\r\n\t\t\t},\r\n\t\t\t// 获取微信付款地址\r\n\t\t\tgetWeXinPayAdd(){\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'get',\r\n\t\t\t\t  url: port+'/v1/order/getWXPayUrl',\r\n\t\t\t\t  headers:{'token':localStorage.getItem('token')},\r\n\t\t\t\t  params: {\r\n\t\t\t\t    cId:JSON.parse(localStorage.getItem('userInfo')).cId\r\n\t\t\t\t  }\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tconsole.log('获取微信付款地址',data)\r\n\t\t\t\t\tif (data.data.status==200) {\r\n\t\t\t\t\t\t_this.weXinPayUrl=data.data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600){\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.data.status==600||data.data.status==601||data.data.status==602||data.data.status==603){\r\n\t\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t_this.$toast('请登录');\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t_this.$router.push({'path':'/login'})\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcreated:function(){\r\n\t\t\t\r\n\t\t\tconsole.log('窗口状态',this.$route.query.winState)\r\n\t\t\t\r\n\t\t\tconsole.log('分数',this.$route.query.starScore)\r\n\t\t\tthis.getSellerInfo();//获取商家\r\n\t\t\t// this.getWeXinPayAdd();//获取微信付款地址\r\n\t\t\tvar _this=this;\r\n\t\t\t_this.winHeight=document.documentElement.clientHeight;//窗口高度\r\n\t\t\t\r\n\t\t\t// 遍历传递过来的用餐方式\r\n\t\t\tif(_this.$route.query.deliveryMode){\r\n\t\t\t\tfor (var i=0;i<_this.$route.query.deliveryMode.length;i++) {\r\n\t\t\t\t\t_this.orderWayActions.push({name:_this.$route.query.deliveryMode[i]=='1'?'外送':_this.$route.query.deliveryMode[i]=='2'?'自提':'到店用餐'})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 用餐方式\r\n\t\t\tvar wayArr=[];\r\n\t\t\tfor (var i=0;i<_this.orderWayActions.length;i++) {\r\n\t\t\t\twayArr.push(_this.orderWayActions[i].name);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(wayArr.indexOf('外送')!=-1){\r\n\t\t\t\t_this.wsShow=true;\r\n\t\t\t\t_this.orderWay='外送';\r\n\t\t\t}else if(wayArr.indexOf('自提')!=-1){\r\n\t\t\t\t_this.ztShow=true;\r\n\t\t\t\t_this.orderWay='自提';\r\n\t\t\t}else if(wayArr.indexOf('到店用餐')!=-1){\r\n\t\t\t\t_this.ddycShow=true;\r\n\t\t\t\t_this.orderWay='到店用餐';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log('用餐方式',wayArr)\r\n\t\t\t\r\n\t\t\t// _this.getAddress();//获取收货地址\r\n\t\t\t_this.getGoodsType();//商品类别\r\n\t\t}\r\n\t};\r\n</script>\r\n<style type=\"text/css\">\r\n.win-detail-top{background: #fff;background: #fff;margin: 10px;padding: 10px;padding-right: 75px;position: relative;border-radius: 6px;}\r\n.win-detail-top .win-name{font-size: 16px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;margin-bottom: 4px;}\r\n.win-detail-top .win-img{position: absolute;width: 60px;height: 60px;right: 10px;top: 10px;}\r\n.win-detail-top .sell-num span{margin-left: 4px;color: #666;font-size: 13px;}\r\n.win-detail-top .send-price{margin: 4px 0;}\r\n.win-detail-top .send-price,.win-detail-top .win-tips{font-size: 13px;color: #999;}\r\n.win-detail-top .win-tips .iconfont{color: #F4BE42;margin-right: 6px;}\r\n\r\n.goods-type-wrap{background: #fff;}\r\n.goods-type-wrap .goods-type-tab{border-bottom: 1px solid #eee;}\r\n.goods-type-wrap .goods-type-tab a{color: #333;margin-right: 20px;padding: 10px;display: inline-block;}\r\n.goods-type-wrap .goods-type-tab a.active{font-weight: bold;position: relative;}\r\n.goods-type-wrap .goods-type-tab a.active::after{content: '';position: absolute;width: 100%;height: 3px;background: #F4BE42;left: 50%;bottom: 0;transform: translateX(-50%);}\r\n.goods-type-main .goodst-type-item{display: none;overflow-y: auto;-webkit-overflow-scrolling: touch;}\r\n.goods-type-main .goodst-type-item.show{display: block;}\r\n.goods-type-wrap{margin: 10px;}\r\n\r\n.goods-type-left{overflow-y: auto;width: 100px;box-sizing: border-box;border-right: 1px solid #eee;-webkit-overflow-scrolling: touch;float: left;}\r\n.goods-type-left li{text-align: center;padding: 10px 0;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;color: #333;}\r\n.goods-type-left li.active{background: #F8F8F8;font-weight: bold;}\r\n.goods-type-right{margin-left: 100px;padding: 10px;box-sizing: border-box;-webkit-overflow-scrolling: touch;overflow-y: auto;}\r\n\r\n.goods-list{overflow: hidden;-webkit-overflow-scrolling: touch;}\r\n.goods-list .goods-img{width: 70px;height: 70px;float: left;margin-right: 10px;position: relative;}\r\n.goods-list .goods-img img{width: 70px;height: 70px;}\r\n.goods-list p{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}\r\n.goods-list .goods-name{font-size: 14px;font-weight: bold;margin-bottom: 4px;}\r\n.goods-list .sell-num{color: #999;}\r\n.goods-list .goods-price{color: #EA4646;font-weight: bold;margin-top: 5px;position: relative;padding-right: 70px;}\r\n.goods-list li{position: relative;overflow: hidden;margin-bottom: 10px;}\r\n.p-goods-tit{margin-bottom: 10px;}\r\n\r\n.counter{position: absolute;width: 70px;overflow: hidden;right: 0;top: 0;height: 20px;}\r\n.counter span{width: 20px;height: 20px;border-radius: 50%;line-height: 20px;font-size: 12px;}\r\n.counter span.min{border: 1px solid #ddd;left: 0;}\r\n.counter span.add{background: #F4BE42;right: 0;}\r\n.counter span,.counter input{width: 20px;box-sizing: border-box;color: #333;text-align: center;height: 20px;position: absolute;}\r\n.counter input{border: none;font-weight: normal;left: 25px;}\r\n\r\n.shop-car{padding: 10px;box-sizing: border-box;position: fixed;width: 100%;left: 0;bottom: 0;box-sizing: border-box;}\r\n.shop-car .shop-car-main{padding-right: 80px;background: #0C0C0C;position: relative;height: 45px;border-radius: 100px;overflow: hidden;padding-left: 75px;}\r\n.shop-car-count-btn{position: absolute;height: 45px;right: 0;top: 0;background: #F4BE42;color: #333;font-weight: bold;line-height: 45px;width: 80px;text-align: center;}\r\n.shop-car-qs-tip{position: absolute;height: 45px;right: 0;top: 0;color: #333;font-weight: bold;line-height: 45px;padding: 0 10px;}\r\n.shop-car-count-btn:active{opacity: .9;}\r\n.shop-car-icon{position: absolute;width: 45px;height: 45px;left: 15px;top: 0;color: #fff;text-align: center;line-height: 45px;font-size: 26px;color: #F4BE42;}\r\n.shop-tag{position: absolute;right: 0;top: 0;}\r\n.shop-car-info{color: #fff;font-size: 12px;}\r\n.shop-car-info .shop-car-price{font-size: 15px;font-weight: bold;margin: 2px 0;}\r\n\r\n.score-top{padding: 15px;border-bottom: 1px solid #eee;}\r\n.score-tip{color: #999;text-align: right;}\r\n.score-num{font-size: 20px;font-weight: bold;margin-right: 10px;vertical-align: text-bottom;color: #F4BE42;}\r\n.dis-list li{position: relative;border-bottom: 1px solid #eee;padding: 10px 10px 10px 60px;min-height: 40px;}\r\n.dis-list li .head-img{position: absolute;width: 40px;height: 40px;left: 10px;top: 10px;border-radius: 50%;}\r\n.dis-user-name{display: flex;justify-content: space-between;}\r\n.dis-remark{font-size: 12px;color: #999;}\r\n.dis-user-name .dis-name{font-size: 15px;margin-bottom: 10px;}\r\n.dis-user-name .dis-date{font-size: 12px;color: #999;}\r\n.dis-score{color: #999;font-size: 12px;margin: 5px 0;}\r\n.dis-score span{vertical-align: super;}\r\n.seller-info-top{padding: 10px 15px;}\r\n.seller-info-top p{font-size: 12px;margin: 4px 0;}\r\n.seller-info-top .tit{font-size: 15px;font-weight: bold;margin-bottom: 10px;}\r\n\r\n.shop-car-detail{position: relative;box-sizing: border-box;padding: 10;}\r\n.shop-car-detail-tit{display: flex;justify-content: space-between;}\r\n.shop-car-detail-tit span{display: block;padding: 10px;}\r\n.goods-list.shop-car-list{height: 260px;overflow-y: auto;margin: 0 10px;}\r\n.goods-list.shop-car-list .goods-name{margin-bottom: 26px;}\r\n\r\n.address-list{padding: 10px;}\r\n.address-list li{position: relative;border-bottom: 1px solid #eee;padding: 10px 40px;}\r\n.edit-add{position: absolute;width: 40px;height: 40px;text-align: center;line-height: 40px;right: 0;top: 10px;}\r\n.address-list input[name='selectAddRadio']{position: absolute;-webkit-appearance: none;width: 20px;height: 20px;border: 1px solid #F4BE42;box-sizing: border-box;left: 0;top: 18px;border-radius: 50%;}\r\n.address-list input[name='selectAddRadio']:checked::after{position: absolute;width: 14px;height: 14px;background-color: #F4BE42;content: '';border-radius: 50%;left: 2px;top: 2px;}\r\n\r\n.zizhi-photo-wrap ul{overflow: hidden;margin: 5px;}\r\n.zizhi-photo-wrap li{width: 50%;float: left;padding: 5px;box-sizing: border-box;}\r\n.zizhi-photo-wrap .zizhi-img{height: 120px;background-position: center center;background-size: cover;background-repeat: no-repeat;}\r\n.zizhi-photo-wrap .zanwu{text-align: center;margin: 15px;}\r\n\r\n.pay-wrap{background: #fff;padding: 10px;margin: 10px;text-align: center;border-radius: 6px;}\r\n.pay-wrap p{color: #A3A3A3;margin: 10px 0;}\r\n.pay-wrap p.pay-total{font-size: 30px;color: #333;font-weight: bold;}\r\n.pay-btn{position: absolute;width: 100%;background-color: #F4BE42;left: 0;bottom: 0;text-align: center;padding: 13px 0;}\r\n.pay-btn:active{opacity: .9;color: #333;}\r\n.pay-way{margin: 10px;border-radius: 6px;overflow: hidden;font-size: 16px;}\r\n\r\n#ball{width:10px;height:10px;background: #F4BE42;border-radius: 50%;position: fixed;z-index: 2;bottom: 60px;left: 60px;}\r\n.open-time-cell{flex: none;font-size: 13px;}\r\n.g-tag{position: absolute;right: 0;top: 0;}\r\n\r\n.login {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t}\r\n\r\n\t.bg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.bg img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.bg-food {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t}\r\n\r\n\t.bg-food img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.content {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 2;\r\n\t\tpadding: 0 20px;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 30px;\r\n\t\tfont-weight: 400;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 116px;\r\n\t\tmargin-bottom: 60px;\r\n\r\n\t}\r\n\r\n\t.confirm {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 20px;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 35px;\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\t.confirm-btn {\r\n\t\tbackground: #F4BE42;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 20px;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.input-box {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n\r\n\t.input-item {\r\n\t\tcolor: #FFFFFF;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground:#898482;\t\t\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-bottom: 20px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.input-item img {\r\n\t\twidth:24px;\r\n\t\theight: 24px;\t\r\n\t\tmargin:0 12px;\r\n\t\tmargin-right: 0;\r\n\t}\r\n\r\n\t.login-input {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n</style>"]}]}