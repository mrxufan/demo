{"remainingRequest":"G:\\dingCanMobile\\node_modules\\thread-loader\\dist\\cjs.js!G:\\dingCanMobile\\node_modules\\babel-loader\\lib\\index.js!G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\dingCanMobile\\src\\views\\logIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\dingCanMobile\\src\\views\\logIn.vue","mtime":1592794548029},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1587343592953},{"path":"G:\\dingCanMobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1587344995501},{"path":"G:\\dingCanMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587344699430},{"path":"G:\\dingCanMobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1587344054728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTmFtZTogIiIsCiAgICAgIHBhc3NXb3JkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeZu+W9lQogICAgbG9nSW46IGZ1bmN0aW9uIGxvZ0luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvL+WIpOaWrei+k+WFpeahhuaYr+WQpuS4uuepugoKCiAgICAgIGlmIChfdGhpcy51c2VyTmFtZSA9PSAiIikgewogICAgICAgIF90aGlzLiR0b2FzdCgi6K+36L6T5YWl55So5oi35ZCNIik7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKF90aGlzLnBhc3NXb3JkID09ICIiKSB7CiAgICAgICAgX3RoaXMuJHRvYXN0KCLor7fovpPlhaXlr4bnoIEiKTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhfdGhpcy51c2VyTmFtZSk7CiAgICAgIGNvbnNvbGUubG9nKF90aGlzLnBhc3NXb3JkKTsKCiAgICAgIHZhciBsb2FkID0gX3RoaXMuJHRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXkuK0uLi4nLAogICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgIH0pOwoKICAgICAgX3RoaXMuJGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICB1cmw6IHBvcnQgKyAnL3YxL3BlcnNvbi9kb0xvZ2luJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXJuYW1lOiBfdGhpcy51c2VyTmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzV29yZCwKICAgICAgICAgIGNJZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndW5pdEluZm8nKSkuY0lkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+eZu+W9lScsIGRhdGEpOwoKICAgICAgICBpZiAoZGF0YS5kYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGxvYWQuY2xlYXIoKTsKCiAgICAgICAgICBfdGhpcy4kdG9hc3QoIueZu+W9leaIkOWKnyIpOwoKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyTG9naW4nLCB0cnVlKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEuZGF0YS5kYXRhKTsgLy8g6I635Y+W55m75b2V5Lq65L+h5oGvCgogICAgICAgICAgX3RoaXMuJGF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgdXJsOiBwb3J0ICsgJy92MS9wZXJzb24vZ2V0UGVyc29uSW5mbycsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAndG9rZW4nOiBkYXRhLmRhdGEuZGF0YQogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICB0b2tlbjogZGF0YS5kYXRhLmRhdGEsCiAgICAgICAgICAgICAgY0lkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1bml0SW5mbycpKS5jSWQKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YTEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPlueZu+W9leS6uuS/oeaBrycsIGRhdGExKTsKCiAgICAgICAgICAgIGlmIChkYXRhMS5kYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShkYXRhMS5kYXRhLmRhdGEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICcvaW5kZXgnLAogICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBjSWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjSWQnKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KGRhdGEuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9Cn07"},{"version":3,"sources":["logIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"login\">\r\n\t\t<div class=\"bg\"><img src=\"../assets/login/login-bg.png\" alt=\"\"></div>\r\n\t\t<div class=\"bg-food\"><img src=\"../assets/login/login-bgfood.png\" alt=\"\"></div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"title\">\r\n\t\t\t\t<p>网上订餐</p>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t<img src=\"../assets/login/username.png\" alt=\"\">\r\n\t\t\t\t\t<van-field class=\"login-input\" v-model=\"userName\"  placeholder=\"用户名\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"input-item\">\r\n\t\t\t\t\t<img src=\"../assets/login/password.png\" alt=\"\">\r\n\t\t\t\t\t<van-field class=\"login-input\" v-model=\"passWord\" type=\"password\"  placeholder=\"密码\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"confirm\">\r\n\t\t\t\t<van-button color=\"#F4BE42\" type=\"primary\" block @click=\"logIn()\">登录</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\t\r\n\texport default {\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tuserName:\"\",\r\n\t\t\t\tpassWord:\"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 登录\r\n\t\t\tlogIn() {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t//判断输入框是否为空\r\n\t\t\t\tif(_this.userName==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入用户名\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(_this.passWord==\"\"){\r\n\t\t\t\t\t_this.$toast(\"请输入密码\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(_this.userName)\r\n\t\t\t\tconsole.log(_this.passWord)\r\n\t\t\t\tvar load = _this.$toast.loading({\r\n\t\t\t\t\tmessage: '登录中...',\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: port + '/v1/person/doLogin',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tusername : _this.userName,\r\n\t\t\t\t\t\tpassword :_this.passWord,\r\n\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(data) {\r\n\t\t\t\t\tconsole.log('登录', data)\r\n\t\t\t\t\tif(data.data.status==200){\r\n\t\t\t\t\t\tload.clear();\r\n\t\t\t\t\t\t_this.$toast(\"登录成功\");\r\n\t\t\t\t\t\tlocalStorage.setItem('userLogin',true)\r\n\t\t\t\t\t\tlocalStorage.setItem('token',data.data.data)\r\n\t\t\t\t\t\t// 获取登录人信息\r\n\t\t\t\t\t\t_this.$axios({\r\n\t\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\t\turl: port + '/v1/person/getPersonInfo',\r\n\t\t\t\t\t\t\theaders:{'token':data.data.data},\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\ttoken : data.data.data,\r\n\t\t\t\t\t\t\t\tcId:JSON.parse(localStorage.getItem('unitInfo')).cId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(function(data1) {\r\n\t\t\t\t\t\t\tconsole.log('获取登录人信息', data1)\r\n\t\t\t\t\t\t\tif(data1.data.status==200){\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem('userInfo',JSON.stringify(data1.data.data))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t_this.$router.push({path:'/index',query:{cId:localStorage.getItem('cId')}})\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$toast(data.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function() {\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcreated: function() {\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n</script>\r\n<style scoped=\"scoped\" type=\"text/css\">\r\nhtml,body{height: 100%;}\r\n\t.login {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t}\r\n\r\n\t.bg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.bg img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.bg-food {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t}\r\n\r\n\t.bg-food img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: inherit;\r\n\t}\r\n\r\n\t.content {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 2;\r\n\t\tpadding: 0 20px;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 30px;\r\n\t\tfont-family: FZZongYi-M05S;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: white;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 116px;\r\n\t\tmargin-bottom: 60px;\r\n\r\n\t}\r\n\r\n\t.confirm {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 20px;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 35px;\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\t.confirm-btn {\r\n\t\tbackground: #F4BE42;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 20px;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.input-box {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n\r\n\t.input-item {\r\n\t\tcolor: #FFFFFF;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground:#898482;\t\t\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-bottom: 20px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.input-item img {\r\n\t\twidth:24px;\r\n\t\theight: 24px;\t\r\n\t\tmargin:0 12px;\r\n\t\tmargin-right: 0;\r\n\t}\r\n\r\n\t.login-input {\r\n\t\tbackground: #898482;\t\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}